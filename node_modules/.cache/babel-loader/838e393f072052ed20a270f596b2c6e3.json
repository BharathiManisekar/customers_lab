{"ast":null,"code":"var _jsxFileName = \"/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/internal/ViewNotesModal/index.js\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Drawer } from \"@material-ui/core\";\nimport theme from \"../../../assets/theme\";\nimport COLORS from \"../../../assets/Colors\";\nimport { getErrorMessage, parseTimeStamp } from \"../../../helpers/functions\";\nimport { useSnackbar } from \"notistack\";\nimport useLoader from \"../../../hooks/useLoader\";\nimport CaseService from \"../../../services/CaseService\";\nimport moment from \"moment\";\nimport MoreOrLess from \"../../common/MoreOrLess\";\nimport { CustomInputField } from \"../../common/FormInputs\";\nimport { PrimaryCTAButton } from \"../../common/Buttons\";\nimport _ from \"lodash\";\nimport queryString from \"query-string\";\nexport default function ViewNotesModal({\n  modal,\n  setModal,\n  id,\n  type = \"Mediator\",\n  disabled = false\n}) {\n  const [notes, setNotes] = useState([]);\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const {\n    setLoader\n  } = useLoader();\n  const [note, setNote] = useState(\"\");\n  const ref = useRef();\n\n  const addNotes = async value => {\n    try {\n      setLoader({\n        state: true,\n        message: \"Adding notes...\"\n      });\n      const payload = {\n        content: value\n      };\n      const res = await CaseService.addNotes(payload, id);\n\n      if (res === null || res === void 0 ? void 0 : res.message) {\n        enqueueSnackbar(res === null || res === void 0 ? void 0 : res.message, {\n          variant: \"success\"\n        });\n        notes.unshift(res === null || res === void 0 ? void 0 : res.newNote);\n        setNote(\"\");\n        ref.current.scrollTop = 0;\n      }\n    } catch (error) {\n      const message = getErrorMessage(error);\n      enqueueSnackbar(message, {\n        variant: \"error\"\n      });\n    } finally {\n      setLoader({\n        state: false\n      });\n    }\n  };\n\n  useEffect(() => {\n    async function getAllNotes(id) {\n      try {\n        var _res$data;\n\n        setLoader({\n          state: true,\n          message: \"loading Notes...\"\n        });\n        let params = {\n          page: 1,\n          perPage: 1000\n        };\n        let stringParams = \"\";\n\n        if (!_.isEmpty(params)) {\n          stringParams = `?${queryString.stringify(params)}`;\n        }\n\n        const res = await CaseService.getNotes(id, stringParams);\n\n        if (res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.length) {\n          setNotes(res === null || res === void 0 ? void 0 : res.data);\n        }\n      } catch (error) {\n        const message = getErrorMessage(error);\n        enqueueSnackbar(message, {\n          variant: \"error\"\n        });\n      } finally {\n        setLoader({\n          state: false\n        });\n      }\n    }\n\n    if (id && modal) {\n      getAllNotes(id);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [id, modal]);\n  return /*#__PURE__*/React.createElement(Drawer, {\n    anchor: \"right\",\n    open: modal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DrawerContainer, {\n    role: \"presentation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(HeadingContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, type, \" Scratch Pad\"), /*#__PURE__*/React.createElement(CloseModal, {\n    onClick: () => setModal(false),\n    src: require(\"../../../assets/images/closeModal.svg\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(NoteContainer, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, (notes === null || notes === void 0 ? void 0 : notes.length) > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, notes === null || notes === void 0 ? void 0 : notes.map(note => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"note\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"time\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 19\n    }\n  }, moment(parseTimeStamp(note === null || note === void 0 ? void 0 : note.created_at)).format(\"DD/MM/yyyy\"), \" \", \"AT\", \" \", moment(parseTimeStamp(note === null || note === void 0 ? void 0 : note.created_at)).format(\"hh:mm a\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(MoreOrLess, {\n    Paragraph: /*#__PURE__*/React.createElement(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: note === null || note === void 0 ? void 0 : note.content\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 44\n      }\n    }),\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }))))) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignContent: \"center\",\n      height: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(EmptyMsg, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 15\n    }\n  }, \"There are no notes added yet.\"))), /*#__PURE__*/React.createElement(EditorContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"70%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CustomInputField, {\n    variant: \"outlined\",\n    className: \"input-height-auto\",\n    style: {\n      marginTop: 6\n    },\n    multiline: true,\n    rows: 5,\n    placeholder: \"Type something here\\u2026\",\n    maxRows: 5,\n    name: \"note\",\n    value: note,\n    onChange: e => setNote(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"30%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(PrimaryCTAButton, {\n    style: {\n      width: 115\n    },\n    onClick: () => addNotes(note),\n    disabled: !(note === null || note === void 0 ? void 0 : note.trim()),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, \"Add Note\")))));\n}\nconst DrawerContainer = styled.div`\n  width: 100vw;\n  height: 100%;\n  background-color: white;\n  outline: none;\n  @media (min-width: 640px) {\n    width: 618px;\n  }\n`;\nconst EditorContainer = styled.div`\n  position: absolute;\n  display: flex;\n  align-items: center;\n  background-color: ${COLORS.ADD_NOTE_TEXT_AREA};\n  bottom: 0px;\n  width: 100%;\n  & .MuiOutlinedInput-notchedOutline {\n    border: none !important;\n  }\n  & .MuiOutlinedInput-multiline {\n    background-color: transparent !important;\n    padding: 10px 30px !important;\n  }\n`;\nconst HeadingContainer = styled.div`\n  padding-top: 30px;\n  padding-bottom: 20px;\n  padding-left: 38px;\n  display: flex;\n  /* justify-content: center; */\n  align-items: center;\n  position: relative;\n  border-bottom: 1px solid ${COLORS.INPUT_BORDER};\n`;\nconst CloseModal = styled.img`\n  width: 14px;\n  height: 14px;\n  object-fit: contain;\n  cursor: pointer;\n  position: absolute;\n  right: 30px;\n`;\nconst Heading = styled.h3`\n  margin: 0;\n  padding: 0;\n  font-size: 18px;\n  font-weight: 800;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  text-align: center;\n  color: ${COLORS.COLOR_DARK};\n  font-family: ${theme.fonts.primaryFontExtraBold};\n`;\nconst NoteContainer = styled.div`\n  padding: 30px;\n  overflow: auto;\n  height: calc(100% - 210px);\n  & .note {\n    margin: 15px 0px;\n    & .time {\n      font-family: ${theme.fonts.primaryFontSemiBold};\n      font-size: 10px;\n      font-weight: 600;\n      line-height: 1.7;\n      color: ${COLORS.INPUT_LABEL};\n    }\n    & .content {\n      font-family: ${theme.fonts.primaryFontSemiBold};\n      font-size: 14px;\n      font-weight: 600;\n      line-height: 1.71;\n      color: ${COLORS.COLOR_DARK};\n      word-break: break-word;\n      & .readMoreText {\n        color: ${COLORS === null || COLORS === void 0 ? void 0 : COLORS.BTN_GREEN} !important;\n      }\n    }\n  }\n`;\nconst EmptyMsg = styled.div`\n  color: ${COLORS.COLOR_DARK};\n  font-weight: 500;\n  letter-spacing: 0.1px;\n  font-size: 24px;\n  margin: 20px 0px;\n  font-family: ${theme.fonts.primaryFontBold};\n  text-align: center;\n`;","map":{"version":3,"sources":["/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/internal/ViewNotesModal/index.js"],"names":["React","useEffect","useRef","useState","styled","Drawer","theme","COLORS","getErrorMessage","parseTimeStamp","useSnackbar","useLoader","CaseService","moment","MoreOrLess","CustomInputField","PrimaryCTAButton","_","queryString","ViewNotesModal","modal","setModal","id","type","disabled","notes","setNotes","enqueueSnackbar","setLoader","note","setNote","ref","addNotes","value","state","message","payload","content","res","variant","unshift","newNote","current","scrollTop","error","getAllNotes","params","page","perPage","stringParams","isEmpty","stringify","getNotes","data","length","require","map","created_at","format","__html","display","justifyContent","alignContent","height","width","marginTop","e","target","trim","DrawerContainer","div","EditorContainer","ADD_NOTE_TEXT_AREA","HeadingContainer","INPUT_BORDER","CloseModal","img","Heading","h3","COLOR_DARK","fonts","primaryFontExtraBold","NoteContainer","primaryFontSemiBold","INPUT_LABEL","BTN_GREEN","EmptyMsg","primaryFontBold"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Drawer } from \"@material-ui/core\";\nimport theme from \"../../../assets/theme\";\nimport COLORS from \"../../../assets/Colors\";\nimport { getErrorMessage, parseTimeStamp } from \"../../../helpers/functions\";\nimport { useSnackbar } from \"notistack\";\nimport useLoader from \"../../../hooks/useLoader\";\nimport CaseService from \"../../../services/CaseService\";\nimport moment from \"moment\";\nimport MoreOrLess from \"../../common/MoreOrLess\";\nimport { CustomInputField } from \"../../common/FormInputs\";\nimport { PrimaryCTAButton } from \"../../common/Buttons\";\nimport _ from \"lodash\";\nimport queryString from \"query-string\";\n\nexport default function ViewNotesModal({\n  modal,\n  setModal,\n  id,\n  type = \"Mediator\",\n  disabled = false,\n}) {\n  const [notes, setNotes] = useState([]);\n  const { enqueueSnackbar } = useSnackbar();\n  const { setLoader } = useLoader();\n  const [note, setNote] = useState(\"\");\n  const ref = useRef();\n\n  const addNotes = async (value) => {\n    try {\n      setLoader({ state: true, message: \"Adding notes...\" });\n      const payload = {\n        content: value,\n      };\n      const res = await CaseService.addNotes(payload, id);\n      if (res?.message) {\n        enqueueSnackbar(res?.message, {\n          variant: \"success\",\n        });\n        notes.unshift(res?.newNote);\n        setNote(\"\");\n        ref.current.scrollTop = 0;\n      }\n    } catch (error) {\n      const message = getErrorMessage(error);\n      enqueueSnackbar(message, {\n        variant: \"error\",\n      });\n    } finally {\n      setLoader({ state: false });\n    }\n  };\n\n  useEffect(() => {\n    async function getAllNotes(id) {\n      try {\n        setLoader({ state: true, message: \"loading Notes...\" });\n        let params = {\n          page: 1,\n          perPage: 1000,\n        };\n        let stringParams = \"\";\n        if (!_.isEmpty(params)) {\n          stringParams = `?${queryString.stringify(params)}`;\n        }\n        const res = await CaseService.getNotes(id, stringParams);\n        if (res?.data?.length) {\n          setNotes(res?.data);\n        }\n      } catch (error) {\n        const message = getErrorMessage(error);\n        enqueueSnackbar(message, {\n          variant: \"error\",\n        });\n      } finally {\n        setLoader({ state: false });\n      }\n    }\n    if (id && modal) {\n      getAllNotes(id);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id, modal]);\n\n  return (\n    <Drawer anchor={\"right\"} open={modal}>\n      <DrawerContainer role=\"presentation\">\n        <HeadingContainer>\n          <Heading>{type} Scratch Pad</Heading>\n          <CloseModal\n            onClick={() => setModal(false)}\n            src={require(\"../../../assets/images/closeModal.svg\")}\n          />\n        </HeadingContainer>\n        <NoteContainer ref={ref}>\n          {notes?.length > 0 ? (\n            <div>\n              {notes?.map((note) => (\n                <div className=\"note\">\n                  <div className=\"time\">\n                    {moment(parseTimeStamp(note?.created_at)).format(\n                      \"DD/MM/yyyy\"\n                    )}{\" \"}\n                    AT{\" \"}\n                    {moment(parseTimeStamp(note?.created_at)).format(\"hh:mm a\")}\n                  </div>\n                  <div className=\"content\">\n                    <MoreOrLess Paragraph={<div dangerouslySetInnerHTML={{__html: note?.content}}></div>} className=\"content\" />\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignContent: \"center\",\n                height: \"100%\",\n              }}\n            >\n              <EmptyMsg>There are no notes added yet.</EmptyMsg>\n            </div>\n          )}\n        </NoteContainer>\n        <EditorContainer>\n          <div style={{ width: \"70%\" }}>\n            <CustomInputField\n              variant=\"outlined\"\n              className={\"input-height-auto\"}\n              style={{ marginTop: 6 }}\n              multiline={true}\n              rows={5}\n              placeholder=\"Type something here…\"\n              maxRows={5}\n              name={\"note\"}\n              value={note}\n              onChange={(e) => setNote(e.target.value)}\n            />\n          </div>\n          <div style={{ width: \"30%\" }}>\n            <PrimaryCTAButton\n              style={{ width: 115 }}\n              onClick={() => addNotes(note)}\n              disabled={!note?.trim()}\n            >\n              Add Note\n            </PrimaryCTAButton>\n          </div>\n        </EditorContainer>\n      </DrawerContainer>\n    </Drawer>\n  );\n}\n\nconst DrawerContainer = styled.div`\n  width: 100vw;\n  height: 100%;\n  background-color: white;\n  outline: none;\n  @media (min-width: 640px) {\n    width: 618px;\n  }\n`;\n\nconst EditorContainer = styled.div`\n  position: absolute;\n  display: flex;\n  align-items: center;\n  background-color: ${COLORS.ADD_NOTE_TEXT_AREA};\n  bottom: 0px;\n  width: 100%;\n  & .MuiOutlinedInput-notchedOutline {\n    border: none !important;\n  }\n  & .MuiOutlinedInput-multiline {\n    background-color: transparent !important;\n    padding: 10px 30px !important;\n  }\n`;\n\nconst HeadingContainer = styled.div`\n  padding-top: 30px;\n  padding-bottom: 20px;\n  padding-left: 38px;\n  display: flex;\n  /* justify-content: center; */\n  align-items: center;\n  position: relative;\n  border-bottom: 1px solid ${COLORS.INPUT_BORDER};\n`;\n\nconst CloseModal = styled.img`\n  width: 14px;\n  height: 14px;\n  object-fit: contain;\n  cursor: pointer;\n  position: absolute;\n  right: 30px;\n`;\n\nconst Heading = styled.h3`\n  margin: 0;\n  padding: 0;\n  font-size: 18px;\n  font-weight: 800;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  text-align: center;\n  color: ${COLORS.COLOR_DARK};\n  font-family: ${theme.fonts.primaryFontExtraBold};\n`;\n\nconst NoteContainer = styled.div`\n  padding: 30px;\n  overflow: auto;\n  height: calc(100% - 210px);\n  & .note {\n    margin: 15px 0px;\n    & .time {\n      font-family: ${theme.fonts.primaryFontSemiBold};\n      font-size: 10px;\n      font-weight: 600;\n      line-height: 1.7;\n      color: ${COLORS.INPUT_LABEL};\n    }\n    & .content {\n      font-family: ${theme.fonts.primaryFontSemiBold};\n      font-size: 14px;\n      font-weight: 600;\n      line-height: 1.71;\n      color: ${COLORS.COLOR_DARK};\n      word-break: break-word;\n      & .readMoreText {\n        color: ${COLORS?.BTN_GREEN} !important;\n      }\n    }\n  }\n`;\n\nconst EmptyMsg = styled.div`\n  color: ${COLORS.COLOR_DARK};\n  font-weight: 500;\n  letter-spacing: 0.1px;\n  font-size: 24px;\n  margin: 20px 0px;\n  font-family: ${theme.fonts.primaryFontBold};\n  text-align: center;\n`;\n"]},"metadata":{},"sourceType":"module"}