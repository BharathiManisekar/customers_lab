{"ast":null,"code":"import useUser from \"./useUser\";\nimport { useEffect } from \"react\";\nimport { navigate, useLocation } from \"@reach/router\";\nimport { checkKeys } from \"../helpers/functions\";\nimport _ from \"lodash\";\nconst EXCLUDE_URL = [\"welcome\", \"create-profile\"];\nexport default function useIfLoggedIn() {\n  const {\n    userObject,\n    setUserObject\n  } = useUser();\n  const location = useLocation();\n  const token = localStorage.getItem(\"auth_token\");\n  useEffect(() => {\n    if (!_.isEmpty(userObject) && userObject.emailVerified && !checkKeys(userObject) && !EXCLUDE_URL.some(path => {\n      var _location$pathname;\n\n      return location === null || location === void 0 ? void 0 : (_location$pathname = location.pathname) === null || _location$pathname === void 0 ? void 0 : _location$pathname.includes(path);\n    })) {\n      if (token) {\n        navigate(\"/dashboard\");\n      } else {\n        setUserObject({});\n      }\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [userObject]);\n}","map":{"version":3,"sources":["/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/hooks/useIfLoggedIn.js"],"names":["useUser","useEffect","navigate","useLocation","checkKeys","_","EXCLUDE_URL","useIfLoggedIn","userObject","setUserObject","location","token","localStorage","getItem","isEmpty","emailVerified","some","path","pathname","includes"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,WAApB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,eAAtC;AACA,SAASC,SAAT,QAA0B,sBAA1B;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,MAAMC,WAAW,GAAG,CAAC,SAAD,EAAY,gBAAZ,CAApB;AAEA,eAAe,SAASC,aAAT,GAAyB;AACtC,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA;AAAd,MAAgCT,OAAO,EAA7C;AACA,QAAMU,QAAQ,GAAGP,WAAW,EAA5B;AACA,QAAMQ,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAd;AAEAZ,EAAAA,SAAS,CAAC,MAAM;AACd,QACE,CAACI,CAAC,CAACS,OAAF,CAAUN,UAAV,CAAD,IACAA,UAAU,CAACO,aADX,IAEA,CAACX,SAAS,CAACI,UAAD,CAFV,IAGA,CAACF,WAAW,CAACU,IAAZ,CAAkBC,IAAD;AAAA;;AAAA,aAAUP,QAAV,aAAUA,QAAV,6CAAUA,QAAQ,CAAEQ,QAApB,uDAAU,mBAAoBC,QAApB,CAA6BF,IAA7B,CAAV;AAAA,KAAjB,CAJH,EAKE;AACA,UAAIN,KAAJ,EAAW;AACTT,QAAAA,QAAQ,CAAC,YAAD,CAAR;AACD,OAFD,MAEO;AACLO,QAAAA,aAAa,CAAC,EAAD,CAAb;AACD;AACF,KAZa,CAad;;AACD,GAdQ,EAcN,CAACD,UAAD,CAdM,CAAT;AAeD","sourcesContent":["import useUser from \"./useUser\";\nimport { useEffect } from \"react\";\nimport { navigate, useLocation } from \"@reach/router\";\nimport { checkKeys } from \"../helpers/functions\";\nimport _ from \"lodash\";\n\nconst EXCLUDE_URL = [\"welcome\", \"create-profile\"];\n\nexport default function useIfLoggedIn() {\n  const { userObject, setUserObject } = useUser();\n  const location = useLocation();\n  const token = localStorage.getItem(\"auth_token\");\n\n  useEffect(() => {\n    if (\n      !_.isEmpty(userObject) &&\n      userObject.emailVerified &&\n      !checkKeys(userObject) &&\n      !EXCLUDE_URL.some((path) => location?.pathname?.includes(path))\n    ) {\n      if (token) {\n        navigate(\"/dashboard\");\n      } else {\n        setUserObject({});\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [userObject]);\n}\n"]},"metadata":{},"sourceType":"module"}