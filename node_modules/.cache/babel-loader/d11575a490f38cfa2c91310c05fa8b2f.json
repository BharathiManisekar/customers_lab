{"ast":null,"code":"var _jsxFileName = \"/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/common/Signup/SignUpWithGoogle.js\";\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React from \"react\";\nimport { Header3, HeadingContainer, CardWrapper, ContentContainer } from \"../../../styles/component/style\";\nimport { PrimaryCTAButton } from \"../Buttons\";\nimport { Formik } from \"formik\";\nimport { signupWithGoogle } from \"../../../helpers/validationSchema\";\nimport FormField from \"../FormField/FormField\";\nimport _ from \"lodash\";\nimport AuthService from \"../../../services/AuthService\";\nimport { useSnackbar } from \"notistack\";\nimport { navigate } from \"@reach/router\";\nimport { getErrorMessage } from \"../../../helpers/functions\";\nimport useLoader from \"../../../hooks/useLoader\";\nimport labels from \"../../../helpers/labels.json\";\nexport const SignupwithGoogle = ({\n  heading = \"Enter Phone Number\",\n  inputs = [],\n  submitLabel = labels[\"proceed\"],\n  disableSubmit = false,\n  location\n}) => {\n  var _state$payload;\n\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const {\n    setLoader\n  } = useLoader();\n  const {\n    state\n  } = location;\n\n  async function onFormSubmit(values) {\n    try {\n      var _state$profileObj, _state$profileObj2;\n\n      setLoader({\n        state: true,\n        message: \"Please wait...\"\n      });\n\n      let payload = _.pick(values, [\"mobile\"]);\n\n      payload.email = state === null || state === void 0 ? void 0 : (_state$profileObj = state.profileObj) === null || _state$profileObj === void 0 ? void 0 : _state$profileObj.email;\n      payload.name = state === null || state === void 0 ? void 0 : (_state$profileObj2 = state.profileObj) === null || _state$profileObj2 === void 0 ? void 0 : _state$profileObj2.name;\n      const response = await AuthService.verifications(payload);\n\n      if (response) {\n        enqueueSnackbar(\"OTP Sent Successfully\", {\n          variant: \"success\"\n        });\n        navigate(\"/otp\", {\n          state: {\n            payload,\n            values,\n            idToken: state === null || state === void 0 ? void 0 : state.idToken,\n            profileObj: state === null || state === void 0 ? void 0 : state.profileObj\n          }\n        });\n      }\n\n      console.log(response);\n    } catch (error) {\n      const message = getErrorMessage(error);\n      enqueueSnackbar(message, {\n        variant: \"error\"\n      });\n    } finally {\n      setLoader({\n        state: false\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      mobile: (state === null || state === void 0 ? void 0 : (_state$payload = state.payload) === null || _state$payload === void 0 ? void 0 : _state$payload.mobile) || \"\"\n    },\n    enableReinitialize: true,\n    onSubmit: onFormSubmit,\n    validationSchema: signupWithGoogle,\n    validateOnBlur: true,\n    validateOnChange: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, ({\n    values,\n    handleChange,\n    errors,\n    handleSubmit,\n    touched,\n    handleBlur,\n    setFieldValue\n  }) => /*#__PURE__*/React.createElement(CardWrapper, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(HeadingContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Header3, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, heading)), /*#__PURE__*/React.createElement(ContentContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, inputs.map((input, index) => {\n    return /*#__PURE__*/React.createElement(FormField, {\n      key: index,\n      touched,\n      errors,\n      input,\n      values,\n      handleChange,\n      handleBlur,\n      setFieldValue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    });\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pt20 pb10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(PrimaryCTAButton, {\n    type: \"submit\",\n    onClick: handleSubmit,\n    disabled: disableSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, submitLabel))));\n};","map":{"version":3,"sources":["/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/common/Signup/SignUpWithGoogle.js"],"names":["React","Header3","HeadingContainer","CardWrapper","ContentContainer","PrimaryCTAButton","Formik","signupWithGoogle","FormField","_","AuthService","useSnackbar","navigate","getErrorMessage","useLoader","labels","SignupwithGoogle","heading","inputs","submitLabel","disableSubmit","location","enqueueSnackbar","setLoader","state","onFormSubmit","values","message","payload","pick","email","profileObj","name","response","verifications","variant","idToken","console","log","error","mobile","handleChange","errors","handleSubmit","touched","handleBlur","setFieldValue","map","input","index"],"mappings":";;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,OADF,EAEEC,gBAFF,EAGEC,WAHF,EAIEC,gBAJF,QAKO,iCALP;AAMA,SAASC,gBAAT,QAAiC,YAAjC;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,SAASC,gBAAT,QAAiC,mCAAjC;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,SAASC,WAAT,QAA4B,WAA5B;AACA,SAASC,QAAT,QAAyB,eAAzB;AACA,SAASC,eAAT,QAAgC,4BAAhC;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AAEA,OAAO,MAAMC,gBAAgB,GAAG,CAAC;AAC/BC,EAAAA,OAAO,GAAG,oBADqB;AAE/BC,EAAAA,MAAM,GAAG,EAFsB;AAG/BC,EAAAA,WAAW,GAAGJ,MAAM,CAAC,SAAD,CAHW;AAI/BK,EAAAA,aAAa,GAAG,KAJe;AAK/BC,EAAAA;AAL+B,CAAD,KAM1B;AAAA;;AACJ,QAAM;AAAEC,IAAAA;AAAF,MAAsBX,WAAW,EAAvC;AACA,QAAM;AAAEY,IAAAA;AAAF,MAAgBT,SAAS,EAA/B;AACA,QAAM;AAAEU,IAAAA;AAAF,MAAYH,QAAlB;;AAEA,iBAAeI,YAAf,CAA4BC,MAA5B,EAAoC;AAClC,QAAI;AAAA;;AACFH,MAAAA,SAAS,CAAC;AAAEC,QAAAA,KAAK,EAAE,IAAT;AAAeG,QAAAA,OAAO,EAAE;AAAxB,OAAD,CAAT;;AACA,UAAIC,OAAO,GAAGnB,CAAC,CAACoB,IAAF,CAAOH,MAAP,EAAe,CAAC,QAAD,CAAf,CAAd;;AACAE,MAAAA,OAAO,CAACE,KAAR,GAAgBN,KAAhB,aAAgBA,KAAhB,4CAAgBA,KAAK,CAAEO,UAAvB,sDAAgB,kBAAmBD,KAAnC;AACAF,MAAAA,OAAO,CAACI,IAAR,GAAeR,KAAf,aAAeA,KAAf,6CAAeA,KAAK,CAAEO,UAAtB,uDAAe,mBAAmBC,IAAlC;AACA,YAAMC,QAAQ,GAAG,MAAMvB,WAAW,CAACwB,aAAZ,CAA0BN,OAA1B,CAAvB;;AACA,UAAIK,QAAJ,EAAc;AACZX,QAAAA,eAAe,CAAC,uBAAD,EAA0B;AACvCa,UAAAA,OAAO,EAAE;AAD8B,SAA1B,CAAf;AAGAvB,QAAAA,QAAQ,CAAC,MAAD,EAAS;AACfY,UAAAA,KAAK,EAAE;AACLI,YAAAA,OADK;AAELF,YAAAA,MAFK;AAGLU,YAAAA,OAAO,EAAEZ,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEY,OAHX;AAILL,YAAAA,UAAU,EAAEP,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEO;AAJd;AADQ,SAAT,CAAR;AAQD;;AACDM,MAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ;AACD,KApBD,CAoBE,OAAOM,KAAP,EAAc;AACd,YAAMZ,OAAO,GAAGd,eAAe,CAAC0B,KAAD,CAA/B;AACAjB,MAAAA,eAAe,CAACK,OAAD,EAAU;AACvBQ,QAAAA,OAAO,EAAE;AADc,OAAV,CAAf;AAGD,KAzBD,SAyBU;AACRZ,MAAAA,SAAS,CAAC;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAAD,CAAT;AACD;AACF;;AAED,sBACE,oBAAC,MAAD;AACE,IAAA,aAAa,EAAE;AACbgB,MAAAA,MAAM,EAAE,CAAAhB,KAAK,SAAL,IAAAA,KAAK,WAAL,8BAAAA,KAAK,CAAEI,OAAP,kEAAgBY,MAAhB,KAA0B;AADrB,KADjB;AAIE,IAAA,kBAAkB,MAJpB;AAKE,IAAA,QAAQ,EAAEf,YALZ;AAME,IAAA,gBAAgB,EAAElB,gBANpB;AAOE,IAAA,cAAc,MAPhB;AAQE,IAAA,gBAAgB,MARlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUG,CAAC;AACAmB,IAAAA,MADA;AAEAe,IAAAA,YAFA;AAGAC,IAAAA,MAHA;AAIAC,IAAAA,YAJA;AAKAC,IAAAA,OALA;AAMAC,IAAAA,UANA;AAOAC,IAAAA;AAPA,GAAD,kBASC,oBAAC,WAAD;AAAa,IAAA,QAAQ,EAAEH,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAU1B,OAAV,CADF,CADF,eAIE,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGC,MAAM,CAAC6B,GAAP,CAAW,CAACC,KAAD,EAAQC,KAAR,KAAkB;AAC5B,wBACE,oBAAC,SAAD;AACE,MAAA,GAAG,EAAEA,KADP;AAGIL,MAAAA,OAHJ;AAIIF,MAAAA,MAJJ;AAKIM,MAAAA,KALJ;AAMItB,MAAAA,MANJ;AAOIe,MAAAA,YAPJ;AAQII,MAAAA,UARJ;AASIC,MAAAA,aATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAcD,GAfA,CADH,CAJF,eAsBE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,gBAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,OAAO,EAAEH,YAFX;AAGE,IAAA,QAAQ,EAAEvB,aAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKGD,WALH,CADF,CAtBF,CAnBJ,CADF;AAuDD,CAjGM","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React from \"react\";\nimport {\n  Header3,\n  HeadingContainer,\n  CardWrapper,\n  ContentContainer,\n} from \"../../../styles/component/style\";\nimport { PrimaryCTAButton } from \"../Buttons\";\nimport { Formik } from \"formik\";\nimport { signupWithGoogle } from \"../../../helpers/validationSchema\";\nimport FormField from \"../FormField/FormField\";\nimport _ from \"lodash\";\nimport AuthService from \"../../../services/AuthService\";\nimport { useSnackbar } from \"notistack\";\nimport { navigate } from \"@reach/router\";\nimport { getErrorMessage } from \"../../../helpers/functions\";\nimport useLoader from \"../../../hooks/useLoader\";\nimport labels from \"../../../helpers/labels.json\";\n\nexport const SignupwithGoogle = ({\n  heading = \"Enter Phone Number\",\n  inputs = [],\n  submitLabel = labels[\"proceed\"],\n  disableSubmit = false,\n  location,\n}) => {\n  const { enqueueSnackbar } = useSnackbar();\n  const { setLoader } = useLoader();\n  const { state } = location;\n\n  async function onFormSubmit(values) {\n    try {\n      setLoader({ state: true, message: \"Please wait...\" });\n      let payload = _.pick(values, [\"mobile\"]);\n      payload.email = state?.profileObj?.email;\n      payload.name = state?.profileObj?.name;\n      const response = await AuthService.verifications(payload);\n      if (response) {\n        enqueueSnackbar(\"OTP Sent Successfully\", {\n          variant: \"success\",\n        });\n        navigate(\"/otp\", {\n          state: {\n            payload,\n            values,\n            idToken: state?.idToken,\n            profileObj: state?.profileObj,\n          },\n        });\n      }\n      console.log(response);\n    } catch (error) {\n      const message = getErrorMessage(error);\n      enqueueSnackbar(message, {\n        variant: \"error\",\n      });\n    } finally {\n      setLoader({ state: false });\n    }\n  }\n\n  return (\n    <Formik\n      initialValues={{\n        mobile: state?.payload?.mobile || \"\",\n      }}\n      enableReinitialize\n      onSubmit={onFormSubmit}\n      validationSchema={signupWithGoogle}\n      validateOnBlur\n      validateOnChange\n    >\n      {({\n        values,\n        handleChange,\n        errors,\n        handleSubmit,\n        touched,\n        handleBlur,\n        setFieldValue,\n      }) => (\n        <CardWrapper onSubmit={handleSubmit}>\n          <HeadingContainer>\n            <Header3>{heading}</Header3>\n          </HeadingContainer>\n          <ContentContainer>\n            {inputs.map((input, index) => {\n              return (\n                <FormField\n                  key={index}\n                  {...{\n                    touched,\n                    errors,\n                    input,\n                    values,\n                    handleChange,\n                    handleBlur,\n                    setFieldValue,\n                  }}\n                />\n              );\n            })}\n          </ContentContainer>\n          <div className=\"pt20 pb10\">\n            <PrimaryCTAButton\n              type=\"submit\"\n              onClick={handleSubmit}\n              disabled={disableSubmit}\n            >\n              {submitLabel}\n            </PrimaryCTAButton>\n          </div>\n        </CardWrapper>\n      )}\n    </Formik>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}