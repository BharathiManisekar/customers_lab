{"ast":null,"code":"var _jsxFileName = \"/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/internal/DrawerTable/index.js\";\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport theme from \"../../../assets/theme\";\nimport COLORS from \"../../../assets/Colors\";\nimport Drawer from \"../../common/Drawer\";\nimport { Heading } from \"../../../styles/component/style\";\nimport CustomTable from \"../../common/CustomTable/CustomTable\";\nimport CaseService from \"../../../services/CaseService\";\nimport moment from \"moment\";\nimport queryString from \"query-string\";\nimport { downloadWithDifferenFileName, getErrorMessage, parseTimeStamp } from \"../../../helpers/functions\";\nimport { useSnackbar } from \"notistack\";\nimport { makeStyles, Tooltip } from \"@material-ui/core\";\nimport Accordion from \"@material-ui/core/ExpansionPanel\";\nimport AccordionSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport AccordionDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport ArbitrationDrawer from \"./ArbitrationDrawer\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport HttpsIcon from \"@material-ui/icons/Https\";\nimport PublicIcon from \"@material-ui/icons/Public\";\nimport { useMediaQuery } from \"@material-ui/core\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport DrawerRecording from \"../ViewRecording/ViewRecording\";\nimport HearingBundles from \"../HearingBundles/index\";\nimport DocTypeChnage from \"../DocumentTypeChange/DocTypeChange\";\nconst docTypes = [{\n  ownerType: \"claimant\",\n  title: \"Claimant Documents\"\n}, {\n  ownerType: \"respondent\",\n  title: \"Respondent Documents\"\n}, {\n  ownerType: \"common\",\n  title: \"Neutral's Documents\"\n}];\n\nasync function getCaseDocument(id, query) {\n  try {\n    const response = await CaseService.getcaseDocuments(id, query);\n    return { ...response\n    };\n  } catch (error) {\n    throw error;\n  }\n}\n\nconst Index = ({\n  state,\n  setState,\n  id,\n  type,\n  agentRole\n}) => {\n  return /*#__PURE__*/React.createElement(Drawer, {\n    state,\n    setState: () => {},\n    label: \"Drawer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    setState,\n    id,\n    type,\n    agentRole,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Index;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"100%\",\n    backgroundColor: \"#f9f9f9\",\n    border: \"solid 0.5px #e1e3ee\",\n    boxShadow: \"none\",\n    margin: \"16px 0px 0px !important\",\n    \"& .MuiIconButton-root\": {\n      padding: 0,\n      marginRight: 15,\n      backgroundColor: \"#fff\"\n    },\n    \"& .MuiSvgIcon-root\": {\n      fill: \"#00838c\"\n    }\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular\n  }\n}));\n\nconst Table = ({\n  setState,\n  id,\n  type,\n  agentRole\n}) => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    style: {\n      marginBottom: \"unset\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"Case Documents\"), /*#__PURE__*/React.createElement(ImageWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: require(\"../../../assets/images/closeModal.svg\"),\n    onClick: () => {\n      setState(false);\n    },\n    alt: \"close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(AccordionContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, docTypes.filter(item => type === \"negotiation\" ? item.ownerType !== \"mediator\" : true).map((item, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableWithAccordion, Object.assign({}, item, {\n    id,\n    setState,\n    agentRole,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  })))), type === \"arbitration\" ? /*#__PURE__*/React.createElement(ArbitrationDrawer, {\n    title: \"Template Agreements and Awards\",\n    id,\n    setState,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }) : \"\", id ? /*#__PURE__*/React.createElement(HearingBundles, {\n    title: \"Hearing Bundles\",\n    id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }) : \"\", type !== \"negotiation\" ? /*#__PURE__*/React.createElement(DrawerRecording, {\n    title: \"View Recordings\",\n    id,\n    setState,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }) : \"\"));\n};\n\nconst TableWithAccordion = ({\n  id,\n  title,\n  ownerType,\n  setState,\n  agentRole\n}) => {\n  const classes = useStyles();\n  const [result, setResult] = useState({});\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const themes = useTheme();\n  const isBigScreen = useMediaQuery(themes.breakpoints.up(780));\n  const columns = [{\n    field: \"id\",\n    title: \"Doc ID\",\n    sorting: false,\n    render: rowData => /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }\n    }, (rowData === null || rowData === void 0 ? void 0 : rowData.visibilityType) === \"me\" ? ownerType === agentRole ? /*#__PURE__*/React.createElement(HttpsIcon, {\n      style: {\n        fontSize: 18,\n        fill: COLORS.COLOR_DARK,\n        position: \"relative\",\n        top: 2,\n        cursor: \"pointer\"\n      },\n      onClick: () => setModal(true) || setDatas(rowData),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    }) : /*#__PURE__*/React.createElement(HttpsIcon, {\n      style: {\n        fontSize: 18,\n        fill: COLORS.COLOR_DARK,\n        position: \"relative\",\n        top: 2,\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }\n    }) : (rowData === null || rowData === void 0 ? void 0 : rowData.visibilityType) === \"others\" ? ownerType === agentRole ? /*#__PURE__*/React.createElement(HttpsLockOpen, {\n      style: {\n        fontSize: 18,\n        fill: COLORS.COLOR_DARK,\n        position: \"relative\",\n        top: 2,\n        cursor: \"pointer\"\n      },\n      onClick: () => setModal(true) || setDatas(rowData),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    }) : ownerType === agentRole ? /*#__PURE__*/React.createElement(HttpsLockOpen, {\n      style: {\n        fontSize: 18,\n        fill: COLORS.COLOR_DARK,\n        position: \"relative\",\n        top: 2,\n        cursor: \"pointer\"\n      },\n      onClick: () => setModal(true) || setDatas(rowData),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }\n    }) : /*#__PURE__*/React.createElement(HttpsLockOpen, {\n      style: {\n        fontSize: 18,\n        fill: COLORS.COLOR_DARK,\n        position: \"relative\",\n        top: 2,\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }\n    }) : ownerType === agentRole ? /*#__PURE__*/React.createElement(PublicIcon, {\n      style: {\n        fontSize: 18,\n        fill: COLORS.COLOR_DARK,\n        position: \"relative\",\n        top: 2,\n        cursor: \"pointer\"\n      },\n      onClick: () => setModal(true) || setDatas(rowData),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 15\n      }\n    }) : /*#__PURE__*/React.createElement(PublicIcon, {\n      style: {\n        fontSize: 18,\n        fill: COLORS.COLOR_DARK,\n        position: \"relative\",\n        top: 2,\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(HyperLink, {\n      onClick: () => {\n        var _rowData$url;\n\n        return downloadWithDifferenFileName((_rowData$url = rowData.url) === null || _rowData$url === void 0 ? void 0 : _rowData$url.url, rowData === null || rowData === void 0 ? void 0 : rowData.name);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }\n    }, rowData.id))),\n    headerStyle: {\n      padding: `12px 16px 12px 45px`\n    },\n    cellStyle: {\n      padding: `12px 16px 12px 16px`\n    }\n  }, {\n    field: \"url\",\n    title: \"Document\",\n    sorting: false,\n    render: rowData => {\n      var _rowData$url2, _rowData$url2$url, _rowData$url3, _rowData$url3$url;\n\n      return /*#__PURE__*/React.createElement(Tooltip, {\n        title: rowData === null || rowData === void 0 ? void 0 : (_rowData$url2 = rowData.url) === null || _rowData$url2 === void 0 ? void 0 : (_rowData$url2$url = _rowData$url2.url) === null || _rowData$url2$url === void 0 ? void 0 : _rowData$url2$url.split(\"/\")[(rowData === null || rowData === void 0 ? void 0 : (_rowData$url3 = rowData.url) === null || _rowData$url3 === void 0 ? void 0 : (_rowData$url3$url = _rowData$url3.url) === null || _rowData$url3$url === void 0 ? void 0 : _rowData$url3$url.split(\"/\").length) - 1],\n        placement: \"top\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(HyperLink, {\n        onClick: () => {\n          var _rowData$url4;\n\n          return downloadWithDifferenFileName((_rowData$url4 = rowData.url) === null || _rowData$url4 === void 0 ? void 0 : _rowData$url4.url, rowData === null || rowData === void 0 ? void 0 : rowData.name);\n        },\n        style: {\n          maxWidth: isBigScreen ? \"150px\" : \"auto\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }\n      }, (rowData === null || rowData === void 0 ? void 0 : rowData.name) || \"-\"));\n    },\n    headerStyle: {\n      padding: `12px 16px`\n    },\n    cellStyle: {\n      padding: `12px 16px`\n    }\n  }, {\n    field: \"owner.name\",\n    title: \"Submitted By\",\n    sorting: false,\n    render: rowData => /*#__PURE__*/React.createElement(StyledTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 26\n      }\n    }, rowData.owner.name),\n    headerStyle: {\n      padding: `12px 16px`\n    },\n    cellStyle: {\n      padding: `12px 16px`\n    }\n  }, {\n    field: \"date\",\n    title: \"Date\",\n    sorting: false,\n    render: rowData => /*#__PURE__*/React.createElement(StyledTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 11\n      }\n    }, rowData.created_at && moment(parseTimeStamp(rowData.created_at)).format(\"DD/MM/YYYY\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 11\n      }\n    }, rowData.created_at && moment(parseTimeStamp(rowData.created_at)).format(\"hh:mm A\"))),\n    headerStyle: {\n      maxWidth: 100,\n      width: 100,\n      padding: `12px 16px`\n    },\n    cellStyle: {\n      maxWidth: 100,\n      width: 100,\n      padding: `12px 16px`\n    }\n  }, {\n    field: \"time\",\n    title: \"Document Type\",\n    sorting: false,\n    render: rowData => {\n      var _rowData$entity, _rowData$url5, _rowData$url6, _rowData$url7, _rowData$url8;\n\n      return (rowData === null || rowData === void 0 ? void 0 : (_rowData$entity = rowData.entity) === null || _rowData$entity === void 0 ? void 0 : _rowData$entity.resolutionKind) === \"arbitration\" ? (rowData === null || rowData === void 0 ? void 0 : (_rowData$url5 = rowData.url) === null || _rowData$url5 === void 0 ? void 0 : _rowData$url5.uploadType) === \"Arbitration Notice\" ? /*#__PURE__*/React.createElement(StyledTitle, {\n        style: {\n          paddingLeft: \"25px\",\n          color: COLORS.BOX_OLIVE\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 13\n        }\n      }, (rowData === null || rowData === void 0 ? void 0 : (_rowData$url6 = rowData.url) === null || _rowData$url6 === void 0 ? void 0 : _rowData$url6.uploadType) || \"other\") : /*#__PURE__*/React.createElement(DocTypeChnage, {\n        rowData,\n        setState,\n        ownerType,\n        agentRole,\n        docName: rowData === null || rowData === void 0 ? void 0 : (_rowData$url7 = rowData.url) === null || _rowData$url7 === void 0 ? void 0 : _rowData$url7.uploadType,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 13\n        }\n      }) : /*#__PURE__*/React.createElement(StyledTitle, {\n        style: {\n          paddingLeft: \"25px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }\n      }, (rowData === null || rowData === void 0 ? void 0 : (_rowData$url8 = rowData.url) === null || _rowData$url8 === void 0 ? void 0 : _rowData$url8.uploadType) || \"other\");\n    },\n    headerStyle: {\n      maxWidth: 200,\n      width: 200,\n      padding: `12px 16px`\n    },\n    cellStyle: {\n      maxWidth: 200,\n      width: 200,\n      padding: `12px 16px`\n    }\n  }];\n\n  const data = query => new Promise(resolve => {\n    let payload = {\n      page: query.page + 1,\n      perPage: 10\n    };\n\n    if (ownerType) {\n      if (ownerType === \"claimant\") {\n        payload.claimantView = true;\n      } else if (ownerType === \"respondent\") {\n        payload.respondentView = true;\n      } else {\n        payload.commonView = true;\n      }\n    }\n\n    const stringParams = `?${queryString.stringify(payload)}`;\n    getCaseDocument(id, stringParams).then(async result => {\n      if (result) {\n        resolve({\n          data: result.data\n        });\n        setResult(result);\n      }\n    }).catch(error => {\n      enqueueSnackbar(getErrorMessage(error), {\n        variant: \"error\"\n      });\n      setResult({\n        data: [],\n        lastPage: 1,\n        page: 1,\n        perPage: 10,\n        total: 0\n      });\n      resolve({\n        data: [],\n        page: 0,\n        total: 0\n      });\n    });\n  });\n\n  return /*#__PURE__*/React.createElement(Accordion, {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(AccordionSummary, {\n    expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 21\n      }\n    }),\n    \"aria-controls\": \"panel1a-content\",\n    id: \"panel1a-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AccordionHeading, {\n    style: {\n      marginLeft: 24\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 9\n    }\n  }, title, \" (\", result === null || result === void 0 ? void 0 : result.total, \")\")), /*#__PURE__*/React.createElement(AccordionDetails, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CustomTable, {\n    pluralTitle: \"Documents\",\n    singularTitle: \"\",\n    columns,\n    data,\n    noToolbar: true,\n    pageSize: 10,\n    hidePagination: result.lastPage === 1,\n    state: result,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport const Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 19px 40px;\n  margin-top: 15px;\n  border-bottom: 1px solid ${COLORS.BORDER_GREY};\n`;\nexport const TableContainer = styled.div`\n  /* margin: 30px 29px auto 38px; */\n  width: 100%;\n`;\nexport const AccordionHeading = styled.div`\n  font-family: ${theme.fonts.primaryFontSemiBold};\n  font-size: 16px;\n  color: ${COLORS.COLOR_DARK};\n`;\nexport const AccordionContainer = styled.div`\n  padding: 0 20px;\n`;\nexport const ImageWrapper = styled.div`\n  cursor: pointer;\n`;\nexport const HyperLink = styled.div`\n  font-family: ${theme.fonts.primaryFontSemiBold};\n  font-size: 14px;\n  color: ${COLORS.BTN_GREEN};\n  text-decoration: underline;\n  margin-right: ${({\n  marginRight\n}) => marginRight ? marginRight : \"0px\"};\n  cursor: pointer;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n`;\nexport const StyledTitle = styled.div`\n  font-family: ${theme.fonts.primaryFontBold};\n  @media (min-width: 780px) {\n    //width: 200px;\n    width: auto;\n    min-width: 100px;\n  }\n`;\nexport const ButtonWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 65%;\n  margin: 0 auto;\n  @media (min-width) {\n    justify-content: space-between;\n  }\n`;\nexport const CheckedIconContainer = styled.div`\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;","map":{"version":3,"sources":["/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/internal/DrawerTable/index.js"],"names":["React","useState","styled","theme","COLORS","Drawer","Heading","CustomTable","CaseService","moment","queryString","downloadWithDifferenFileName","getErrorMessage","parseTimeStamp","useSnackbar","makeStyles","Tooltip","Accordion","AccordionSummary","AccordionDetails","ArbitrationDrawer","ExpandMoreIcon","HttpsIcon","PublicIcon","useMediaQuery","useTheme","DrawerRecording","HearingBundles","DocTypeChnage","docTypes","ownerType","title","getCaseDocument","id","query","response","getcaseDocuments","error","Index","state","setState","type","agentRole","useStyles","root","width","backgroundColor","border","boxShadow","margin","padding","marginRight","fill","heading","fontSize","typography","pxToRem","fontWeight","fontWeightRegular","Table","marginBottom","require","filter","item","map","index","TableWithAccordion","classes","result","setResult","enqueueSnackbar","themes","isBigScreen","breakpoints","up","columns","field","sorting","render","rowData","display","justifyContent","alignItems","visibilityType","COLOR_DARK","position","top","cursor","setModal","setDatas","marginLeft","url","name","headerStyle","cellStyle","split","length","maxWidth","owner","created_at","format","entity","resolutionKind","uploadType","paddingLeft","color","BOX_OLIVE","data","Promise","resolve","payload","page","perPage","claimantView","respondentView","commonView","stringParams","stringify","then","catch","variant","lastPage","total","Header","div","BORDER_GREY","TableContainer","AccordionHeading","fonts","primaryFontSemiBold","AccordionContainer","ImageWrapper","HyperLink","BTN_GREEN","StyledTitle","primaryFontBold","ButtonWrapper","CheckedIconContainer"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,SAASC,OAAT,QAAwB,iCAAxB;AACA,OAAOC,WAAP,MAAwB,sCAAxB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,SACEC,4BADF,EAEEC,eAFF,EAGEC,cAHF,QAIO,4BAJP;AAKA,SAASC,WAAT,QAA4B,WAA5B;AACA,SAASC,UAAT,EAAqBC,OAArB,QAAoC,mBAApC;AACA,OAAOC,SAAP,MAAsB,kCAAtB;AACA,OAAOC,gBAAP,MAA6B,yCAA7B;AACA,OAAOC,gBAAP,MAA6B,yCAA7B;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,SAASC,aAAT,QAA8B,mBAA9B;AACA,SAASC,QAAT,QAAyB,0BAAzB;AACA,OAAOC,eAAP,MAA4B,gCAA5B;AACA,OAAOC,cAAP,MAA2B,yBAA3B;AACA,OAAOC,aAAP,MAA0B,qCAA1B;AAEA,MAAMC,QAAQ,GAAG,CACf;AAAEC,EAAAA,SAAS,EAAE,UAAb;AAAyBC,EAAAA,KAAK,EAAE;AAAhC,CADe,EAEf;AAAED,EAAAA,SAAS,EAAE,YAAb;AAA2BC,EAAAA,KAAK,EAAE;AAAlC,CAFe,EAGf;AAAED,EAAAA,SAAS,EAAE,QAAb;AAAuBC,EAAAA,KAAK,EAAE;AAA9B,CAHe,CAAjB;;AAMA,eAAeC,eAAf,CAA+BC,EAA/B,EAAmCC,KAAnC,EAA0C;AACxC,MAAI;AACF,UAAMC,QAAQ,GAAG,MAAM3B,WAAW,CAAC4B,gBAAZ,CAA6BH,EAA7B,EAAiCC,KAAjC,CAAvB;AACA,WAAO,EAAE,GAAGC;AAAL,KAAP;AACD,GAHD,CAGE,OAAOE,KAAP,EAAc;AACd,UAAMA,KAAN;AACD;AACF;;AAED,MAAMC,KAAK,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA,QAAT;AAAmBP,EAAAA,EAAnB;AAAuBQ,EAAAA,IAAvB;AAA6BC,EAAAA;AAA7B,CAAD,KAA8C;AAC1D,sBACE,oBAAC,MAAD;AAAcH,IAAAA,KAAd;AAAuB,IAAA,QAAQ,EAAE,MAAM,CAAE,CAAzC;AAA2C,IAAA,KAAK,EAAC,QAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAaC,IAAAA,QAAb;AAAuBP,IAAAA,EAAvB;AAA2BQ,IAAAA,IAA3B;AAAiCC,IAAAA,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAKD,CAND;;AAQA,eAAeJ,KAAf;AAEA,MAAMK,SAAS,GAAG5B,UAAU,CAACZ,KAAK,KAAK;AACrCyC,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAE,MADH;AAEJC,IAAAA,eAAe,EAAE,SAFb;AAGJC,IAAAA,MAAM,EAAE,qBAHJ;AAIJC,IAAAA,SAAS,EAAE,MAJP;AAKJC,IAAAA,MAAM,EAAE,yBALJ;AAMJ,6BAAyB;AACvBC,MAAAA,OAAO,EAAE,CADc;AAEvBC,MAAAA,WAAW,EAAE,EAFU;AAGvBL,MAAAA,eAAe,EAAE;AAHM,KANrB;AAWJ,0BAAsB;AACpBM,MAAAA,IAAI,EAAE;AADc;AAXlB,GAD+B;AAgBrCC,EAAAA,OAAO,EAAE;AACPC,IAAAA,QAAQ,EAAEnD,KAAK,CAACoD,UAAN,CAAiBC,OAAjB,CAAyB,EAAzB,CADH;AAEPC,IAAAA,UAAU,EAAEtD,KAAK,CAACoD,UAAN,CAAiBG;AAFtB;AAhB4B,CAAL,CAAN,CAA5B;;AAsBA,MAAMC,KAAK,GAAG,CAAC;AAAEnB,EAAAA,QAAF;AAAYP,EAAAA,EAAZ;AAAgBQ,EAAAA,IAAhB;AAAsBC,EAAAA;AAAtB,CAAD,KAAuC;AACnD,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAE;AAAEkB,MAAAA,YAAY,EAAE;AAAhB,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAEC,OAAO,CAAC,uCAAD,CADd;AAEE,IAAA,OAAO,EAAE,MAAM;AACbrB,MAAAA,QAAQ,CAAC,KAAD,CAAR;AACD,KAJH;AAKE,IAAA,GAAG,EAAC,OALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,CADF,eAaE,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGX,QAAQ,CACNiC,MADF,CACSC,IAAI,IACVtB,IAAI,KAAK,aAAT,GAAyBsB,IAAI,CAACjC,SAAL,KAAmB,UAA5C,GAAyD,IAF5D,EAIEkC,GAJF,CAIM,CAACD,IAAD,EAAOE,KAAP,kBACH;AAAK,IAAA,GAAG,EAAEA,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,kBAAD,oBAAwBF,IAAxB;AAAoC9B,IAAAA,EAApC;AAAwCO,IAAAA,QAAxC;AAAkDE,IAAAA,SAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF,CALH,CADH,EAUGD,IAAI,KAAK,aAAT,gBACC,oBAAC,iBAAD;AACE,IAAA,KAAK,EAAC,gCADR;AAEQR,IAAAA,EAFR;AAEYO,IAAAA,QAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,GAMC,EAhBJ,EAkBGP,EAAE,gBAAG,oBAAC,cAAD;AAAgB,IAAA,KAAK,EAAC,iBAAtB;AAA8CA,IAAAA,EAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,GAA4D,EAlBjE,EAmBGQ,IAAI,KAAK,aAAT,gBACC,oBAAC,eAAD;AAAiB,IAAA,KAAK,EAAC,iBAAvB;AAA+CR,IAAAA,EAA/C;AAAmDO,IAAAA,QAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,GAGC,EAtBJ,CAbF,CADF;AAyCD,CA1CD;;AA4CA,MAAM0B,kBAAkB,GAAG,CAAC;AAAEjC,EAAAA,EAAF;AAAMF,EAAAA,KAAN;AAAaD,EAAAA,SAAb;AAAwBU,EAAAA,QAAxB;AAAkCE,EAAAA;AAAlC,CAAD,KAAmD;AAC5E,QAAMyB,OAAO,GAAGxB,SAAS,EAAzB;AACA,QAAM,CAACyB,MAAD,EAASC,SAAT,IAAsBpE,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM;AAAEqE,IAAAA;AAAF,MAAsBxD,WAAW,EAAvC;AACA,QAAMyD,MAAM,GAAG9C,QAAQ,EAAvB;AACA,QAAM+C,WAAW,GAAGhD,aAAa,CAAC+C,MAAM,CAACE,WAAP,CAAmBC,EAAnB,CAAsB,GAAtB,CAAD,CAAjC;AAEA,QAAMC,OAAO,GAAG,CACd;AACEC,IAAAA,KAAK,EAAE,IADT;AAEE7C,IAAAA,KAAK,EAAE,QAFT;AAGE8C,IAAAA,OAAO,EAAE,KAHX;AAIEC,IAAAA,MAAM,EAAEC,OAAO,iBACb;AACE,MAAA,KAAK,EAAE;AACLC,QAAAA,OAAO,EAAE,MADJ;AAELC,QAAAA,cAAc,EAAE,QAFX;AAGLC,QAAAA,UAAU,EAAE;AAHP,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOE;AAAK,MAAA,KAAK,EAAE;AAAErC,QAAAA,KAAK,EAAE;AAAT,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,CAAAkC,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEI,cAAT,MAA4B,IAA5B,GACCrD,SAAS,KAAKY,SAAd,gBACE,oBAAC,SAAD;AACE,MAAA,KAAK,EAAE;AACLY,QAAAA,QAAQ,EAAE,EADL;AAELF,QAAAA,IAAI,EAAEhD,MAAM,CAACgF,UAFR;AAGLC,QAAAA,QAAQ,EAAE,UAHL;AAILC,QAAAA,GAAG,EAAE,CAJA;AAKLC,QAAAA,MAAM,EAAE;AALH,OADT;AAQE,MAAA,OAAO,EAAE,MAAMC,QAAQ,CAAC,IAAD,CAAR,IAAkBC,QAAQ,CAACV,OAAD,CAR3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,gBAYE,oBAAC,SAAD;AACE,MAAA,KAAK,EAAE;AACLzB,QAAAA,QAAQ,EAAE,EADL;AAELF,QAAAA,IAAI,EAAEhD,MAAM,CAACgF,UAFR;AAGLC,QAAAA,QAAQ,EAAE,UAHL;AAILC,QAAAA,GAAG,EAAE,CAJA;AAKLC,QAAAA,MAAM,EAAE;AALH,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbH,GAuBG,CAAAR,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEI,cAAT,MAA4B,QAA5B,GACFrD,SAAS,KAAKY,SAAd,gBACE,oBAAC,aAAD;AACE,MAAA,KAAK,EAAE;AACLY,QAAAA,QAAQ,EAAE,EADL;AAELF,QAAAA,IAAI,EAAEhD,MAAM,CAACgF,UAFR;AAGLC,QAAAA,QAAQ,EAAE,UAHL;AAILC,QAAAA,GAAG,EAAE,CAJA;AAKLC,QAAAA,MAAM,EAAE;AALH,OADT;AAQE,MAAA,OAAO,EAAE,MAAMC,QAAQ,CAAC,IAAD,CAAR,IAAkBC,QAAQ,CAACV,OAAD,CAR3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,GAWIjD,SAAS,KAAKY,SAAd,gBACF,oBAAC,aAAD;AACE,MAAA,KAAK,EAAE;AACLY,QAAAA,QAAQ,EAAE,EADL;AAELF,QAAAA,IAAI,EAAEhD,MAAM,CAACgF,UAFR;AAGLC,QAAAA,QAAQ,EAAE,UAHL;AAILC,QAAAA,GAAG,EAAE,CAJA;AAKLC,QAAAA,MAAM,EAAE;AALH,OADT;AAQE,MAAA,OAAO,EAAE,MAAMC,QAAQ,CAAC,IAAD,CAAR,IAAkBC,QAAQ,CAACV,OAAD,CAR3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADE,gBAYF,oBAAC,aAAD;AACE,MAAA,KAAK,EAAE;AACLzB,QAAAA,QAAQ,EAAE,EADL;AAELF,QAAAA,IAAI,EAAEhD,MAAM,CAACgF,UAFR;AAGLC,QAAAA,QAAQ,EAAE,UAHL;AAILC,QAAAA,GAAG,EAAE,CAJA;AAKLC,QAAAA,MAAM,EAAE;AALH,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxBA,GAkCAzD,SAAS,KAAKY,SAAd,gBACF,oBAAC,UAAD;AACE,MAAA,KAAK,EAAE;AACLY,QAAAA,QAAQ,EAAE,EADL;AAELF,QAAAA,IAAI,EAAEhD,MAAM,CAACgF,UAFR;AAGLC,QAAAA,QAAQ,EAAE,UAHL;AAILC,QAAAA,GAAG,EAAE,CAJA;AAKLC,QAAAA,MAAM,EAAE;AALH,OADT;AAQE,MAAA,OAAO,EAAE,MAAMC,QAAQ,CAAC,IAAD,CAAR,IAAkBC,QAAQ,CAACV,OAAD,CAR3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADE,gBAYF,oBAAC,UAAD;AACE,MAAA,KAAK,EAAE;AACLzB,QAAAA,QAAQ,EAAE,EADL;AAELF,QAAAA,IAAI,EAAEhD,MAAM,CAACgF,UAFR;AAGLC,QAAAA,QAAQ,EAAE,UAHL;AAILC,QAAAA,GAAG,EAAE,CAJA;AAKLC,QAAAA,MAAM,EAAE;AALH,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtEJ,CAPF,eAwFE;AAAK,MAAA,KAAK,EAAE;AAAEG,QAAAA,UAAU,EAAE;AAAd,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AACE,MAAA,OAAO,EAAE;AAAA;;AAAA,eACP/E,4BAA4B,iBAACoE,OAAO,CAACY,GAAT,iDAAC,aAAaA,GAAd,EAAmBZ,OAAnB,aAAmBA,OAAnB,uBAAmBA,OAAO,CAAEa,IAA5B,CADrB;AAAA,OADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKGb,OAAO,CAAC9C,EALX,CADF,CAxFF,CALJ;AAwGE4D,IAAAA,WAAW,EAAE;AACX3C,MAAAA,OAAO,EAAG;AADC,KAxGf;AA2GE4C,IAAAA,SAAS,EAAE;AACT5C,MAAAA,OAAO,EAAG;AADD;AA3Gb,GADc,EAgHd;AACE0B,IAAAA,KAAK,EAAE,KADT;AAEE7C,IAAAA,KAAK,EAAE,UAFT;AAGE8C,IAAAA,OAAO,EAAE,KAHX;AAIEC,IAAAA,MAAM,EAAEC,OAAO;AAAA;;AAAA,0BACb,oBAAC,OAAD;AACE,QAAA,KAAK,EACHA,OADG,aACHA,OADG,wCACHA,OAAO,CAAEY,GADN,uEACH,cAAcA,GADX,sDACH,kBAAmBI,KAAnB,CAAyB,GAAzB,EACE,CAAAhB,OAAO,SAAP,IAAAA,OAAO,WAAP,6BAAAA,OAAO,CAAEY,GAAT,qFAAcA,GAAd,wEAAmBI,KAAnB,CAAyB,GAAzB,EAA8BC,MAA9B,IAAuC,CADzC,CAFJ;AAME,QAAA,SAAS,EAAC,KANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAQE,oBAAC,SAAD;AACE,QAAA,OAAO,EAAE;AAAA;;AAAA,iBACPrF,4BAA4B,kBAACoE,OAAO,CAACY,GAAT,kDAAC,cAAaA,GAAd,EAAmBZ,OAAnB,aAAmBA,OAAnB,uBAAmBA,OAAO,CAAEa,IAA5B,CADrB;AAAA,SADX;AAIE,QAAA,KAAK,EAAE;AACLK,UAAAA,QAAQ,EAAEzB,WAAW,GAAG,OAAH,GAAa;AAD7B,SAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAQG,CAAAO,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEa,IAAT,KAAiB,GARpB,CARF,CADa;AAAA,KAJjB;AAyBEC,IAAAA,WAAW,EAAE;AACX3C,MAAAA,OAAO,EAAG;AADC,KAzBf;AA4BE4C,IAAAA,SAAS,EAAE;AACT5C,MAAAA,OAAO,EAAG;AADD;AA5Bb,GAhHc,EAgJd;AACE0B,IAAAA,KAAK,EAAE,YADT;AAEE7C,IAAAA,KAAK,EAAE,cAFT;AAGE8C,IAAAA,OAAO,EAAE,KAHX;AAIEC,IAAAA,MAAM,EAAEC,OAAO,iBAAI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAcA,OAAO,CAACmB,KAAR,CAAcN,IAA5B,CAJrB;AAKEC,IAAAA,WAAW,EAAE;AACX3C,MAAAA,OAAO,EAAG;AADC,KALf;AAQE4C,IAAAA,SAAS,EAAE;AACT5C,MAAAA,OAAO,EAAG;AADD;AARb,GAhJc,EA4Jd;AACE0B,IAAAA,KAAK,EAAE,MADT;AAEE7C,IAAAA,KAAK,EAAE,MAFT;AAGE8C,IAAAA,OAAO,EAAE,KAHX;AAIEC,IAAAA,MAAM,EAAEC,OAAO,iBACb,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGA,OAAO,CAACoB,UAAR,IACC1F,MAAM,CAACI,cAAc,CAACkE,OAAO,CAACoB,UAAT,CAAf,CAAN,CAA2CC,MAA3C,CAAkD,YAAlD,CAFJ,CADF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGrB,OAAO,CAACoB,UAAR,IACC1F,MAAM,CAACI,cAAc,CAACkE,OAAO,CAACoB,UAAT,CAAf,CAAN,CAA2CC,MAA3C,CAAkD,SAAlD,CAFJ,CALF,CALJ;AAgBEP,IAAAA,WAAW,EAAE;AACXI,MAAAA,QAAQ,EAAE,GADC;AAEXpD,MAAAA,KAAK,EAAE,GAFI;AAGXK,MAAAA,OAAO,EAAG;AAHC,KAhBf;AAqBE4C,IAAAA,SAAS,EAAE;AACTG,MAAAA,QAAQ,EAAE,GADD;AAETpD,MAAAA,KAAK,EAAE,GAFE;AAGTK,MAAAA,OAAO,EAAG;AAHD;AArBb,GA5Jc,EAuLd;AACE0B,IAAAA,KAAK,EAAE,MADT;AAEE7C,IAAAA,KAAK,EAAE,eAFT;AAGE8C,IAAAA,OAAO,EAAE,KAHX;AAIEC,IAAAA,MAAM,EAAEC,OAAO;AAAA;;AAAA,aACb,CAAAA,OAAO,SAAP,IAAAA,OAAO,WAAP,+BAAAA,OAAO,CAAEsB,MAAT,oEAAiBC,cAAjB,MAAoC,aAApC,GACE,CAAAvB,OAAO,SAAP,IAAAA,OAAO,WAAP,6BAAAA,OAAO,CAAEY,GAAT,gEAAcY,UAAd,MAA6B,oBAA7B,gBACE,oBAAC,WAAD;AACE,QAAA,KAAK,EAAE;AAAEC,UAAAA,WAAW,EAAE,MAAf;AAAuBC,UAAAA,KAAK,EAAErG,MAAM,CAACsG;AAArC,SADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGG,CAAA3B,OAAO,SAAP,IAAAA,OAAO,WAAP,6BAAAA,OAAO,CAAEY,GAAT,gEAAcY,UAAd,KAA4B,OAH/B,CADF,gBAOE,oBAAC,aAAD;AACQxB,QAAAA,OADR;AACiBvC,QAAAA,QADjB;AAC2BV,QAAAA,SAD3B;AACsCY,QAAAA,SADtC;AAEE,QAAA,OAAO,EAAEqC,OAAF,aAAEA,OAAF,wCAAEA,OAAO,CAAEY,GAAX,kDAAE,cAAcY,UAFzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARJ,gBAcE,oBAAC,WAAD;AAAa,QAAA,KAAK,EAAE;AAAEC,UAAAA,WAAW,EAAE;AAAf,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,CAAAzB,OAAO,SAAP,IAAAA,OAAO,WAAP,6BAAAA,OAAO,CAAEY,GAAT,gEAAcY,UAAd,KAA4B,OAD/B,CAfW;AAAA,KAJjB;AAuBEV,IAAAA,WAAW,EAAE;AACXI,MAAAA,QAAQ,EAAE,GADC;AAEXpD,MAAAA,KAAK,EAAE,GAFI;AAGXK,MAAAA,OAAO,EAAG;AAHC,KAvBf;AA4BE4C,IAAAA,SAAS,EAAE;AACTG,MAAAA,QAAQ,EAAE,GADD;AAETpD,MAAAA,KAAK,EAAE,GAFE;AAGTK,MAAAA,OAAO,EAAG;AAHD;AA5Bb,GAvLc,CAAhB;;AA2NA,QAAMyD,IAAI,GAAGzE,KAAK,IAChB,IAAI0E,OAAJ,CAAYC,OAAO,IAAI;AACrB,QAAIC,OAAO,GAAG;AACZC,MAAAA,IAAI,EAAE7E,KAAK,CAAC6E,IAAN,GAAa,CADP;AAEZC,MAAAA,OAAO,EAAE;AAFG,KAAd;;AAIA,QAAIlF,SAAJ,EAAe;AACb,UAAIA,SAAS,KAAK,UAAlB,EAA8B;AAC5BgF,QAAAA,OAAO,CAACG,YAAR,GAAuB,IAAvB;AACD,OAFD,MAEO,IAAInF,SAAS,KAAK,YAAlB,EAAgC;AACrCgF,QAAAA,OAAO,CAACI,cAAR,GAAyB,IAAzB;AACD,OAFM,MAEA;AACLJ,QAAAA,OAAO,CAACK,UAAR,GAAqB,IAArB;AACD;AACF;;AACD,UAAMC,YAAY,GAAI,IAAG1G,WAAW,CAAC2G,SAAZ,CAAsBP,OAAtB,CAA+B,EAAxD;AACA9E,IAAAA,eAAe,CAACC,EAAD,EAAKmF,YAAL,CAAf,CACGE,IADH,CACQ,MAAMlD,MAAN,IAAgB;AACpB,UAAIA,MAAJ,EAAY;AACVyC,QAAAA,OAAO,CAAC;AACNF,UAAAA,IAAI,EAAEvC,MAAM,CAACuC;AADP,SAAD,CAAP;AAGAtC,QAAAA,SAAS,CAACD,MAAD,CAAT;AACD;AACF,KARH,EASGmD,KATH,CASSlF,KAAK,IAAI;AACdiC,MAAAA,eAAe,CAAC1D,eAAe,CAACyB,KAAD,CAAhB,EAAyB;AACtCmF,QAAAA,OAAO,EAAE;AAD6B,OAAzB,CAAf;AAGAnD,MAAAA,SAAS,CAAC;AACRsC,QAAAA,IAAI,EAAE,EADE;AAERc,QAAAA,QAAQ,EAAE,CAFF;AAGRV,QAAAA,IAAI,EAAE,CAHE;AAIRC,QAAAA,OAAO,EAAE,EAJD;AAKRU,QAAAA,KAAK,EAAE;AALC,OAAD,CAAT;AAOAb,MAAAA,OAAO,CAAC;AACNF,QAAAA,IAAI,EAAE,EADA;AAENI,QAAAA,IAAI,EAAE,CAFA;AAGNW,QAAAA,KAAK,EAAE;AAHD,OAAD,CAAP;AAKD,KAzBH;AA0BD,GAzCD,CADF;;AA4CA,sBACE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAEvD,OAAO,CAACvB,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,gBAAD;AACE,IAAA,UAAU,eAAE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADd;AAEE,qBAAc,iBAFhB;AAGE,IAAA,EAAE,EAAC,gBAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE,oBAAC,gBAAD;AAAkB,IAAA,KAAK,EAAE;AAAE8C,MAAAA,UAAU,EAAE;AAAd,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG3D,KADH,QACYqC,MADZ,aACYA,MADZ,uBACYA,MAAM,CAAEsD,KADpB,MALF,CADF,eAUE,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AACE,IAAA,WAAW,EAAC,WADd;AAEE,IAAA,aAAa,EAAC,EAFhB;AAII/C,IAAAA,OAJJ;AAKIgC,IAAAA,IALJ;AAOE,IAAA,SAAS,MAPX;AAQE,IAAA,QAAQ,EAAE,EARZ;AASE,IAAA,cAAc,EAAEvC,MAAM,CAACqD,QAAP,KAAoB,CATtC;AAUE,IAAA,KAAK,EAAErD,MAVT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CAVF,CADF;AA6BD,CA3SD;;AA6SA,OAAO,MAAMuD,MAAM,GAAGzH,MAAM,CAAC0H,GAAI;AACjC;AACA;AACA;AACA;AACA,6BAA6BxH,MAAM,CAACyH,WAAY;AAChD,CANO;AAOP,OAAO,MAAMC,cAAc,GAAG5H,MAAM,CAAC0H,GAAI;AACzC;AACA;AACA,CAHO;AAIP,OAAO,MAAMG,gBAAgB,GAAG7H,MAAM,CAAC0H,GAAI;AAC3C,iBAAiBzH,KAAK,CAAC6H,KAAN,CAAYC,mBAAoB;AACjD;AACA,WAAW7H,MAAM,CAACgF,UAAW;AAC7B,CAJO;AAMP,OAAO,MAAM8C,kBAAkB,GAAGhI,MAAM,CAAC0H,GAAI;AAC7C;AACA,CAFO;AAIP,OAAO,MAAMO,YAAY,GAAGjI,MAAM,CAAC0H,GAAI;AACvC;AACA,CAFO;AAGP,OAAO,MAAMQ,SAAS,GAAGlI,MAAM,CAAC0H,GAAI;AACpC,iBAAiBzH,KAAK,CAAC6H,KAAN,CAAYC,mBAAoB;AACjD;AACA,WAAW7H,MAAM,CAACiI,SAAU;AAC5B;AACA,kBAAkB,CAAC;AAAElF,EAAAA;AAAF,CAAD,KAAsBA,WAAW,GAAGA,WAAH,GAAiB,KAAO;AAC3E;AACA;AACA;AACA;AACA,CAVO;AAYP,OAAO,MAAMmF,WAAW,GAAGpI,MAAM,CAAC0H,GAAI;AACtC,iBAAiBzH,KAAK,CAAC6H,KAAN,CAAYO,eAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA,CAPO;AASP,OAAO,MAAMC,aAAa,GAAGtI,MAAM,CAAC0H,GAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CATO;AAWP,OAAO,MAAMa,oBAAoB,GAAGvI,MAAM,CAAC0H,GAAI;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,CAPO","sourcesContent":["import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport theme from \"../../../assets/theme\";\nimport COLORS from \"../../../assets/Colors\";\nimport Drawer from \"../../common/Drawer\";\nimport { Heading } from \"../../../styles/component/style\";\nimport CustomTable from \"../../common/CustomTable/CustomTable\";\nimport CaseService from \"../../../services/CaseService\";\nimport moment from \"moment\";\nimport queryString from \"query-string\";\nimport {\n  downloadWithDifferenFileName,\n  getErrorMessage,\n  parseTimeStamp\n} from \"../../../helpers/functions\";\nimport { useSnackbar } from \"notistack\";\nimport { makeStyles, Tooltip } from \"@material-ui/core\";\nimport Accordion from \"@material-ui/core/ExpansionPanel\";\nimport AccordionSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport AccordionDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport ArbitrationDrawer from \"./ArbitrationDrawer\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport HttpsIcon from \"@material-ui/icons/Https\";\nimport PublicIcon from \"@material-ui/icons/Public\";\nimport { useMediaQuery } from \"@material-ui/core\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport DrawerRecording from \"../ViewRecording/ViewRecording\";\nimport HearingBundles from \"../HearingBundles/index\";\nimport DocTypeChnage from \"../DocumentTypeChange/DocTypeChange\";\n\nconst docTypes = [\n  { ownerType: \"claimant\", title: \"Claimant Documents\" },\n  { ownerType: \"respondent\", title: \"Respondent Documents\" },\n  { ownerType: \"common\", title: \"Neutral's Documents\" }\n];\n\nasync function getCaseDocument(id, query) {\n  try {\n    const response = await CaseService.getcaseDocuments(id, query);\n    return { ...response };\n  } catch (error) {\n    throw error;\n  }\n}\n\nconst Index = ({ state, setState, id, type, agentRole }) => {\n  return (\n    <Drawer {...{ state }} setState={() => {}} label=\"Drawer\">\n      <Table {...{ setState, id, type, agentRole }} />\n    </Drawer>\n  );\n};\n\nexport default Index;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"100%\",\n    backgroundColor: \"#f9f9f9\",\n    border: \"solid 0.5px #e1e3ee\",\n    boxShadow: \"none\",\n    margin: \"16px 0px 0px !important\",\n    \"& .MuiIconButton-root\": {\n      padding: 0,\n      marginRight: 15,\n      backgroundColor: \"#fff\"\n    },\n    \"& .MuiSvgIcon-root\": {\n      fill: \"#00838c\"\n    }\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular\n  }\n}));\n\nconst Table = ({ setState, id, type, agentRole }) => {\n  return (\n    <div>\n      <Header>\n        <Heading style={{ marginBottom: \"unset\" }}>Case Documents</Heading>\n        <ImageWrapper>\n          <img\n            src={require(\"../../../assets/images/closeModal.svg\")}\n            onClick={() => {\n              setState(false);\n            }}\n            alt=\"close\"\n          />\n        </ImageWrapper>\n      </Header>\n      <AccordionContainer>\n        {docTypes\n          .filter(item =>\n            type === \"negotiation\" ? item.ownerType !== \"mediator\" : true\n          )\n          .map((item, index) => (\n            <div key={index}>\n              <TableWithAccordion {...item} {...{ id, setState, agentRole }} />\n            </div>\n          ))}\n        {type === \"arbitration\" ? (\n          <ArbitrationDrawer\n            title=\"Template Agreements and Awards\"\n            {...{ id, setState }}\n          />\n        ) : (\n          \"\"\n        )}\n        {id ? <HearingBundles title=\"Hearing Bundles\" {...{ id }} /> : \"\"}\n        {type !== \"negotiation\" ? (\n          <DrawerRecording title=\"View Recordings\" {...{ id, setState }} />\n        ) : (\n          \"\"\n        )}\n      </AccordionContainer>\n    </div>\n  );\n};\n\nconst TableWithAccordion = ({ id, title, ownerType, setState, agentRole }) => {\n  const classes = useStyles();\n  const [result, setResult] = useState({});\n  const { enqueueSnackbar } = useSnackbar();\n  const themes = useTheme();\n  const isBigScreen = useMediaQuery(themes.breakpoints.up(780));\n\n  const columns = [\n    {\n      field: \"id\",\n      title: \"Doc ID\",\n      sorting: false,\n      render: rowData => (\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          }}\n        >\n          <div style={{ width: 20 }}>\n            {rowData?.visibilityType === \"me\" ? (\n              ownerType === agentRole ? (\n                <HttpsIcon\n                  style={{\n                    fontSize: 18,\n                    fill: COLORS.COLOR_DARK,\n                    position: \"relative\",\n                    top: 2,\n                    cursor: \"pointer\"\n                  }}\n                  onClick={() => setModal(true) || setDatas(rowData)}\n                />\n              ) : (\n                <HttpsIcon\n                  style={{\n                    fontSize: 18,\n                    fill: COLORS.COLOR_DARK,\n                    position: \"relative\",\n                    top: 2,\n                    cursor: \"pointer\"\n                  }}\n                />\n              )\n            ) : rowData?.visibilityType === \"others\" ? (\n              ownerType === agentRole ? (\n                <HttpsLockOpen\n                  style={{\n                    fontSize: 18,\n                    fill: COLORS.COLOR_DARK,\n                    position: \"relative\",\n                    top: 2,\n                    cursor: \"pointer\"\n                  }}\n                  onClick={() => setModal(true) || setDatas(rowData)}\n                />\n              ) : ownerType === agentRole ? (\n                <HttpsLockOpen\n                  style={{\n                    fontSize: 18,\n                    fill: COLORS.COLOR_DARK,\n                    position: \"relative\",\n                    top: 2,\n                    cursor: \"pointer\"\n                  }}\n                  onClick={() => setModal(true) || setDatas(rowData)}\n                />\n              ) : (\n                <HttpsLockOpen\n                  style={{\n                    fontSize: 18,\n                    fill: COLORS.COLOR_DARK,\n                    position: \"relative\",\n                    top: 2,\n                    cursor: \"pointer\"\n                  }}\n                />\n              )\n            ) : ownerType === agentRole ? (\n              <PublicIcon\n                style={{\n                  fontSize: 18,\n                  fill: COLORS.COLOR_DARK,\n                  position: \"relative\",\n                  top: 2,\n                  cursor: \"pointer\"\n                }}\n                onClick={() => setModal(true) || setDatas(rowData)}\n              />\n            ) : (\n              <PublicIcon\n                style={{\n                  fontSize: 18,\n                  fill: COLORS.COLOR_DARK,\n                  position: \"relative\",\n                  top: 2,\n                  cursor: \"pointer\"\n                }}\n              />\n            )}\n          </div>\n          <div style={{ marginLeft: 10 }}>\n            <HyperLink\n              onClick={() =>\n                downloadWithDifferenFileName(rowData.url?.url, rowData?.name)\n              }\n            >\n              {rowData.id}\n            </HyperLink>\n          </div>\n        </div>\n      ),\n      headerStyle: {\n        padding: `12px 16px 12px 45px`\n      },\n      cellStyle: {\n        padding: `12px 16px 12px 16px`\n      }\n    },\n    {\n      field: \"url\",\n      title: \"Document\",\n      sorting: false,\n      render: rowData => (\n        <Tooltip\n          title={\n            rowData?.url?.url?.split(\"/\")[\n              rowData?.url?.url?.split(\"/\").length - 1\n            ]\n          }\n          placement=\"top\"\n        >\n          <HyperLink\n            onClick={() =>\n              downloadWithDifferenFileName(rowData.url?.url, rowData?.name)\n            }\n            style={{\n              maxWidth: isBigScreen ? \"150px\" : \"auto\"\n            }}\n          >\n            {rowData?.name || \"-\"}\n          </HyperLink>\n        </Tooltip>\n      ),\n      headerStyle: {\n        padding: `12px 16px`\n      },\n      cellStyle: {\n        padding: `12px 16px`\n      }\n    },\n    {\n      field: \"owner.name\",\n      title: \"Submitted By\",\n      sorting: false,\n      render: rowData => <StyledTitle>{rowData.owner.name}</StyledTitle>,\n      headerStyle: {\n        padding: `12px 16px`\n      },\n      cellStyle: {\n        padding: `12px 16px`\n      }\n    },\n    {\n      field: \"date\",\n      title: \"Date\",\n      sorting: false,\n      render: rowData => (\n        <StyledTitle>\n          <div>\n            {rowData.created_at &&\n              moment(parseTimeStamp(rowData.created_at)).format(\"DD/MM/YYYY\")}\n          </div>\n          <div>\n            {rowData.created_at &&\n              moment(parseTimeStamp(rowData.created_at)).format(\"hh:mm A\")}\n          </div>\n        </StyledTitle>\n      ),\n      headerStyle: {\n        maxWidth: 100,\n        width: 100,\n        padding: `12px 16px`\n      },\n      cellStyle: {\n        maxWidth: 100,\n        width: 100,\n        padding: `12px 16px`\n      }\n    },\n    {\n      field: \"time\",\n      title: \"Document Type\",\n      sorting: false,\n      render: rowData =>\n        rowData?.entity?.resolutionKind === \"arbitration\" ? (\n          rowData?.url?.uploadType === \"Arbitration Notice\" ? (\n            <StyledTitle\n              style={{ paddingLeft: \"25px\", color: COLORS.BOX_OLIVE }}\n            >\n              {rowData?.url?.uploadType || \"other\"}\n            </StyledTitle>\n          ) : (\n            <DocTypeChnage\n              {...{ rowData, setState, ownerType, agentRole }}\n              docName={rowData?.url?.uploadType}\n            />\n          )\n        ) : (\n          <StyledTitle style={{ paddingLeft: \"25px\" }}>\n            {rowData?.url?.uploadType || \"other\"}\n          </StyledTitle>\n        ),\n      headerStyle: {\n        maxWidth: 200,\n        width: 200,\n        padding: `12px 16px`\n      },\n      cellStyle: {\n        maxWidth: 200,\n        width: 200,\n        padding: `12px 16px`\n      }\n    }\n  ];\n\n  const data = query =>\n    new Promise(resolve => {\n      let payload = {\n        page: query.page + 1,\n        perPage: 10\n      };\n      if (ownerType) {\n        if (ownerType === \"claimant\") {\n          payload.claimantView = true;\n        } else if (ownerType === \"respondent\") {\n          payload.respondentView = true;\n        } else {\n          payload.commonView = true;\n        }\n      }\n      const stringParams = `?${queryString.stringify(payload)}`;\n      getCaseDocument(id, stringParams)\n        .then(async result => {\n          if (result) {\n            resolve({\n              data: result.data\n            });\n            setResult(result);\n          }\n        })\n        .catch(error => {\n          enqueueSnackbar(getErrorMessage(error), {\n            variant: \"error\"\n          });\n          setResult({\n            data: [],\n            lastPage: 1,\n            page: 1,\n            perPage: 10,\n            total: 0\n          });\n          resolve({\n            data: [],\n            page: 0,\n            total: 0\n          });\n        });\n    });\n\n  return (\n    <Accordion className={classes.root}>\n      <AccordionSummary\n        expandIcon={<ExpandMoreIcon />}\n        aria-controls=\"panel1a-content\"\n        id=\"panel1a-header\"\n      >\n        <AccordionHeading style={{ marginLeft: 24 }}>\n          {title} ({result?.total})\n        </AccordionHeading>\n      </AccordionSummary>\n      <AccordionDetails>\n        <TableContainer>\n          <CustomTable\n            pluralTitle=\"Documents\"\n            singularTitle=\"\"\n            {...{\n              columns,\n              data\n            }}\n            noToolbar\n            pageSize={10}\n            hidePagination={result.lastPage === 1}\n            state={result}\n          />\n        </TableContainer>\n      </AccordionDetails>\n    </Accordion>\n  );\n};\n\nexport const Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 19px 40px;\n  margin-top: 15px;\n  border-bottom: 1px solid ${COLORS.BORDER_GREY};\n`;\nexport const TableContainer = styled.div`\n  /* margin: 30px 29px auto 38px; */\n  width: 100%;\n`;\nexport const AccordionHeading = styled.div`\n  font-family: ${theme.fonts.primaryFontSemiBold};\n  font-size: 16px;\n  color: ${COLORS.COLOR_DARK};\n`;\n\nexport const AccordionContainer = styled.div`\n  padding: 0 20px;\n`;\n\nexport const ImageWrapper = styled.div`\n  cursor: pointer;\n`;\nexport const HyperLink = styled.div`\n  font-family: ${theme.fonts.primaryFontSemiBold};\n  font-size: 14px;\n  color: ${COLORS.BTN_GREEN};\n  text-decoration: underline;\n  margin-right: ${({ marginRight }) => (marginRight ? marginRight : \"0px\")};\n  cursor: pointer;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n`;\n\nexport const StyledTitle = styled.div`\n  font-family: ${theme.fonts.primaryFontBold};\n  @media (min-width: 780px) {\n    //width: 200px;\n    width: auto;\n    min-width: 100px;\n  }\n`;\n\nexport const ButtonWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 65%;\n  margin: 0 auto;\n  @media (min-width) {\n    justify-content: space-between;\n  }\n`;\n\nexport const CheckedIconContainer = styled.div`\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n"]},"metadata":{},"sourceType":"module"}