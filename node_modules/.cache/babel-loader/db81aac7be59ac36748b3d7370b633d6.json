{"ast":null,"code":"var _jsxFileName = \"/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/internal/ViewRecording/ViewRecording.js\";\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport theme from \"../../../assets/theme\";\nimport COLORS from \"../../../assets/Colors\";\nimport CustomTable from \"../../common/CustomTable/CustomTable\";\nimport { makeStyles } from \"@material-ui/core\";\nimport Accordion from \"@material-ui/core/ExpansionPanel\";\nimport AccordionSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport AccordionDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport CaseService from \"../../../services/CaseService\";\nimport { getErrorMessage } from \"../../../helpers/functions\";\nimport { useSnackbar } from \"notistack\";\nimport queryString from \"query-string\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"100%\",\n    backgroundColor: \"#f9f9f9\",\n    border: \"solid 0.5px #e1e3ee\",\n    boxShadow: \"none\",\n    margin: \"16px 0px 0px !important\",\n    \"& .MuiIconButton-root\": {\n      padding: 0,\n      marginRight: 15,\n      backgroundColor: \"#fff\"\n    },\n    \"& .MuiSvgIcon-root\": {\n      fill: \"#00838c\"\n    }\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular\n  }\n}));\n\nfunction TableWithAccordion({\n  title,\n  id\n}) {\n  const classes = useStyles();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const [result, setResult] = useState({});\n\n  async function getViewMeeting(id, query) {\n    try {\n      const response = await CaseService.getMeetingVideo(id, query);\n      return { ...response\n      };\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  const columns = [{\n    field: \"Id\",\n    title: \"Id\",\n    sorting: false,\n    render: rowData => /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: 35\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }, (rowData === null || rowData === void 0 ? void 0 : rowData.name).replace(/\\D/g, \"\")),\n    headerStyle: {\n      padding: `12px 16px 12px 45px`\n    },\n    cellStyle: {\n      padding: `12px 16px 12px 16px`\n    }\n  }, {\n    field: \"RecordingUrl\",\n    title: \"Recordings\",\n    sorting: false,\n    render: (rowData, index) => /*#__PURE__*/React.createElement(HyperLink, {\n      style: {\n        width: 200\n      },\n      onClick: () => window.open(rowData === null || rowData === void 0 ? void 0 : rowData.RecordingUrl),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, (rowData === null || rowData === void 0 ? void 0 : rowData.recordingName) ? `${rowData === null || rowData === void 0 ? void 0 : rowData.recordingName}` : `${rowData === null || rowData === void 0 ? void 0 : rowData.name}`),\n    headerStyle: {\n      padding: `12px 16px`\n    },\n    cellStyle: {\n      padding: `12px 16px`\n    }\n  }, {\n    field: \"transcriptDocUrl\",\n    title: \"Transcript\",\n    sorting: false,\n    render: (rowData, index) => (rowData === null || rowData === void 0 ? void 0 : rowData.transcriptDocUrl) ? /*#__PURE__*/React.createElement(HyperLink, {\n      style: {\n        width: 200\n      },\n      onClick: () => window.open(rowData === null || rowData === void 0 ? void 0 : rowData.transcriptDocUrl),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, rowData === null || rowData === void 0 ? void 0 : rowData.transcriptName) : /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    }, \"Transcript Not Available\"),\n    headerStyle: {\n      padding: `12px 16px`\n    },\n    cellStyle: {\n      padding: `12px 16px`\n    }\n  }, {\n    field: \"time\",\n    title: \"Created\",\n    sorting: false,\n    render: rowData => /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 26\n      }\n    }, rowData === null || rowData === void 0 ? void 0 : rowData.time),\n    headerStyle: {\n      padding: `12px 16px`\n    },\n    cellStyle: {\n      padding: `12px 16px`\n    }\n  }];\n\n  const data = query => new Promise(resolve => {\n    let payload = {\n      page: query.page + 1,\n      perPage: 10\n    };\n    const stringParams = `?${queryString.stringify(payload)}`;\n    getViewMeeting(id, stringParams).then(async result => {\n      if (result) {\n        resolve({\n          data: result.data\n        });\n        setResult(result);\n      }\n    }).catch(error => {\n      enqueueSnackbar(getErrorMessage(error), {\n        variant: \"error\"\n      });\n      setResult({\n        data: [],\n        lastPage: 1,\n        page: 1,\n        perPage: 10,\n        total: 0\n      });\n      resolve({\n        data: [],\n        page: 0,\n        total: 0\n      });\n    });\n  });\n\n  return /*#__PURE__*/React.createElement(Accordion, {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(AccordionSummary, {\n    expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 21\n      }\n    }),\n    \"aria-controls\": \"panel1a-content\",\n    id: \"panel1a-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AccordionHeading, {\n    style: {\n      marginLeft: 24\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }\n  }, title)), /*#__PURE__*/React.createElement(AccordionDetails, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CustomTable, {\n    pluralTitle: \"Recordings\",\n    singularTitle: \"\",\n    columns,\n    data,\n    noToolbar: true,\n    pageSize: 10,\n    hidePagination: result.lastPage === 1,\n    state: result,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default TableWithAccordion;\nexport const Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 19px 40px;\n  margin-top: 15px;\n  border-bottom: 1px solid ${COLORS.BORDER_GREY};\n`;\nexport const TableContainer = styled.div`\n  /* margin: 30px 29px auto 38px; */\n  width: 100%;\n  & .no-result {\n    font-family: ${theme.fonts.primaryFontSemiBold};\n    font-size: 16px;\n    color: ${COLORS.COLOR_DARK};\n    text-align: center;\n  }\n`;\nexport const AccordionHeading = styled.div`\n  font-family: ${theme.fonts.primaryFontSemiBold};\n  font-size: 16px;\n  color: ${COLORS.COLOR_DARK};\n`;\nexport const AccordionContainer = styled.div`\n  padding: 0 20px;\n`;\nexport const ImageWrapper = styled.div`\n  cursor: pointer;\n`;\nexport const HyperLink = styled.div`\n  font-family: ${theme.fonts.primaryFontSemiBold};\n  font-size: 14px;\n  color: ${COLORS.BTN_GREEN};\n  text-decoration: underline;\n  margin-right: ${({\n  marginRight\n}) => marginRight ? marginRight : \"0px\"};\n  cursor: pointer;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n`;\nexport const StyledTitle = styled.div`\n  font-family: ${theme.fonts.primaryFontBold};\n  width: 200px;\n`;","map":{"version":3,"sources":["/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/internal/ViewRecording/ViewRecording.js"],"names":["React","useState","styled","theme","COLORS","CustomTable","makeStyles","Accordion","AccordionSummary","AccordionDetails","ExpandMoreIcon","CaseService","getErrorMessage","useSnackbar","queryString","useStyles","root","width","backgroundColor","border","boxShadow","margin","padding","marginRight","fill","heading","fontSize","typography","pxToRem","fontWeight","fontWeightRegular","TableWithAccordion","title","id","classes","enqueueSnackbar","result","setResult","getViewMeeting","query","response","getMeetingVideo","error","columns","field","sorting","render","rowData","marginLeft","name","replace","headerStyle","cellStyle","index","window","open","RecordingUrl","recordingName","transcriptDocUrl","transcriptName","time","data","Promise","resolve","payload","page","perPage","stringParams","stringify","then","catch","variant","lastPage","total","Header","div","BORDER_GREY","TableContainer","fonts","primaryFontSemiBold","COLOR_DARK","AccordionHeading","AccordionContainer","ImageWrapper","HyperLink","BTN_GREEN","StyledTitle","primaryFontBold"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport theme from \"../../../assets/theme\";\nimport COLORS from \"../../../assets/Colors\";\nimport CustomTable from \"../../common/CustomTable/CustomTable\";\nimport { makeStyles } from \"@material-ui/core\";\nimport Accordion from \"@material-ui/core/ExpansionPanel\";\nimport AccordionSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport AccordionDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport CaseService from \"../../../services/CaseService\";\nimport { getErrorMessage } from \"../../../helpers/functions\";\nimport { useSnackbar } from \"notistack\";\nimport queryString from \"query-string\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"100%\",\n    backgroundColor: \"#f9f9f9\",\n    border: \"solid 0.5px #e1e3ee\",\n    boxShadow: \"none\",\n    margin: \"16px 0px 0px !important\",\n    \"& .MuiIconButton-root\": {\n      padding: 0,\n      marginRight: 15,\n      backgroundColor: \"#fff\"\n    },\n    \"& .MuiSvgIcon-root\": {\n      fill: \"#00838c\"\n    }\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular\n  }\n}));\n\nfunction TableWithAccordion({ title, id }) {\n  const classes = useStyles();\n  const { enqueueSnackbar } = useSnackbar();\n  const [result, setResult] = useState({});\n\n  async function getViewMeeting(id, query) {\n    try {\n      const response = await CaseService.getMeetingVideo(id, query);\n      return { ...response };\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  const columns = [\n    {\n      field: \"Id\",\n      title: \"Id\",\n      sorting: false,\n      render: rowData => (\n        <div style={{ marginLeft: 35 }}>\n          {(rowData?.name).replace(/\\D/g, \"\")}\n        </div>\n      ),\n      headerStyle: {\n        padding: `12px 16px 12px 45px`\n      },\n      cellStyle: {\n        padding: `12px 16px 12px 16px`\n      }\n    },\n    {\n      field: \"RecordingUrl\",\n      title: \"Recordings\",\n      sorting: false,\n      render: (rowData, index) => (\n        <HyperLink\n          style={{ width: 200 }}\n          onClick={() => window.open(rowData?.RecordingUrl)}\n        >\n          {rowData?.recordingName\n            ? `${rowData?.recordingName}`\n            : `${rowData?.name}`}\n        </HyperLink>\n      ),\n      headerStyle: {\n        padding: `12px 16px`\n      },\n      cellStyle: {\n        padding: `12px 16px`\n      }\n    },\n    {\n      field: \"transcriptDocUrl\",\n      title: \"Transcript\",\n      sorting: false,\n      render: (rowData, index) =>\n        rowData?.transcriptDocUrl ? (\n          <HyperLink\n            style={{ width: 200 }}\n            onClick={() => window.open(rowData?.transcriptDocUrl)}\n          >\n            {rowData?.transcriptName}\n          </HyperLink>\n        ) : (\n          <b>Transcript Not Available</b>\n        ),\n      headerStyle: {\n        padding: `12px 16px`\n      },\n      cellStyle: {\n        padding: `12px 16px`\n      }\n    },\n    {\n      field: \"time\",\n      title: \"Created\",\n      sorting: false,\n      render: rowData => <b>{rowData?.time}</b>,\n      headerStyle: {\n        padding: `12px 16px`\n      },\n      cellStyle: {\n        padding: `12px 16px`\n      }\n    }\n  ];\n\n  const data = query =>\n    new Promise(resolve => {\n      let payload = {\n        page: query.page + 1,\n        perPage: 10\n      };\n      const stringParams = `?${queryString.stringify(payload)}`;\n      getViewMeeting(id, stringParams)\n        .then(async result => {\n          if (result) {\n            resolve({\n              data: result.data\n            });\n            setResult(result);\n          }\n        })\n        .catch(error => {\n          enqueueSnackbar(getErrorMessage(error), {\n            variant: \"error\"\n          });\n          setResult({\n            data: [],\n            lastPage: 1,\n            page: 1,\n            perPage: 10,\n            total: 0\n          });\n          resolve({\n            data: [],\n            page: 0,\n            total: 0\n          });\n        });\n    });\n\n  return (\n    <Accordion className={classes.root}>\n      <AccordionSummary\n        expandIcon={<ExpandMoreIcon />}\n        aria-controls=\"panel1a-content\"\n        id=\"panel1a-header\"\n      >\n        <AccordionHeading style={{ marginLeft: 24 }}>{title}</AccordionHeading>\n      </AccordionSummary>\n      <AccordionDetails>\n        <TableContainer>\n          <CustomTable\n            pluralTitle=\"Recordings\"\n            singularTitle=\"\"\n            {...{\n              columns,\n              data\n            }}\n            noToolbar\n            pageSize={10}\n            hidePagination={result.lastPage === 1}\n            state={result}\n          />\n        </TableContainer>\n      </AccordionDetails>\n    </Accordion>\n  );\n}\nexport default TableWithAccordion;\n\nexport const Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 19px 40px;\n  margin-top: 15px;\n  border-bottom: 1px solid ${COLORS.BORDER_GREY};\n`;\nexport const TableContainer = styled.div`\n  /* margin: 30px 29px auto 38px; */\n  width: 100%;\n  & .no-result {\n    font-family: ${theme.fonts.primaryFontSemiBold};\n    font-size: 16px;\n    color: ${COLORS.COLOR_DARK};\n    text-align: center;\n  }\n`;\nexport const AccordionHeading = styled.div`\n  font-family: ${theme.fonts.primaryFontSemiBold};\n  font-size: 16px;\n  color: ${COLORS.COLOR_DARK};\n`;\n\nexport const AccordionContainer = styled.div`\n  padding: 0 20px;\n`;\n\nexport const ImageWrapper = styled.div`\n  cursor: pointer;\n`;\nexport const HyperLink = styled.div`\n  font-family: ${theme.fonts.primaryFontSemiBold};\n  font-size: 14px;\n  color: ${COLORS.BTN_GREEN};\n  text-decoration: underline;\n  margin-right: ${({ marginRight }) => (marginRight ? marginRight : \"0px\")};\n  cursor: pointer;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n`;\n\nexport const StyledTitle = styled.div`\n  font-family: ${theme.fonts.primaryFontBold};\n  width: 200px;\n`;\n"]},"metadata":{},"sourceType":"module"}