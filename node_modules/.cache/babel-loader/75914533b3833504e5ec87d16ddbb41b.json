{"ast":null,"code":"var _jsxFileName = \"/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/common/CustomTable/SmallTable.js\";\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport COLORS from \"../../../assets/Colors\";\nimport { ExpansionPanel, ExpansionPanelSummary, ExpansionPanelDetails } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport _ from \"lodash\";\nimport theme from \"../../../assets/theme\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport { HyperLink } from \"../styled-components\";\nconst useStyles = makeStyles(themes => ({\n  root: {\n    fontFamily: `${theme.fonts.primaryFontRegular}`,\n    background: `linear-gradient(to right, ${COLORS.COLOR_DARK} 0%, ${COLORS.COLOR_DARK} 50%, ${COLORS.TABLE_GREY_CELL} 50%)`,\n    fontWeight: \"bold\",\n    \"& .MuiSvgIcon-root\": {\n      position: \"relative\",\n      right: \"0\",\n      top: \"0\"\n    }\n  },\n  root1: {\n    marginRight: \"10px\"\n  },\n  expanded: {\n    paddingTop: 0,\n    paddingBottom: 0\n  },\n  expandIcon: {\n    borderRadius: \"50%\",\n    backgroundColor: \"white\",\n    color: `${COLORS.BTN_GREEN}`\n  }\n}));\nexport default function SmallTable({\n  state,\n  column,\n  selection,\n  onSelectionChange = () => {},\n  detailPanel,\n  top,\n  left\n}) {\n  const [expanded, setExpanded] = React.useState(false);\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState([]);\n  const [detailPanelText, setDetailPanelText] = useState(\"Details Split Up\");\n  const [detailPanelDiv, setDetailPanelDiv] = useState(false);\n  const [selectAll, setSelectAll] = useState(false);\n  useEffect(() => {\n    var _state$data;\n\n    const setExpandedPanel = async () => {\n      var _state$data$;\n\n      await setExpanded(state.data !== undefined ? (_state$data$ = state.data[0]) === null || _state$data$ === void 0 ? void 0 : _state$data$.id : false);\n    };\n\n    setExpandedPanel();\n\n    const setLoader = () => {\n      setLoading(_.isEmpty(state) && _.isEmpty(column.data) ? true : false);\n    };\n\n    setLoader();\n\n    if (state === null || state === void 0 ? void 0 : (_state$data = state.data) === null || _state$data === void 0 ? void 0 : _state$data.length) {\n      setData(state.data);\n    } else {\n      setData([]);\n    }\n  }, [state === null || state === void 0 ? void 0 : state.data]);\n  useEffect(() => {\n    if (!_.isEmpty(data) && (data === null || data === void 0 ? void 0 : data.length)) {\n      let isSelectedAll = data === null || data === void 0 ? void 0 : data.every(el => {\n        var _el$tableData;\n\n        return el === null || el === void 0 ? void 0 : (_el$tableData = el.tableData) === null || _el$tableData === void 0 ? void 0 : _el$tableData.checked;\n      });\n      setSelectAll(isSelectedAll);\n    } else {\n      setSelectAll(false);\n    }\n  }, [data]);\n\n  const handleChange = panel => (event, newExpanded) => {\n    setExpanded(newExpanded ? panel : false);\n  };\n\n  const handlePanelClick = () => {\n    setDetailPanelDiv(!detailPanelDiv);\n    detailPanelDiv ? setDetailPanelText(\"Detail Split Up\") : setDetailPanelText(\"Hide Split Up\");\n  };\n  /**\n   * @description Function execute when handle selection\n   * @param {*} dataClicked\n   * @param {*} idx\n   */\n\n\n  const onHandleSelection = (event, dataClicked, idx) => {\n    var _dataClicked, _dataClicked2, _dataClicked2$tableDa;\n\n    event.stopPropagation();\n    const selectedRows = [];\n    dataClicked = { ...dataClicked,\n      tableData: { ...((_dataClicked = dataClicked) === null || _dataClicked === void 0 ? void 0 : _dataClicked.tableData),\n        checked: !((_dataClicked2 = dataClicked) === null || _dataClicked2 === void 0 ? void 0 : (_dataClicked2$tableDa = _dataClicked2.tableData) === null || _dataClicked2$tableDa === void 0 ? void 0 : _dataClicked2$tableDa.checked)\n      }\n    };\n    const originalData = data === null || data === void 0 ? void 0 : data.map((el, index) => {\n      if (index === idx) {\n        var _el$tableData2;\n\n        return { ...el,\n          tableData: { ...(el === null || el === void 0 ? void 0 : el.tableData),\n            checked: !(el === null || el === void 0 ? void 0 : (_el$tableData2 = el.tableData) === null || _el$tableData2 === void 0 ? void 0 : _el$tableData2.checked)\n          }\n        };\n      } else {\n        return { ...el\n        };\n      }\n    });\n    setData(originalData);\n\n    const findSelecteds = list => {\n      list.forEach(row => {\n        if (row.tableData.checked) {\n          selectedRows.push(row);\n        }\n      });\n    };\n\n    findSelecteds(originalData);\n    onSelectionChange(selectedRows, dataClicked);\n  };\n  /**\n   * @description Function is use to handle the select all\n   * @param {*} flag\n   */\n\n\n  const handleSelectAll = flag => {\n    onSelectionChange(flag ? data : []);\n    setSelectAll(flag);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, !loading ? /*#__PURE__*/React.createElement(React.Fragment, null, selection ? /*#__PURE__*/React.createElement(Select, {\n    top: top,\n    left: left,\n    onClick: () => handleSelectAll(!selectAll),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    src: selectAll ? require(\"../../../assets/images/checkBoxSelected.svg\") : require(\"../../../assets/images/checkbox.svg\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 15\n    }\n  }, \"Select All\")) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }, !_.isEmpty(data) && (data === null || data === void 0 ? void 0 : data.map((item, idx) => {\n    var _item$tableData;\n\n    return /*#__PURE__*/React.createElement(ExpansionPanel, {\n      key: idx,\n      className: classes.root,\n      expanded: expanded === item.id,\n      onChange: handleChange(item.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(ExpansionPanelSummary, {\n      className: classes.root1,\n      expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n        className: classes.expandIcon,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 25\n        }\n      }),\n      \"aria-controls\": \"panel1bh-content\",\n      id: \"panel1bh-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(PanelSummary, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(PanelLeftTop, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 25\n      }\n    }, selection ? /*#__PURE__*/React.createElement(Icon, {\n      onClick: event => {\n        onHandleSelection(event, item, idx);\n      },\n      src: (item === null || item === void 0 ? void 0 : (_item$tableData = item.tableData) === null || _item$tableData === void 0 ? void 0 : _item$tableData.checked) ? require(\"../../../assets/images/checkBoxSelectedWhite.svg\") : require(\"../../../assets/images/checkboxWhite.svg\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 29\n      }\n    }) : null, column.columns[0].title), /*#__PURE__*/React.createElement(PanelRightTop, {\n      style: {\n        color: `${COLORS.BTN_GREEN}`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 25\n      }\n    }, column.columns[0].render(item)))), /*#__PURE__*/React.createElement(ExpansionPanelDetails, {\n      className: classes.expanded,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(PanelDetail, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 23\n      }\n    }, column.columns.filter((_, index) => {\n      return index !== 0;\n    }).map(i => {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Panel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(PanelLeft, {\n        selection: selection,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 35\n        }\n      }, i.title), /*#__PURE__*/React.createElement(PanelRight, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 35\n        }\n      }, i.render(item), detailPanel !== undefined && i.title === \"Description\" ? /*#__PURE__*/React.createElement(HyperLink, {\n        onClick: () => {\n          handlePanelClick();\n        },\n        style: {\n          marginTop: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 39\n        }\n      }, detailPanelText) : null)), detailPanel !== undefined && i.title === \"Description\" && detailPanelDiv ? /*#__PURE__*/React.createElement(DetailPanel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 35\n        }\n      }, detailPanel[0].render(item)) : null);\n    }))));\n  })))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader\",\n    style: {\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 11\n    }\n  })));\n}\nexport const Select = styled.div`\n  position: absolute;\n  top: ${({\n  top\n}) => top ? top : \"0px\"};\n  right: ${({\n  left\n}) => !left ? 0 : \"\"};\n  // top: 135px;\n  left: ${({\n  left\n}) => left ? 0 : \"\"};\n  font-size: 16px;\n  width: 110px;\n  display: flex;\n  align-items: center;\n  font-family: ${theme.fonts.primaryFontSemiBold};\n\n  @media (min-width: 780px) {\n    display: none;\n  }\n`;\nconst PanelSummary = styled.div`\n  width: 100%;\n  display: flex;\n  padding-left: 18px;\n`;\nconst PanelDetail = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n`;\nconst Panel = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  min-height: 44px;\n  padding-bottom: 20px;\n  word-break: break-word;\n`;\nconst PanelLeftTop = styled.div`\n  width: 50%;\n  color: white;\n  display: flex;\n  align-items: center;\n`;\nconst PanelLeft = styled.div`\n  width: 50%;\n  color: white;\n  align-items: center;\n  padding-left: 3px;\n  margin-left: ${({\n  selection\n}) => selection ? \"28px\" : \"0px\"};\n`;\nconst PanelRightTop = styled.div`\n  width: 50%;\n  text-align: center;\n  margin-left: 20px;\n`;\nconst PanelRight = styled.div`\n  width: 50%;\n  margin-left: 18px;\n  text-align: center;\n  color: ${COLORS.COLOR_DARK};\n`;\nconst DetailPanel = styled.div`\n  margin: 0 -16px 0 -17px;\n  padding: 15px 18px 20px 18px;\n  background-color: ${COLORS.TABLE_GREY_CELL};\n`;\nexport const Icon = styled.img`\n  margin-right: 10px;\n  width: 18px;\n  height: 18px;\n`;","map":{"version":3,"sources":["/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/common/CustomTable/SmallTable.js"],"names":["React","useState","useEffect","styled","COLORS","ExpansionPanel","ExpansionPanelSummary","ExpansionPanelDetails","makeStyles","_","theme","ExpandMoreIcon","CircularProgress","HyperLink","useStyles","themes","root","fontFamily","fonts","primaryFontRegular","background","COLOR_DARK","TABLE_GREY_CELL","fontWeight","position","right","top","root1","marginRight","expanded","paddingTop","paddingBottom","expandIcon","borderRadius","backgroundColor","color","BTN_GREEN","SmallTable","state","column","selection","onSelectionChange","detailPanel","left","setExpanded","classes","loading","setLoading","data","setData","detailPanelText","setDetailPanelText","detailPanelDiv","setDetailPanelDiv","selectAll","setSelectAll","setExpandedPanel","undefined","id","setLoader","isEmpty","length","isSelectedAll","every","el","tableData","checked","handleChange","panel","event","newExpanded","handlePanelClick","onHandleSelection","dataClicked","idx","stopPropagation","selectedRows","originalData","map","index","findSelecteds","list","forEach","row","push","handleSelectAll","flag","require","item","columns","title","render","filter","i","marginTop","textAlign","Select","div","primaryFontSemiBold","PanelSummary","PanelDetail","Panel","PanelLeftTop","PanelLeft","PanelRightTop","PanelRight","DetailPanel","Icon","img"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport COLORS from \"../../../assets/Colors\";\nimport {\n  ExpansionPanel,\n  ExpansionPanelSummary,\n  ExpansionPanelDetails,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport _ from \"lodash\";\nimport theme from \"../../../assets/theme\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport { HyperLink } from \"../styled-components\";\n\nconst useStyles = makeStyles((themes) => ({\n  root: {\n    fontFamily: `${theme.fonts.primaryFontRegular}`,\n    background: `linear-gradient(to right, ${COLORS.COLOR_DARK} 0%, ${COLORS.COLOR_DARK} 50%, ${COLORS.TABLE_GREY_CELL} 50%)`,\n    fontWeight: \"bold\",\n    \"& .MuiSvgIcon-root\": {\n      position: \"relative\",\n      right: \"0\",\n      top: \"0\",\n    },\n  },\n  root1: {\n    marginRight: \"10px\",\n  },\n  expanded: {\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n  expandIcon: {\n    borderRadius: \"50%\",\n    backgroundColor: \"white\",\n    color: `${COLORS.BTN_GREEN}`,\n  },\n}));\n\nexport default function SmallTable({\n  state,\n  column,\n  selection,\n  onSelectionChange = () => {},\n  detailPanel,\n  top,\n  left,\n}) {\n  const [expanded, setExpanded] = React.useState(false);\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState([]);\n  const [detailPanelText, setDetailPanelText] = useState(\"Details Split Up\");\n  const [detailPanelDiv, setDetailPanelDiv] = useState(false);\n  const [selectAll, setSelectAll] = useState(false);\n\n  useEffect(() => {\n    const setExpandedPanel = async () => {\n      await setExpanded(state.data !== undefined ? state.data[0]?.id : false);\n    };\n    setExpandedPanel();\n    const setLoader = () => {\n      setLoading(_.isEmpty(state) && _.isEmpty(column.data) ? true : false);\n    };\n    setLoader();\n    if (state?.data?.length) {\n      setData(state.data);\n    } else {\n      setData([]);\n    }\n  }, [state?.data]);\n\n  useEffect(() => {\n    if (!_.isEmpty(data) && data?.length) {\n      let isSelectedAll = data?.every((el) => el?.tableData?.checked);\n      setSelectAll(isSelectedAll);\n    } else {\n      setSelectAll(false);\n    }\n  }, [data]);\n\n  const handleChange = (panel) => (event, newExpanded) => {\n    setExpanded(newExpanded ? panel : false);\n  };\n\n  const handlePanelClick = () => {\n    setDetailPanelDiv(!detailPanelDiv);\n    detailPanelDiv\n      ? setDetailPanelText(\"Detail Split Up\")\n      : setDetailPanelText(\"Hide Split Up\");\n  };\n\n  /**\n   * @description Function execute when handle selection\n   * @param {*} dataClicked\n   * @param {*} idx\n   */\n  const onHandleSelection = (event, dataClicked, idx) => {\n    event.stopPropagation();\n    const selectedRows = [];\n    dataClicked = {\n      ...dataClicked,\n      tableData: {\n        ...dataClicked?.tableData,\n        checked: !dataClicked?.tableData?.checked,\n      },\n    };\n    const originalData = data?.map((el, index) => {\n      if (index === idx) {\n        return {\n          ...el,\n          tableData: {\n            ...el?.tableData,\n            checked: !el?.tableData?.checked,\n          },\n        };\n      } else {\n        return {\n          ...el,\n        };\n      }\n    });\n    setData(originalData);\n    const findSelecteds = (list) => {\n      list.forEach((row) => {\n        if (row.tableData.checked) {\n          selectedRows.push(row);\n        }\n      });\n    };\n    findSelecteds(originalData);\n    onSelectionChange(selectedRows, dataClicked);\n  };\n\n  /**\n   * @description Function is use to handle the select all\n   * @param {*} flag\n   */\n  const handleSelectAll = (flag) => {\n    onSelectionChange(flag ? data : []);\n    setSelectAll(flag);\n  };\n\n  return (\n    <>\n      {!loading ? (\n        <>\n          {selection ? (\n            <Select\n              top={top}\n              left={left}\n              onClick={() => handleSelectAll(!selectAll)}\n            >\n              <Icon\n                src={\n                  selectAll\n                    ? require(\"../../../assets/images/checkBoxSelected.svg\")\n                    : require(\"../../../assets/images/checkbox.svg\")\n                }\n              />\n              <p>Select All</p>\n            </Select>\n          ) : null}\n          <div className=\"custom-table\">\n            {!_.isEmpty(data) &&\n              data?.map((item, idx) => {\n                return (\n                  <ExpansionPanel\n                    key={idx}\n                    className={classes.root}\n                    expanded={expanded === item.id}\n                    onChange={handleChange(item.id)}\n                  >\n                    <ExpansionPanelSummary\n                      className={classes.root1}\n                      expandIcon={\n                        <ExpandMoreIcon className={classes.expandIcon} />\n                      }\n                      aria-controls=\"panel1bh-content\"\n                      id=\"panel1bh-header\"\n                    >\n                      <PanelSummary>\n                        <PanelLeftTop>\n                          {selection ? (\n                            <Icon\n                              onClick={(event) => {\n                                onHandleSelection(event, item, idx);\n                              }}\n                              src={\n                                item?.tableData?.checked\n                                  ? require(\"../../../assets/images/checkBoxSelectedWhite.svg\")\n                                  : require(\"../../../assets/images/checkboxWhite.svg\")\n                              }\n                            />\n                          ) : null}\n                          {column.columns[0].title}\n                        </PanelLeftTop>\n                        <PanelRightTop\n                          style={{\n                            color: `${COLORS.BTN_GREEN}`,\n                          }}\n                        >\n                          {column.columns[0].render(item)}\n                        </PanelRightTop>\n                      </PanelSummary>\n                    </ExpansionPanelSummary>\n\n                    <ExpansionPanelDetails className={classes.expanded}>\n                      <PanelDetail>\n                        {column.columns\n                          .filter((_, index) => {\n                            return index !== 0;\n                          })\n                          .map((i) => {\n                            return (\n                              <>\n                                <Panel>\n                                  <PanelLeft selection={selection}>\n                                    {i.title}\n                                  </PanelLeft>\n                                  <PanelRight>\n                                    {i.render(item)}\n                                    {detailPanel !== undefined &&\n                                    i.title === \"Description\" ? (\n                                      <HyperLink\n                                        onClick={() => {\n                                          handlePanelClick();\n                                        }}\n                                        style={{ marginTop: 10 }}\n                                      >\n                                        {detailPanelText}\n                                      </HyperLink>\n                                    ) : null}\n                                  </PanelRight>\n                                </Panel>\n                                {detailPanel !== undefined &&\n                                i.title === \"Description\" &&\n                                detailPanelDiv ? (\n                                  <DetailPanel>\n                                    {detailPanel[0].render(item)}\n                                  </DetailPanel>\n                                ) : null}\n                              </>\n                            );\n                          })}\n                      </PanelDetail>\n                    </ExpansionPanelDetails>\n                  </ExpansionPanel>\n                );\n              })}\n          </div>\n        </>\n      ) : (\n        <div className=\"loader\" style={{ textAlign: \"center\" }}>\n          <CircularProgress />\n        </div>\n      )}\n    </>\n  );\n}\n\nexport const Select = styled.div`\n  position: absolute;\n  top: ${({ top }) => (top ? top : \"0px\")};\n  right: ${({ left }) => (!left ? 0 : \"\")};\n  // top: 135px;\n  left: ${({ left }) => (left ? 0 : \"\")};\n  font-size: 16px;\n  width: 110px;\n  display: flex;\n  align-items: center;\n  font-family: ${theme.fonts.primaryFontSemiBold};\n\n  @media (min-width: 780px) {\n    display: none;\n  }\n`;\n\nconst PanelSummary = styled.div`\n  width: 100%;\n  display: flex;\n  padding-left: 18px;\n`;\n\nconst PanelDetail = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Panel = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  min-height: 44px;\n  padding-bottom: 20px;\n  word-break: break-word;\n`;\n\nconst PanelLeftTop = styled.div`\n  width: 50%;\n  color: white;\n  display: flex;\n  align-items: center;\n`;\nconst PanelLeft = styled.div`\n  width: 50%;\n  color: white;\n  align-items: center;\n  padding-left: 3px;\n  margin-left: ${({ selection }) => (selection ? \"28px\" : \"0px\")};\n`;\n\nconst PanelRightTop = styled.div`\n  width: 50%;\n  text-align: center;\n  margin-left: 20px;\n`;\nconst PanelRight = styled.div`\n  width: 50%;\n  margin-left: 18px;\n  text-align: center;\n  color: ${COLORS.COLOR_DARK};\n`;\n\nconst DetailPanel = styled.div`\n  margin: 0 -16px 0 -17px;\n  padding: 15px 18px 20px 18px;\n  background-color: ${COLORS.TABLE_GREY_CELL};\n`;\n\nexport const Icon = styled.img`\n  margin-right: 10px;\n  width: 18px;\n  height: 18px;\n`;\n"]},"metadata":{},"sourceType":"module"}