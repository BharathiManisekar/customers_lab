{"ast":null,"code":"var _jsxFileName = \"/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/common/Signup/Signup.js\";\n\n/* eslint-disable react/jsx-no-target-blank */\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState } from \"react\";\nimport { Header3, HeadingContainer, CardWrapper, ContentContainer, SmallText, Center } from \"../../../styles/component/style\";\nimport useUser from \"../../../hooks/useUser\";\nimport { PrimaryCTAButton } from \"../Buttons\";\nimport { Formik } from \"formik\";\nimport { signupValidationSchema } from \"../../../helpers/validationSchema\";\nimport FormField from \"../FormField/FormField\";\nimport _ from \"lodash\";\nimport AuthService from \"../../../services/AuthService\";\nimport { useSnackbar } from \"notistack\";\nimport { navigate, Link } from \"@reach/router\";\nimport { getErrorMessage } from \"../../../helpers/functions\";\nimport useLoader from \"../../../hooks/useLoader\";\nimport queryString from \"query-string\";\nimport labels from \"../../../helpers/labels.json\";\nimport GLogin from \"../GoogleLogin\";\nexport const Signup = ({\n  heading = \"SignUp\",\n  inputs = [],\n  tcLink = \"\",\n  submitLabel = labels[\"proceed\"],\n  loginLink = \"\",\n  disableSubmit = false,\n  location\n}) => {\n  var _state$payload, _state$payload2, _state$payload3, _state$payload4, _state$payload5;\n\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const {\n    setLoader\n  } = useLoader();\n  const {\n    state\n  } = location;\n  const {\n    setToken\n  } = useUser();\n  const [email, setEmail] = useState(\"\");\n\n  async function onFormSubmit(values) {\n    try {\n      setLoader({\n        state: true,\n        message: \"Please wait...\"\n      });\n\n      let payload = _.pick(values, [\"email\", \"mobile\", \"password\"]);\n\n      payload.name = values.fullname;\n      const response = await AuthService.verifications(payload);\n\n      if (response && payload.mobile && payload.mobile.includes(\"+91\")) {\n        enqueueSnackbar(\"OTP Sent Successfully\", {\n          variant: \"success\"\n        });\n        navigate(\"/otp\", {\n          state: {\n            payload,\n            values\n          }\n        });\n      } else {\n        if (response && response.token) {\n          setToken(response.token);\n          navigate(\"/create-profile\");\n        }\n      }\n    } catch (error) {\n      const message = getErrorMessage(error);\n      enqueueSnackbar(message, {\n        variant: \"error\"\n      });\n    } finally {\n      setLoader({\n        state: false\n      });\n    }\n  }\n\n  useEffect(() => {\n    if (location === null || location === void 0 ? void 0 : location.search) {\n      const payload = queryString.parse(location.search);\n\n      if (payload.email) {\n        setEmail(payload.email);\n      }\n    }\n  }, [location]);\n\n  const signUpwithGoogle = res => {\n    var _res$tokenObj;\n\n    if (res === null || res === void 0 ? void 0 : (_res$tokenObj = res.tokenObj) === null || _res$tokenObj === void 0 ? void 0 : _res$tokenObj.id_token) {\n      var _res$tokenObj2;\n\n      navigate(\"/google-signup\", {\n        state: {\n          idToken: res === null || res === void 0 ? void 0 : (_res$tokenObj2 = res.tokenObj) === null || _res$tokenObj2 === void 0 ? void 0 : _res$tokenObj2.id_token,\n          profileObj: res === null || res === void 0 ? void 0 : res.profileObj\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      fullname: (state === null || state === void 0 ? void 0 : (_state$payload = state.payload) === null || _state$payload === void 0 ? void 0 : _state$payload.fullname) || \"\",\n      email: email ? email : (state === null || state === void 0 ? void 0 : (_state$payload2 = state.payload) === null || _state$payload2 === void 0 ? void 0 : _state$payload2.email) || \"\",\n      mobile: (state === null || state === void 0 ? void 0 : (_state$payload3 = state.payload) === null || _state$payload3 === void 0 ? void 0 : _state$payload3.mobile) || \"\",\n      password: (state === null || state === void 0 ? void 0 : (_state$payload4 = state.payload) === null || _state$payload4 === void 0 ? void 0 : _state$payload4.password) || \"\",\n      confirmPassword: (state === null || state === void 0 ? void 0 : (_state$payload5 = state.payload) === null || _state$payload5 === void 0 ? void 0 : _state$payload5.confirmPassword) || \"\"\n    },\n    enableReinitialize: true,\n    onSubmit: onFormSubmit,\n    validationSchema: signupValidationSchema,\n    validateOnBlur: true,\n    validateOnChange: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, ({\n    values,\n    handleChange,\n    errors,\n    handleSubmit,\n    touched,\n    handleBlur,\n    setFieldValue\n  }) => /*#__PURE__*/React.createElement(CardWrapper, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(HeadingContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Header3, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, heading)), /*#__PURE__*/React.createElement(ContentContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, inputs.map((input, index) => {\n    return /*#__PURE__*/React.createElement(FormField, {\n      disabled: email.length && input.type === \"email\",\n      key: index,\n      touched,\n      errors,\n      input,\n      values,\n      handleChange,\n      handleBlur,\n      setFieldValue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    });\n  })), tcLink && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pt20 pb10 center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SmallText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  }, \"By signing up I agree with all\", \" \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/terms-and-conditions\",\n    target: \"_blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }, \"Terms and Conditions\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pt20 pb10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(PrimaryCTAButton, {\n    type: \"submit\",\n    onClick: handleSubmit,\n    disabled: disableSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, submitLabel)), loginLink && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SmallText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }, \"Have an account already? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 42\n    }\n  }, \"Login here\"))), /*#__PURE__*/React.createElement(Center, {\n    className: \"openSans-SemiBold pt10 pb10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 11\n    }\n  }, \"Or\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pb20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(GLogin, {\n    label: \"Signup with Google\",\n    className: \"p8\",\n    onSuccess: signUpwithGoogle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }\n  }))));\n};","map":{"version":3,"sources":["/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/common/Signup/Signup.js"],"names":["React","useEffect","useState","Header3","HeadingContainer","CardWrapper","ContentContainer","SmallText","Center","useUser","PrimaryCTAButton","Formik","signupValidationSchema","FormField","_","AuthService","useSnackbar","navigate","Link","getErrorMessage","useLoader","queryString","labels","GLogin","Signup","heading","inputs","tcLink","submitLabel","loginLink","disableSubmit","location","enqueueSnackbar","setLoader","state","setToken","email","setEmail","onFormSubmit","values","message","payload","pick","name","fullname","response","verifications","mobile","includes","variant","token","error","search","parse","signUpwithGoogle","res","tokenObj","id_token","idToken","profileObj","password","confirmPassword","handleChange","errors","handleSubmit","touched","handleBlur","setFieldValue","map","input","index","length","type"],"mappings":"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","sourcesContent":["/* eslint-disable react/jsx-no-target-blank */\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState } from \"react\";\nimport {\n  Header3,\n  HeadingContainer,\n  CardWrapper,\n  ContentContainer,\n  SmallText,\n  Center,\n} from \"../../../styles/component/style\";\nimport useUser from \"../../../hooks/useUser\";\nimport { PrimaryCTAButton } from \"../Buttons\";\nimport { Formik } from \"formik\";\nimport { signupValidationSchema } from \"../../../helpers/validationSchema\";\nimport FormField from \"../FormField/FormField\";\nimport _ from \"lodash\";\nimport AuthService from \"../../../services/AuthService\";\nimport { useSnackbar } from \"notistack\";\nimport { navigate, Link } from \"@reach/router\";\nimport { getErrorMessage } from \"../../../helpers/functions\";\nimport useLoader from \"../../../hooks/useLoader\";\nimport queryString from \"query-string\";\nimport labels from \"../../../helpers/labels.json\";\nimport GLogin from \"../GoogleLogin\";\n\nexport const Signup = ({\n  heading = \"SignUp\",\n  inputs = [],\n  tcLink = \"\",\n  submitLabel = labels[\"proceed\"],\n  loginLink = \"\",\n  disableSubmit = false,\n  location,\n}) => {\n  const { enqueueSnackbar } = useSnackbar();\n  const { setLoader } = useLoader();\n  const { state } = location;\n  const { setToken } = useUser();\n\n  const [email, setEmail] = useState(\"\");\n  async function onFormSubmit(values) {\n    try {\n      setLoader({ state: true, message: \"Please wait...\" });\n      let payload = _.pick(values, [\"email\", \"mobile\", \"password\"]);\n\n      payload.name = values.fullname;\n      const response = await AuthService.verifications(payload);\n      if (response && (payload.mobile && payload.mobile.includes(\"+91\"))) {\n        enqueueSnackbar(\"OTP Sent Successfully\", {\n          variant: \"success\",\n        });\n        navigate(\"/otp\", {\n          state: {\n            payload,\n            values,\n          },\n        });\n      }\n      else{\n        if (response && response.token) {\n          setToken(response.token);\n          navigate(\"/create-profile\");\n        }\n      }\n    } catch (error) {\n      const message = getErrorMessage(error);\n      enqueueSnackbar(message, {\n        variant: \"error\",\n      });\n    } finally {\n      setLoader({ state: false });\n    }\n  }\n\n  useEffect(() => {\n    if (location?.search) {\n      const payload = queryString.parse(location.search);\n      if (payload.email) {\n        setEmail(payload.email);\n      }\n    }\n  }, [location]);\n\n  const signUpwithGoogle = (res) => {\n    if (res?.tokenObj?.id_token) {\n      navigate(\"/google-signup\", {\n        state: {\n          idToken: res?.tokenObj?.id_token,\n          profileObj: res?.profileObj,\n        },\n      });\n    }\n  };\n\n  return (\n    <Formik\n      initialValues={{\n        fullname: state?.payload?.fullname || \"\",\n        email: email ? email : state?.payload?.email || \"\",\n        mobile: state?.payload?.mobile || \"\",\n        password: state?.payload?.password || \"\",\n        confirmPassword: state?.payload?.confirmPassword || \"\",\n      }}\n      enableReinitialize\n      onSubmit={onFormSubmit}\n      validationSchema={signupValidationSchema}\n      validateOnBlur\n      validateOnChange\n    >\n      {({\n        values,\n        handleChange,\n        errors,\n        handleSubmit,\n        touched,\n        handleBlur,\n        setFieldValue,\n      }) => (\n        <CardWrapper onSubmit={handleSubmit}>\n          <HeadingContainer>\n            <Header3>{heading}</Header3>\n          </HeadingContainer>\n          <ContentContainer>\n            {inputs.map((input, index) => {\n              return (\n                <FormField\n                  disabled={email.length && input.type === \"email\"}\n                  key={index}\n                  {...{\n                    touched,\n                    errors,\n                    input,\n                    values,\n                    handleChange,\n                    handleBlur,\n                    setFieldValue,\n                  }}\n                />\n              );\n            })}\n          </ContentContainer>\n          {tcLink && (\n            <div className=\"pt20 pb10 center\">\n              <SmallText>\n                By signing up I agree with all{\" \"}\n                <a href={\"/terms-and-conditions\"} target=\"_blank\">\n                  Terms and Conditions\n                </a>\n              </SmallText>\n            </div>\n          )}\n          <div className=\"pt20 pb10\">\n            <PrimaryCTAButton\n              type=\"submit\"\n              onClick={handleSubmit}\n              disabled={disableSubmit}\n            >\n              {submitLabel}\n            </PrimaryCTAButton>\n          </div>\n\n          {loginLink && (\n            <div className=\"center\">\n              <SmallText>\n                Have an account already? <Link to={\"/login\"}>Login here</Link>\n              </SmallText>\n            </div>\n          )}\n          <Center className=\"openSans-SemiBold pt10 pb10\">Or</Center>\n          <div className=\"pb20\">\n            <GLogin\n              label=\"Signup with Google\"\n              className=\"p8\"\n              onSuccess={signUpwithGoogle}\n            />\n          </div>\n        </CardWrapper>\n      )}\n    </Formik>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}