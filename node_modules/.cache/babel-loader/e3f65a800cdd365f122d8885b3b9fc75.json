{"ast":null,"code":"var _jsxFileName = \"/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/common/CasesTable/index.js\",\n    _theme$breakpoints,\n    _theme$breakpoints2,\n    _theme$breakpoints3;\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport styled, { css } from \"styled-components\";\nimport COLORS from \"../../../assets/Colors\";\nimport theme from \"../../../assets/theme\";\nimport CustomTable from \"../../common/CustomTable/CustomTable\";\nimport { navigate } from \"@reach/router\";\nimport queryString from \"query-string\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport CaseService from \"../../../services/CaseService\";\nimport FilterModal from \"./modal\";\nimport { formatNumberToMetrics, getCaseLabelByStatus, getErrorMessage, parseTimeStamp } from \"../../../helpers/functions\";\nimport { Drawer, useMediaQuery } from \"@material-ui/core\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { useSnackbar } from \"notistack\";\nimport usePrevious from \"../../../hooks/usePrevious\";\nimport labels from \"../../../helpers/labels.json\";\nimport PartyService from \"../../../services/PartyService\";\nimport { Footer } from \"../../internal/CaseCart/Styles\";\nimport { PrimaryCTAButton } from \"../Buttons\";\nimport useLoader from \"../../../hooks/useLoader\";\nimport useCartCount from \"../../../hooks/useCartCount\";\nimport AlertDialog from \"../../common/Alert\";\nimport { DangerBtn } from \"../../../styles/component/style\";\nconst useStyles = makeStyles({\n  root: {\n    \"& .MuiDrawer-paperAnchorRight\": {\n      zIndex: 2001,\n      boxShadow: \"1px 0px 20px 0px rgba(0,0,0,0.2)\"\n    }\n  }\n});\n\nasync function getCases(query = \"\", id, caseType) {\n  try {\n    let stats = {};\n    const type = `?resolutionKind=${caseType}`;\n    const response = await CaseService.getCases(query);\n\n    if (id) {\n      stats = await PartyService.partyCaseStats(id);\n    } else {\n      stats = await CaseService.caseStatsByCaseType(type);\n    }\n\n    return { ...response,\n      stats\n    };\n  } catch (error) {\n    throw error;\n  }\n}\n\nconst filterByStatus = selectedFilter => {\n  let key = \"status\";\n  let value = \"\";\n\n  switch (selectedFilter) {\n    case labels[\"filters.draft\"]:\n      value = \"draft\";\n      break;\n\n    case labels[\"filters.awaiting_payment\"]:\n      key = \"inCart\";\n      value = true;\n      break;\n\n    case labels[\"filters.under_resolution\"]:\n      value = \"underResolution\";\n      break;\n\n    case labels[\"filters.waiting_for_respondant\"]:\n      value = \"awaitingRespondent\";\n      break;\n\n    case labels[\"filters.settled\"]:\n      value = \"settled\";\n      break;\n\n    default:\n      break;\n  }\n\n  return {\n    key,\n    value\n  };\n};\n\nconst initFilters = [{\n  label: labels[\"filters.all\"],\n  key: \"allCount\",\n  value: 0\n}, {\n  label: labels[\"filters.waiting_for_respondant\"],\n  key: \"awaitingRespondentOnBoardingCount\",\n  value: 0\n}, {\n  label: labels[\"filters.under_resolution\"],\n  key: \"underResolution\",\n  value: 0\n}, {\n  label: labels[\"filters.settled\"],\n  key: \"settled\",\n  value: 0\n}, {\n  label: labels[\"filters.awaiting_payment\"],\n  key: \"inCartCount\",\n  value: 0\n}, {\n  label: labels[\"filters.draft\"],\n  key: \"draftCount\",\n  value: 0\n}];\nconst partyRoles = [{\n  label: labels[\"role.claimant\"],\n  value: \"claimant\"\n}, {\n  label: labels[\"role.respondent\"],\n  value: \"respondent\"\n}];\n\nconst CasesTable = ({\n  partyId = null,\n  status = null,\n  caseType = null,\n  draftSelection = false\n}) => {\n  var _state$data, _state$data2, _advanceFilter$partie3, _state$data3;\n\n  const [state, setState] = useState({});\n  const [filters, setFilters] = useState(initFilters);\n  const placeholderText = labels[\"table.caseSearch\"];\n  const [selectedFilter, setSelectedFilter] = useState(status ? status === \"Under Resolution\" ? status : _.capitalize(status) : \"All\");\n  const [advanceFilter, setAdvanceFilter] = useState({\n    parties: [],\n    role: partyRoles[0]\n  });\n  const filterPreviousValue = usePrevious(advanceFilter);\n  const [modal, setModal] = useState();\n  const MTRef = useRef();\n  const [noParty, setNoParty] = useState(false);\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const {\n    setLoader\n  } = useLoader();\n  const {\n    setTriggerCount\n  } = useCartCount();\n  const [open, setOpen] = useState(false);\n  const [dialogData, setDialogData] = useState(false);\n  const themes = useTheme();\n  const isBigScreen = useMediaQuery(themes.breakpoints.up(640));\n  console.log(\"selectedFilter\", advanceFilter);\n\n  function handleNavigateToParty(type, id, Case) {\n    var _Case$respondentParti;\n\n    switch (type) {\n      case \"draft\":\n        if (Case.totalClaimValue && caseType === \"negotiation\") {\n          navigate(`/dashboard/cases/create/${id}/step-3?caseType=${caseType}`);\n        } else if (Case.respondentName || Case.respondentMobile || Case.respondentEmail || Case.respondentPanNumber || (Case === null || Case === void 0 ? void 0 : (_Case$respondentParti = Case.respondentParties) === null || _Case$respondentParti === void 0 ? void 0 : _Case$respondentParti.length)) {\n          navigate(`/dashboard/cases/create/${id}/step-2?caseType=${caseType}`);\n        } else {\n          navigate(`/dashboard/cases/create/${id}?caseType=${caseType}`);\n        }\n\n        break;\n\n      default:\n        navigate(`/dashboard/cases/${id}?caseType=${caseType}`);\n        break;\n    }\n  }\n\n  function setStats(stats) {\n    const mapped = initFilters.map(filter => {\n      let returnData = {\n        label: filter.label,\n        value: filter.value\n      };\n\n      if (stats[filter.key] >= 0) {\n        returnData.value = stats[filter.key];\n      }\n\n      return returnData;\n    });\n    setFilters(mapped);\n  }\n\n  const columns = [{\n    field: \"id\",\n    title: \"Case ID\",\n    sorting: false,\n    render: rowData => /*#__PURE__*/React.createElement(HyperLink, {\n      onClick: () => navigate(`/dashboard/${rowData === null || rowData === void 0 ? void 0 : rowData.resolutionKind}/${rowData.id}`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }\n    }, rowData.id),\n    tooltip: \"Unique Identifier for the Case across JustAct platform\",\n    headerStyle: {\n      paddingLeft: \"26px\"\n    }\n  }, {\n    field: \"title\",\n    title: \"Case Title\",\n    render: rowData => /*#__PURE__*/React.createElement(Bold, {\n      onClick: () => navigate(`/dashboard/${rowData === null || rowData === void 0 ? void 0 : rowData.resolutionKind}/${rowData.id}`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }\n    }, rowData.title),\n    headerStyle: {\n      width: \"18%\"\n    },\n    sorting: false\n  }, {\n    field: \"role\",\n    title: labels[\"table.party_role\"],\n    tooltip: \"Your role is either Claimant or Respondent with respect to e case\",\n    render: rowData => /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        cursor: \"pointer\"\n      },\n      onClick: () => handleNavigateToParty(rowData === null || rowData === void 0 ? void 0 : rowData.status, rowData === null || rowData === void 0 ? void 0 : rowData.id, rowData),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }\n    }, _.startCase(rowData.agentRole)),\n    // headerStyle: {\n    //   maxWidth: 90,\n    //   width: 90,\n    //   padding: `12px 16px`\n    // },\n    // cellStyle: {\n    //   maxWidth: 90,\n    //   width: 90,\n    //   padding: `12px 16px`\n    // },\n    //render: (rowData) => <>{_.startCase(rowData.agentRole)}</>,\n    sorting: false\n  }, {\n    field: \"party\",\n    title: \"Party\",\n    render: rowData => {\n      var _rowData$claimantPart;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          cursor: \"pointer\"\n        },\n        onClick: () => navigate(`/dashboard/${rowData === null || rowData === void 0 ? void 0 : rowData.resolutionKind}/${rowData.id}`),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 9\n        }\n      }, rowData === null || rowData === void 0 ? void 0 : (_rowData$claimantPart = rowData.claimantParty) === null || _rowData$claimantPart === void 0 ? void 0 : _rowData$claimantPart.name);\n    },\n    //render: (rowData) => <>{rowData?.claimantParty?.name}</>,\n    tooltip: \"Parties representing to file the case\",\n    sorting: false\n  }, {\n    field: \"respondentName\",\n    title: \"Counterparty\",\n    tooltip: \"Party countering your case\",\n    sorting: false,\n    render: rowData => {\n      var _rowData$respondentPa, _rowData$respondentPa2, _rowData$respondentPa3;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          cursor: \"pointer\"\n        },\n        onClick: () => navigate(`/dashboard/${rowData === null || rowData === void 0 ? void 0 : rowData.resolutionKind}/${rowData.id}`),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 9\n        }\n      }, (rowData === null || rowData === void 0 ? void 0 : (_rowData$respondentPa = rowData.respondentParty) === null || _rowData$respondentPa === void 0 ? void 0 : _rowData$respondentPa.name) ? rowData.respondentParty.name : (rowData === null || rowData === void 0 ? void 0 : rowData.respondentName) ? rowData.respondentName : (rowData === null || rowData === void 0 ? void 0 : (_rowData$respondentPa2 = rowData.respondentParties) === null || _rowData$respondentPa2 === void 0 ? void 0 : _rowData$respondentPa2.length) ? rowData === null || rowData === void 0 ? void 0 : (_rowData$respondentPa3 = rowData.respondentParties[0]) === null || _rowData$respondentPa3 === void 0 ? void 0 : _rowData$respondentPa3.name : /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginLeft: 35\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }\n      }, \"-\"));\n    }\n  }, {\n    field: \"totalClaimValue\",\n    title: \"Claim Value\",\n    tooltip: \"Claim Value of the Case\",\n    render: rowData => {\n      const caseItems = rowData.totalClaimValue;\n      const divStyle = {\n        cursor: \"pointer\"\n      };\n      if (caseItems) return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        style: divStyle,\n        onClick: () => navigate(`/dashboard/${rowData === null || rowData === void 0 ? void 0 : rowData.resolutionKind}/${rowData.id}`),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 13\n        }\n      }, \"INR \" + formatNumberToMetrics(parseFloat(caseItems).toFixed(2), \"INR\"));else return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        style: divStyle,\n        onClick: () => navigate(`/dashboard/${rowData === null || rowData === void 0 ? void 0 : rowData.resolutionKind}/${rowData.id}`),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }\n      }, \"Non Monetary\");\n    },\n    sorting: true\n  }, {\n    field: \"status\",\n    title: \"Status\",\n    tooltip: \"Status of the Case\",\n    render: rowData => /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        cursor: \"pointer\"\n      },\n      onClick: () => navigate(`/dashboard/${rowData === null || rowData === void 0 ? void 0 : rowData.resolutionKind}/${rowData.id}`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }\n    }, getCaseLabelByStatus(rowData)) //render: (rowData) => <>{getCaseLabelByStatus(rowData)}</>,\n\n  }, {\n    field: \"submittedOn\",\n    title: \"Created\",\n    tooltip: \"Case Created Date\",\n    headerStyle: {\n      width: 120\n    },\n    render: rowData => /*#__PURE__*/React.createElement(Datecolumn, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"date\",\n      onClick: () => navigate(`/dashboard/${rowData === null || rowData === void 0 ? void 0 : rowData.resolutionKind}/${rowData.id}`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 11\n      }\n    }, (rowData === null || rowData === void 0 ? void 0 : rowData.submittedOn) ? moment(rowData.submittedOn).format(\"DD/MM/YYYY\") : moment(parseTimeStamp(rowData.created_at)).format(\"DD/MM/YYYY\")), (rowData === null || rowData === void 0 ? void 0 : rowData.status) === \"draft\" && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"delete\",\n      onClick: () => deleteWaring(false, rowData === null || rowData === void 0 ? void 0 : rowData.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 13\n      }\n    }, labels[\"table.delete\"]))\n  }];\n  /**\n   * @description Function to deleted the selected case\n   */\n\n  const deleteSelectedDraft = async () => {\n    try {\n      setLoader({\n        state: true,\n        message: \"Deleting Cases...\"\n      });\n      const res = await CaseService.deleteSelectedCases();\n\n      if (res === null || res === void 0 ? void 0 : res.message) {\n        enqueueSnackbar(res === null || res === void 0 ? void 0 : res.message, {\n          variant: \"success\"\n        });\n      }\n    } catch (error) {\n      const message = getErrorMessage(error);\n      enqueueSnackbar(message, {\n        variant: \"error\"\n      });\n    } finally {\n      setLoader({\n        state: false\n      });\n      MTRef.current.onQueryChange(\"\");\n      setOpen(false);\n    }\n  };\n  /**\n   * @description Function to trigger the delete case\n   * @param {*} param0\n   */\n\n\n  const deleteDraft = async id => {\n    try {\n      setLoader({\n        state: true,\n        message: \"Deleting Cases...\"\n      });\n      const res = await CaseService.deleteDraftCase(id);\n\n      if (res === null || res === void 0 ? void 0 : res.message) {\n        enqueueSnackbar(res === null || res === void 0 ? void 0 : res.message, {\n          variant: \"success\"\n        });\n      }\n    } catch (error) {\n      const message = getErrorMessage(error);\n      enqueueSnackbar(message, {\n        variant: \"error\"\n      });\n    } finally {\n      setLoader({\n        state: false\n      });\n      MTRef.current.onQueryChange(\"\");\n      setOpen(false);\n    }\n  };\n\n  useEffect(() => {\n    if ((selectedFilter || advanceFilter) && filterPreviousValue && caseType) {\n      var _MTRef$current, _MTRef$current$state;\n\n      MTRef.current.onQueryChange(MTRef === null || MTRef === void 0 ? void 0 : (_MTRef$current = MTRef.current) === null || _MTRef$current === void 0 ? void 0 : (_MTRef$current$state = _MTRef$current.state) === null || _MTRef$current$state === void 0 ? void 0 : _MTRef$current$state.query);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [selectedFilter, advanceFilter, caseType]);\n\n  const data = query => new Promise(resolve => {\n    var _query$orderBy, _advanceFilter$partie;\n\n    let params = {\n      page: query.page + 1,\n      perPage: 10\n    };\n\n    if (partyId) {\n      params.partyId = partyId;\n    }\n\n    params.selected = true;\n    let partyQueryString = \"\";\n\n    if (query.search) {\n      params.search = query.search;\n    }\n\n    if ((_query$orderBy = query.orderBy) === null || _query$orderBy === void 0 ? void 0 : _query$orderBy.field) {\n      params.sort = query.orderBy.field;\n      params.sortDirection = query.orderDirection;\n    }\n\n    if (caseType) {\n      params.resolutionKind = caseType;\n    }\n\n    const {\n      key,\n      value\n    } = filterByStatus(selectedFilter);\n\n    if (key && value) {\n      params[key] = value;\n    }\n\n    if ((advanceFilter === null || advanceFilter === void 0 ? void 0 : (_advanceFilter$partie = advanceFilter.parties) === null || _advanceFilter$partie === void 0 ? void 0 : _advanceFilter$partie.length) > 0) {\n      var _advanceFilter$partie2;\n\n      const partyId = advanceFilter === null || advanceFilter === void 0 ? void 0 : (_advanceFilter$partie2 = advanceFilter.parties) === null || _advanceFilter$partie2 === void 0 ? void 0 : _advanceFilter$partie2.map(el => el.id);\n      partyQueryString = queryString.stringify({\n        partyIds: partyId\n      }, {\n        arrayFormat: \"index\"\n      });\n      params.agentRole = advanceFilter.role.value;\n    }\n\n    let stringParams = \"\";\n\n    if (!_.isEmpty(params)) {\n      stringParams = `?${queryString.stringify(params)}`;\n    }\n\n    if (partyQueryString) {\n      stringParams += `&${partyQueryString}`;\n    }\n\n    getCases(stringParams, partyId, caseType).then(async result => {\n      if (result) {\n        if (result.message === \"Your are not associated with any Party\") {\n          resolve({\n            data: [],\n            page: 0,\n            total: 0\n          });\n          setState({\n            data: [],\n            lastPage: 1,\n            page: 1,\n            perPage: 10,\n            total: 0\n          });\n          setNoParty(true);\n        } else {\n          var _result$data;\n\n          const rowData = result === null || result === void 0 ? void 0 : (_result$data = result.data) === null || _result$data === void 0 ? void 0 : _result$data.map(row => ({ ...row,\n            tableData: {\n              checked: row === null || row === void 0 ? void 0 : row.isSelected\n            }\n          }));\n          resolve({\n            data: rowData,\n            page: result.page - 1,\n            total: result.total,\n            lastPage: result.lastPage\n          });\n          setState({\n            data: rowData,\n            page: result.page - 1,\n            total: result.total,\n            lastPage: result.lastPage\n          });\n          setStats(result.stats);\n        }\n      }\n    }).catch(error => {\n      enqueueSnackbar(getErrorMessage(error), {\n        variant: \"error\"\n      });\n      setState({\n        data: [],\n        lastPage: 1,\n        page: 1,\n        perPage: 10,\n        total: 0\n      });\n      resolve({\n        data: [],\n        page: 0,\n        total: 0\n      });\n    });\n  });\n\n  const handleCaseSelection = async (cases, data) => {\n    const param = `?resolutionKind=${caseType}`;\n\n    if ((cases === null || cases === void 0 ? void 0 : cases.length) > 1 && !data) {\n      try {\n        setLoader({\n          state: true,\n          message: \"Modifying Cases...\"\n        });\n        await CaseService.addAllCases(param);\n      } catch (error) {\n        const message = getErrorMessage(error);\n        enqueueSnackbar(message, {\n          variant: \"error\"\n        });\n      } finally {\n        setLoader({\n          state: false\n        });\n        MTRef.current.onQueryChange(\"\");\n      }\n    } else if ((cases === null || cases === void 0 ? void 0 : cases.length) === 0 && !data) {\n      try {\n        setLoader({\n          state: true,\n          message: \"Modifying Cases...\"\n        });\n        await CaseService.removeAllCases(param);\n      } catch (error) {\n        const message = getErrorMessage(error);\n        enqueueSnackbar(message, {\n          variant: \"error\"\n        });\n      } finally {\n        setLoader({\n          state: false\n        });\n        MTRef.current.onQueryChange(\"\");\n      }\n    } else {\n      try {\n        var _data$tableData;\n\n        setLoader({\n          state: true,\n          message: \"Modifying Cases...\"\n        });\n\n        if (data === null || data === void 0 ? void 0 : (_data$tableData = data.tableData) === null || _data$tableData === void 0 ? void 0 : _data$tableData.checked) {\n          await CaseService.selectCaseItem(data === null || data === void 0 ? void 0 : data.id);\n        } else {\n          await CaseService.removeCaseItem(data.id);\n        }\n      } catch (error) {\n        const message = getErrorMessage(error);\n        enqueueSnackbar(message, {\n          variant: \"error\"\n        });\n      } finally {\n        setLoader({\n          state: false\n        }); // MTRef.current.onQueryChange(\"\");\n      }\n    }\n  };\n\n  const deleteWaring = (isSelectAll, id) => {\n    setOpen(true);\n    setDialogData({\n      primaryBtnText: \"Proceed\",\n      secondaryBtnText: \"Cancel\",\n      clickPrimaryBtn: () => isSelectAll ? deleteSelectedDraft() : deleteDraft(id),\n      clickSecondarybtn: () => setOpen(false),\n      desc: `Are you sure you want to delete this draft case(s)?`,\n      heading: \"Delete Case\",\n      descriptionTextStyle: {\n        textAlign: \"center\"\n      }\n    });\n  };\n\n  const submitCaseWarning = () => {\n    setOpen(true);\n    setDialogData({\n      secondaryBtnText: \"Cancel\",\n      primaryBtnText: \"Proceed\",\n      clickPrimaryBtn: () => selectAllSubmit(),\n      clickSecondarybtn: () => setOpen(false),\n      desc: `Before submitting the case, please check all the information that you have provided. The proceedings shall be conducted based on this information.`,\n      //desc: `Before submitting a case, please make sure that all the mandatory fields are entered for every case. In case of any data is missed, it might lead to data issue and the process cannot be undone.`,\n      heading: \"Submit Cases\",\n      descriptionTextStyle: {\n        textAlign: \"center\"\n      }\n    });\n  };\n\n  const selectAllSubmit = async () => {\n    try {\n      setLoader({\n        state: true,\n        message: \"Submitting Cases...\"\n      });\n      const param = `?resolutionKind=${caseType}`;\n      const res = await CaseService.submitDraftCase(param);\n\n      if (res === null || res === void 0 ? void 0 : res.message) {\n        enqueueSnackbar(res === null || res === void 0 ? void 0 : res.message, {\n          variant: \"success\"\n        });\n      }\n    } catch (error) {\n      const message = getErrorMessage(error);\n      enqueueSnackbar(message, {\n        variant: \"error\"\n      });\n    } finally {\n      setLoader({\n        state: false\n      });\n      setTriggerCount(true);\n      setOpen(false);\n      setDialogData({});\n      MTRef.current.onQueryChange(\"\");\n    }\n  };\n\n  const classes = useStyles();\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 618,\n      columnNumber: 5\n    }\n  }, columns.length > 0 && /*#__PURE__*/React.createElement(CustomTable, {\n    onSelectionChange: handleCaseSelection,\n    selection: draftSelection && selectedFilter === \"Draft\",\n    hidePagination: state.lastPage === 1,\n    pageSize: (state === null || state === void 0 ? void 0 : (_state$data = state.data) === null || _state$data === void 0 ? void 0 : _state$data.length) ? state === null || state === void 0 ? void 0 : (_state$data2 = state.data) === null || _state$data2 === void 0 ? void 0 : _state$data2.length : 10,\n    pluralTitle: labels[\"cases\"],\n    singularTitle: noParty ? labels[\"party\"].toLowerCase() : labels[\"case\"].toLowerCase(),\n    customFilter: partyId ? false : true,\n    onFilterClick: () => setModal(true),\n    filterCount: advanceFilter === null || advanceFilter === void 0 ? void 0 : (_advanceFilter$partie3 = advanceFilter.parties) === null || _advanceFilter$partie3 === void 0 ? void 0 : _advanceFilter$partie3.length,\n    customMessage: noParty ? labels[\"table.caseError\"] : null,\n    columns,\n    data,\n    filters,\n    selectedFilter,\n    setSelectedFilter,\n    placeholderText,\n    MTRef,\n    state: state,\n    left: isBigScreen ? true : false,\n    top: isBigScreen ? \"140px\" : \"-50px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 620,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 650,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ButtonContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 651,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-row\",\n    style: {\n      display: selectedFilter === \"Draft\" && (state === null || state === void 0 ? void 0 : (_state$data3 = state.data) === null || _state$data3 === void 0 ? void 0 : _state$data3.some(el => {\n        var _el$tableData;\n\n        return (_el$tableData = el.tableData) === null || _el$tableData === void 0 ? void 0 : _el$tableData.checked;\n      })) ? \"flex\" : \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 652,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(DangerBtn, {\n    style: {\n      width: \"216px\",\n      marginLeft: \"26px\",\n      marginTop: 20\n    },\n    onClick: () => deleteWaring(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 662,\n      columnNumber: 13\n    }\n  }, labels[\"table.delete\"]), /*#__PURE__*/React.createElement(PrimaryCTAButton, {\n    style: {\n      width: \"216px\",\n      marginLeft: \"26px\",\n      marginTop: 20\n    },\n    onClick: () => submitCaseWarning(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 673,\n      columnNumber: 13\n    }\n  }, labels.proceed)))), /*#__PURE__*/React.createElement(Drawer, {\n    variant: \"persistent\",\n    className: classes.root,\n    anchor: \"right\",\n    open: modal,\n    onClose: () => setModal(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 686,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FilterModal, {\n    modal,\n    setModal,\n    advanceFilter,\n    setAdvanceFilter,\n    partyRoles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 693,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(AlertDialog, Object.assign({\n    isOpen: open\n  }, dialogData, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 703,\n      columnNumber: 7\n    }\n  })));\n};\n\nexport default CasesTable;\nconst ButtonContainer = styled.div`\n  display: flex;\n  flex: 1;\n  & .button-row {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex: 1;\n    @media ${theme === null || theme === void 0 ? void 0 : (_theme$breakpoints = theme.breakpoints) === null || _theme$breakpoints === void 0 ? void 0 : _theme$breakpoints.sm_up} {\n      flex-direction: row;\n      justify-content: flex-end;\n    }\n  }\n`;\nconst Container = styled.div``;\nconst HyperLink = styled.span`\n  cursor: pointer;\n  color: ${COLORS.BTN_GREEN};\n  text-decoration: underline;\n  padding-left: 29px;\n  ${({\n  disabled\n}) => disabled && css`\n      cursor: not-allowed;\n      opacity: 0.6;\n      & .add_circle {\n        cursor: not-allowed !important;\n      }\n    `}\n`;\nconst Datecolumn = styled.div`\n  .delete {\n    margin-top: 2px;\n    cursor: pointer;\n    color: ${COLORS.LOGOUT_RED};\n    font-size: 12px;\n  }\n`;\nconst Bold = styled.span`\n  cursor: pointer;\n  ${({\n  disabled\n}) => disabled && css`\n      cursor: not-allowed;\n      & .add_circle {\n        cursor: not-allowed !important;\n      }\n    `}\n  @media ${theme === null || theme === void 0 ? void 0 : (_theme$breakpoints2 = theme.breakpoints) === null || _theme$breakpoints2 === void 0 ? void 0 : _theme$breakpoints2.sm_up} {\n    font-family: ${theme.fonts.primaryFontBold};\n  }\n`;\nconst Center = styled.div`\n  margin-left: 0;\n  @media ${theme === null || theme === void 0 ? void 0 : (_theme$breakpoints3 = theme.breakpoints) === null || _theme$breakpoints3 === void 0 ? void 0 : _theme$breakpoints3.lg_up} {\n    margin-left: 35px;\n  }\n`;","map":{"version":3,"sources":["/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/common/CasesTable/index.js"],"names":["React","useState","useEffect","useRef","styled","css","COLORS","theme","CustomTable","navigate","queryString","_","moment","CaseService","FilterModal","formatNumberToMetrics","getCaseLabelByStatus","getErrorMessage","parseTimeStamp","Drawer","useMediaQuery","makeStyles","useTheme","useSnackbar","usePrevious","labels","PartyService","Footer","PrimaryCTAButton","useLoader","useCartCount","AlertDialog","DangerBtn","useStyles","root","zIndex","boxShadow","getCases","query","id","caseType","stats","type","response","partyCaseStats","caseStatsByCaseType","error","filterByStatus","selectedFilter","key","value","initFilters","label","partyRoles","CasesTable","partyId","status","draftSelection","state","setState","filters","setFilters","placeholderText","setSelectedFilter","capitalize","advanceFilter","setAdvanceFilter","parties","role","filterPreviousValue","modal","setModal","MTRef","noParty","setNoParty","enqueueSnackbar","setLoader","setTriggerCount","open","setOpen","dialogData","setDialogData","themes","isBigScreen","breakpoints","up","console","log","handleNavigateToParty","Case","totalClaimValue","respondentName","respondentMobile","respondentEmail","respondentPanNumber","respondentParties","length","setStats","mapped","map","filter","returnData","columns","field","title","sorting","render","rowData","resolutionKind","tooltip","headerStyle","paddingLeft","width","cursor","startCase","agentRole","claimantParty","name","respondentParty","marginLeft","caseItems","divStyle","parseFloat","toFixed","submittedOn","format","created_at","deleteWaring","deleteSelectedDraft","message","res","deleteSelectedCases","variant","current","onQueryChange","deleteDraft","deleteDraftCase","data","Promise","resolve","params","page","perPage","selected","partyQueryString","search","orderBy","sort","sortDirection","orderDirection","el","stringify","partyIds","arrayFormat","stringParams","isEmpty","then","result","total","lastPage","row","tableData","checked","isSelected","catch","handleCaseSelection","cases","param","addAllCases","removeAllCases","selectCaseItem","removeCaseItem","isSelectAll","primaryBtnText","secondaryBtnText","clickPrimaryBtn","clickSecondarybtn","desc","heading","descriptionTextStyle","textAlign","submitCaseWarning","selectAllSubmit","submitDraftCase","classes","toLowerCase","display","some","marginTop","proceed","ButtonContainer","div","sm_up","Container","HyperLink","span","BTN_GREEN","disabled","Datecolumn","LOGOUT_RED","Bold","fonts","primaryFontBold","Center","lg_up"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport styled, { css } from \"styled-components\";\nimport COLORS from \"../../../assets/Colors\";\nimport theme from \"../../../assets/theme\";\nimport CustomTable from \"../../common/CustomTable/CustomTable\";\nimport { navigate } from \"@reach/router\";\nimport queryString from \"query-string\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport CaseService from \"../../../services/CaseService\";\nimport FilterModal from \"./modal\";\nimport {\n  formatNumberToMetrics,\n  getCaseLabelByStatus,\n  getErrorMessage,\n  parseTimeStamp\n} from \"../../../helpers/functions\";\nimport { Drawer, useMediaQuery } from \"@material-ui/core\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { useSnackbar } from \"notistack\";\nimport usePrevious from \"../../../hooks/usePrevious\";\nimport labels from \"../../../helpers/labels.json\";\nimport PartyService from \"../../../services/PartyService\";\nimport { Footer } from \"../../internal/CaseCart/Styles\";\nimport { PrimaryCTAButton } from \"../Buttons\";\nimport useLoader from \"../../../hooks/useLoader\";\nimport useCartCount from \"../../../hooks/useCartCount\";\nimport AlertDialog from \"../../common/Alert\";\nimport { DangerBtn } from \"../../../styles/component/style\";\n\nconst useStyles = makeStyles({\n  root: {\n    \"& .MuiDrawer-paperAnchorRight\": {\n      zIndex: 2001,\n      boxShadow: \"1px 0px 20px 0px rgba(0,0,0,0.2)\"\n    }\n  }\n});\n\nasync function getCases(query = \"\", id, caseType) {\n  try {\n    let stats = {};\n    const type = `?resolutionKind=${caseType}`;\n    const response = await CaseService.getCases(query);\n    if (id) {\n      stats = await PartyService.partyCaseStats(id);\n    } else {\n      stats = await CaseService.caseStatsByCaseType(type);\n    }\n    return { ...response, stats };\n  } catch (error) {\n    throw error;\n  }\n}\n\nconst filterByStatus = selectedFilter => {\n  let key = \"status\";\n  let value = \"\";\n  switch (selectedFilter) {\n    case labels[\"filters.draft\"]:\n      value = \"draft\";\n      break;\n    case labels[\"filters.awaiting_payment\"]:\n      key = \"inCart\";\n      value = true;\n      break;\n    case labels[\"filters.under_resolution\"]:\n      value = \"underResolution\";\n      break;\n    case labels[\"filters.waiting_for_respondant\"]:\n      value = \"awaitingRespondent\";\n      break;\n    case labels[\"filters.settled\"]:\n      value = \"settled\";\n      break;\n    default:\n      break;\n  }\n  return { key, value };\n};\n\nconst initFilters = [\n  { label: labels[\"filters.all\"], key: \"allCount\", value: 0 },\n  {\n    label: labels[\"filters.waiting_for_respondant\"],\n    key: \"awaitingRespondentOnBoardingCount\",\n    value: 0\n  },\n  {\n    label: labels[\"filters.under_resolution\"],\n    key: \"underResolution\",\n    value: 0\n  },\n  { label: labels[\"filters.settled\"], key: \"settled\", value: 0 },\n  { label: labels[\"filters.awaiting_payment\"], key: \"inCartCount\", value: 0 },\n  { label: labels[\"filters.draft\"], key: \"draftCount\", value: 0 }\n];\n\nconst partyRoles = [\n  { label: labels[\"role.claimant\"], value: \"claimant\" },\n  { label: labels[\"role.respondent\"], value: \"respondent\" }\n];\n\nconst CasesTable = ({\n  partyId = null,\n  status = null,\n  caseType = null,\n  draftSelection = false\n}) => {\n  const [state, setState] = useState({});\n  const [filters, setFilters] = useState(initFilters);\n  const placeholderText = labels[\"table.caseSearch\"];\n  const [selectedFilter, setSelectedFilter] = useState(\n    status\n      ? status === \"Under Resolution\"\n        ? status\n        : _.capitalize(status)\n      : \"All\"\n  );\n  const [advanceFilter, setAdvanceFilter] = useState({\n    parties: [],\n    role: partyRoles[0]\n  });\n  const filterPreviousValue = usePrevious(advanceFilter);\n  const [modal, setModal] = useState();\n  const MTRef = useRef();\n  const [noParty, setNoParty] = useState(false);\n  const { enqueueSnackbar } = useSnackbar();\n  const { setLoader } = useLoader();\n  const { setTriggerCount } = useCartCount();\n\n  const [open, setOpen] = useState(false);\n  const [dialogData, setDialogData] = useState(false);\n  const themes = useTheme();\n  const isBigScreen = useMediaQuery(themes.breakpoints.up(640));\n\n  console.log(\"selectedFilter\", advanceFilter);\n\n  function handleNavigateToParty(type, id, Case) {\n    switch (type) {\n      case \"draft\":\n        if (Case.totalClaimValue && caseType === \"negotiation\") {\n          navigate(`/dashboard/cases/create/${id}/step-3?caseType=${caseType}`);\n        } else if (\n          Case.respondentName ||\n          Case.respondentMobile ||\n          Case.respondentEmail ||\n          Case.respondentPanNumber ||\n          Case?.respondentParties?.length\n        ) {\n          navigate(`/dashboard/cases/create/${id}/step-2?caseType=${caseType}`);\n        } else {\n          navigate(`/dashboard/cases/create/${id}?caseType=${caseType}`);\n        }\n        break;\n      default:\n        navigate(`/dashboard/cases/${id}?caseType=${caseType}`);\n        break;\n    }\n  }\n\n  function setStats(stats) {\n    const mapped = initFilters.map(filter => {\n      let returnData = {\n        label: filter.label,\n        value: filter.value\n      };\n      if (stats[filter.key] >= 0) {\n        returnData.value = stats[filter.key];\n      }\n      return returnData;\n    });\n    setFilters(mapped);\n  }\n\n  const columns = [\n    {\n      field: \"id\",\n      title: \"Case ID\",\n      sorting: false,\n      render: rowData => (\n        <HyperLink\n          onClick={() =>\n            navigate(`/dashboard/${rowData?.resolutionKind}/${rowData.id}`)\n          }\n        >\n          {rowData.id}\n        </HyperLink>\n      ),\n      tooltip: \"Unique Identifier for the Case across JustAct platform\",\n      headerStyle: {\n        paddingLeft: \"26px\"\n      }\n    },\n    {\n      field: \"title\",\n      title: \"Case Title\",\n      render: rowData => (\n        <Bold\n          onClick={() =>\n            navigate(`/dashboard/${rowData?.resolutionKind}/${rowData.id}`)\n          }\n        >\n          {rowData.title}\n        </Bold>\n      ),\n      headerStyle: {\n        width: \"18%\"\n      },\n      sorting: false\n    },\n    {\n      field: \"role\",\n      title: labels[\"table.party_role\"],\n      tooltip:\n        \"Your role is either Claimant or Respondent with respect to e case\",\n      render: rowData => (\n        <div\n          style={{ cursor: \"pointer\" }}\n          onClick={() =>\n            handleNavigateToParty(rowData?.status, rowData?.id, rowData)\n          }\n        >\n          {_.startCase(rowData.agentRole)}\n        </div>\n      ),\n      // headerStyle: {\n      //   maxWidth: 90,\n      //   width: 90,\n      //   padding: `12px 16px`\n      // },\n      // cellStyle: {\n      //   maxWidth: 90,\n      //   width: 90,\n      //   padding: `12px 16px`\n      // },\n      //render: (rowData) => <>{_.startCase(rowData.agentRole)}</>,\n      sorting: false\n    },\n    {\n      field: \"party\",\n      title: \"Party\",\n      render: rowData => (\n        <div\n          style={{ cursor: \"pointer\" }}\n          onClick={() =>\n            navigate(`/dashboard/${rowData?.resolutionKind}/${rowData.id}`)\n          }\n        >\n          {rowData?.claimantParty?.name}\n        </div>\n      ),\n      //render: (rowData) => <>{rowData?.claimantParty?.name}</>,\n      tooltip: \"Parties representing to file the case\",\n      sorting: false\n    },\n    {\n      field: \"respondentName\",\n      title: \"Counterparty\",\n      tooltip: \"Party countering your case\",\n      sorting: false,\n      render: rowData => (\n        <div\n          style={{ cursor: \"pointer\" }}\n          onClick={() =>\n            navigate(`/dashboard/${rowData?.resolutionKind}/${rowData.id}`)\n          }\n        >\n          {rowData?.respondentParty?.name ? (\n            rowData.respondentParty.name\n          ) : rowData?.respondentName ? (\n            rowData.respondentName\n          ) : rowData?.respondentParties?.length ? (\n            rowData?.respondentParties[0]?.name\n          ) : (\n            <div style={{ marginLeft: 35 }}>-</div>\n          )}\n        </div>\n      )\n    },\n    {\n      field: \"totalClaimValue\",\n      title: \"Claim Value\",\n      tooltip: \"Claim Value of the Case\",\n      render: rowData => {\n        const caseItems = rowData.totalClaimValue;\n        const divStyle = {\n          cursor: \"pointer\"\n        };\n        if (caseItems)\n          return (\n            <div\n              className=\"container\"\n              style={divStyle}\n              onClick={() =>\n                navigate(`/dashboard/${rowData?.resolutionKind}/${rowData.id}`)\n              }\n            >\n              {\"INR \" +\n                formatNumberToMetrics(parseFloat(caseItems).toFixed(2), \"INR\")}\n            </div>\n          );\n        else\n          return (\n            <div\n              className=\"container\"\n              style={divStyle}\n              onClick={() =>\n                navigate(`/dashboard/${rowData?.resolutionKind}/${rowData.id}`)\n              }\n            >\n              {\"Non Monetary\"}\n            </div>\n          );\n      },\n      sorting: true\n    },\n    {\n      field: \"status\",\n      title: \"Status\",\n      tooltip: \"Status of the Case\",\n      render: rowData => (\n        <div\n          style={{ cursor: \"pointer\" }}\n          onClick={() =>\n            navigate(`/dashboard/${rowData?.resolutionKind}/${rowData.id}`)\n          }\n        >\n          {getCaseLabelByStatus(rowData)}\n        </div>\n      )\n      //render: (rowData) => <>{getCaseLabelByStatus(rowData)}</>,\n    },\n    {\n      field: \"submittedOn\",\n      title: \"Created\",\n      tooltip: \"Case Created Date\",\n      headerStyle: {\n        width: 120\n      },\n      render: rowData => (\n        <Datecolumn>\n          <div\n            className=\"date\"\n            onClick={() =>\n              navigate(`/dashboard/${rowData?.resolutionKind}/${rowData.id}`)\n            }\n          >\n            {rowData?.submittedOn\n              ? moment(rowData.submittedOn).format(\"DD/MM/YYYY\")\n              : moment(parseTimeStamp(rowData.created_at)).format(\"DD/MM/YYYY\")}\n          </div>\n          {rowData?.status === \"draft\" && (\n            <div\n              className=\"delete\"\n              onClick={() => deleteWaring(false, rowData?.id)}\n            >\n              {labels[\"table.delete\"]}\n            </div>\n          )}\n        </Datecolumn>\n      )\n    }\n  ];\n  /**\n   * @description Function to deleted the selected case\n   */\n  const deleteSelectedDraft = async () => {\n    try {\n      setLoader({ state: true, message: \"Deleting Cases...\" });\n      const res = await CaseService.deleteSelectedCases();\n      if (res?.message) {\n        enqueueSnackbar(res?.message, {\n          variant: \"success\"\n        });\n      }\n    } catch (error) {\n      const message = getErrorMessage(error);\n      enqueueSnackbar(message, {\n        variant: \"error\"\n      });\n    } finally {\n      setLoader({ state: false });\n      MTRef.current.onQueryChange(\"\");\n      setOpen(false);\n    }\n  };\n\n  /**\n   * @description Function to trigger the delete case\n   * @param {*} param0\n   */\n  const deleteDraft = async id => {\n    try {\n      setLoader({ state: true, message: \"Deleting Cases...\" });\n      const res = await CaseService.deleteDraftCase(id);\n      if (res?.message) {\n        enqueueSnackbar(res?.message, {\n          variant: \"success\"\n        });\n      }\n    } catch (error) {\n      const message = getErrorMessage(error);\n      enqueueSnackbar(message, {\n        variant: \"error\"\n      });\n    } finally {\n      setLoader({ state: false });\n      MTRef.current.onQueryChange(\"\");\n      setOpen(false);\n    }\n  };\n\n  useEffect(() => {\n    if ((selectedFilter || advanceFilter) && filterPreviousValue && caseType) {\n      MTRef.current.onQueryChange(MTRef?.current?.state?.query);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedFilter, advanceFilter, caseType]);\n\n  const data = query =>\n    new Promise(resolve => {\n      let params = {\n        page: query.page + 1,\n        perPage: 10\n      };\n      if (partyId) {\n        params.partyId = partyId;\n      }\n      params.selected = true;\n      let partyQueryString = \"\";\n      if (query.search) {\n        params.search = query.search;\n      }\n      if (query.orderBy?.field) {\n        params.sort = query.orderBy.field;\n        params.sortDirection = query.orderDirection;\n      }\n      if (caseType) {\n        params.resolutionKind = caseType;\n      }\n      const { key, value } = filterByStatus(selectedFilter);\n      if (key && value) {\n        params[key] = value;\n      }\n      if (advanceFilter?.parties?.length > 0) {\n        const partyId = advanceFilter?.parties?.map(el => el.id);\n        partyQueryString = queryString.stringify(\n          { partyIds: partyId },\n          { arrayFormat: \"index\" }\n        );\n        params.agentRole = advanceFilter.role.value;\n      }\n      let stringParams = \"\";\n      if (!_.isEmpty(params)) {\n        stringParams = `?${queryString.stringify(params)}`;\n      }\n      if (partyQueryString) {\n        stringParams += `&${partyQueryString}`;\n      }\n      getCases(stringParams, partyId, caseType)\n        .then(async result => {\n          if (result) {\n            if (result.message === \"Your are not associated with any Party\") {\n              resolve({\n                data: [],\n                page: 0,\n                total: 0\n              });\n              setState({\n                data: [],\n                lastPage: 1,\n                page: 1,\n                perPage: 10,\n                total: 0\n              });\n              setNoParty(true);\n            } else {\n              const rowData = result?.data?.map(row => ({\n                ...row,\n                tableData: { checked: row?.isSelected }\n              }));\n              resolve({\n                data: rowData,\n                page: result.page - 1,\n                total: result.total,\n                lastPage: result.lastPage\n              });\n              setState({\n                data: rowData,\n                page: result.page - 1,\n                total: result.total,\n                lastPage: result.lastPage\n              });\n              setStats(result.stats);\n            }\n          }\n        })\n        .catch(error => {\n          enqueueSnackbar(getErrorMessage(error), {\n            variant: \"error\"\n          });\n          setState({ data: [], lastPage: 1, page: 1, perPage: 10, total: 0 });\n          resolve({\n            data: [],\n            page: 0,\n            total: 0\n          });\n        });\n    });\n\n  const handleCaseSelection = async (cases, data) => {\n    const param = `?resolutionKind=${caseType}`;\n    if (cases?.length > 1 && !data) {\n      try {\n        setLoader({ state: true, message: \"Modifying Cases...\" });\n        await CaseService.addAllCases(param);\n      } catch (error) {\n        const message = getErrorMessage(error);\n        enqueueSnackbar(message, {\n          variant: \"error\"\n        });\n      } finally {\n        setLoader({ state: false });\n        MTRef.current.onQueryChange(\"\");\n      }\n    } else if (cases?.length === 0 && !data) {\n      try {\n        setLoader({ state: true, message: \"Modifying Cases...\" });\n        await CaseService.removeAllCases(param);\n      } catch (error) {\n        const message = getErrorMessage(error);\n        enqueueSnackbar(message, {\n          variant: \"error\"\n        });\n      } finally {\n        setLoader({ state: false });\n        MTRef.current.onQueryChange(\"\");\n      }\n    } else {\n      try {\n        setLoader({ state: true, message: \"Modifying Cases...\" });\n        if (data?.tableData?.checked) {\n          await CaseService.selectCaseItem(data?.id);\n        } else {\n          await CaseService.removeCaseItem(data.id);\n        }\n      } catch (error) {\n        const message = getErrorMessage(error);\n        enqueueSnackbar(message, {\n          variant: \"error\"\n        });\n      } finally {\n        setLoader({ state: false });\n        // MTRef.current.onQueryChange(\"\");\n      }\n    }\n  };\n\n  const deleteWaring = (isSelectAll, id) => {\n    setOpen(true);\n    setDialogData({\n      primaryBtnText: \"Proceed\",\n      secondaryBtnText: \"Cancel\",\n      clickPrimaryBtn: () =>\n        isSelectAll ? deleteSelectedDraft() : deleteDraft(id),\n      clickSecondarybtn: () => setOpen(false),\n      desc: `Are you sure you want to delete this draft case(s)?`,\n      heading: \"Delete Case\",\n      descriptionTextStyle: {\n        textAlign: \"center\"\n      }\n    });\n  };\n\n  const submitCaseWarning = () => {\n    setOpen(true);\n    setDialogData({\n      secondaryBtnText: \"Cancel\",\n      primaryBtnText: \"Proceed\",\n      clickPrimaryBtn: () => selectAllSubmit(),\n      clickSecondarybtn: () => setOpen(false),\n      desc: `Before submitting the case, please check all the information that you have provided. The proceedings shall be conducted based on this information.`,\n      //desc: `Before submitting a case, please make sure that all the mandatory fields are entered for every case. In case of any data is missed, it might lead to data issue and the process cannot be undone.`,\n      heading: \"Submit Cases\",\n      descriptionTextStyle: {\n        textAlign: \"center\"\n      }\n    });\n  };\n\n  const selectAllSubmit = async () => {\n    try {\n      setLoader({ state: true, message: \"Submitting Cases...\" });\n      const param = `?resolutionKind=${caseType}`;\n      const res = await CaseService.submitDraftCase(param);\n      if (res?.message) {\n        enqueueSnackbar(res?.message, {\n          variant: \"success\"\n        });\n      }\n    } catch (error) {\n      const message = getErrorMessage(error);\n      enqueueSnackbar(message, {\n        variant: \"error\"\n      });\n    } finally {\n      setLoader({ state: false });\n      setTriggerCount(true);\n      setOpen(false);\n      setDialogData({});\n      MTRef.current.onQueryChange(\"\");\n    }\n  };\n\n  const classes = useStyles();\n  return (\n    <Container>\n      {columns.length > 0 && (\n        <CustomTable\n          onSelectionChange={handleCaseSelection}\n          selection={draftSelection && selectedFilter === \"Draft\"}\n          hidePagination={state.lastPage === 1}\n          pageSize={state?.data?.length ? state?.data?.length : 10}\n          pluralTitle={labels[\"cases\"]}\n          singularTitle={\n            noParty\n              ? labels[\"party\"].toLowerCase()\n              : labels[\"case\"].toLowerCase()\n          }\n          customFilter={partyId ? false : true}\n          onFilterClick={() => setModal(true)}\n          filterCount={advanceFilter?.parties?.length}\n          customMessage={noParty ? labels[\"table.caseError\"] : null}\n          {...{\n            columns,\n            data,\n            filters,\n            selectedFilter,\n            setSelectedFilter,\n            placeholderText,\n            MTRef\n          }}\n          state={state}\n          left={isBigScreen ? true : false}\n          top={isBigScreen ? \"140px\" : \"-50px\"}\n        />\n      )}\n\n      <Footer>\n        <ButtonContainer>\n          <div\n            className=\"button-row\"\n            style={{\n              display:\n                selectedFilter === \"Draft\" &&\n                state?.data?.some(el => el.tableData?.checked)\n                  ? \"flex\"\n                  : \"none\"\n            }}\n          >\n            <DangerBtn\n              style={{\n                width: \"216px\",\n                marginLeft: \"26px\",\n                marginTop: 20\n              }}\n              onClick={() => deleteWaring(true)}\n            >\n              {labels[\"table.delete\"]}\n            </DangerBtn>\n\n            <PrimaryCTAButton\n              style={{\n                width: \"216px\",\n                marginLeft: \"26px\",\n                marginTop: 20\n              }}\n              onClick={() => submitCaseWarning()}\n            >\n              {labels.proceed}\n            </PrimaryCTAButton>\n          </div>\n        </ButtonContainer>\n      </Footer>\n      <Drawer\n        variant=\"persistent\"\n        className={classes.root}\n        anchor={\"right\"}\n        open={modal}\n        onClose={() => setModal(false)}\n      >\n        <FilterModal\n          {...{\n            modal,\n            setModal,\n            advanceFilter,\n            setAdvanceFilter,\n            partyRoles\n          }}\n        />\n      </Drawer>\n      <AlertDialog isOpen={open} {...{ ...dialogData }} />\n    </Container>\n  );\n};\n\nexport default CasesTable;\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  flex: 1;\n  & .button-row {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex: 1;\n    @media ${theme?.breakpoints?.sm_up} {\n      flex-direction: row;\n      justify-content: flex-end;\n    }\n  }\n`;\n\nconst Container = styled.div``;\n\nconst HyperLink = styled.span`\n  cursor: pointer;\n  color: ${COLORS.BTN_GREEN};\n  text-decoration: underline;\n  padding-left: 29px;\n  ${({ disabled }) =>\n    disabled &&\n    css`\n      cursor: not-allowed;\n      opacity: 0.6;\n      & .add_circle {\n        cursor: not-allowed !important;\n      }\n    `}\n`;\n\nconst Datecolumn = styled.div`\n  .delete {\n    margin-top: 2px;\n    cursor: pointer;\n    color: ${COLORS.LOGOUT_RED};\n    font-size: 12px;\n  }\n`;\n\nconst Bold = styled.span`\n  cursor: pointer;\n  ${({ disabled }) =>\n    disabled &&\n    css`\n      cursor: not-allowed;\n      & .add_circle {\n        cursor: not-allowed !important;\n      }\n    `}\n  @media ${theme?.breakpoints?.sm_up} {\n    font-family: ${theme.fonts.primaryFontBold};\n  }\n`;\n\nconst Center = styled.div`\n  margin-left: 0;\n  @media ${theme?.breakpoints?.lg_up} {\n    margin-left: 35px;\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}