{"ast":null,"code":"var _jsxFileName = \"/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/common/CasesTable/modal/index.js\",\n    _theme$breakpoints;\n\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport COLORS from \"../../../../assets/Colors\";\nimport theme from \"../../../../assets/theme\";\nimport { ButtonContainer, Label } from \"../styles\";\nimport { PrimaryCTAButton } from \"../../../common/Buttons\";\nimport SearchBar from \"../../../common/CustomTable/common/SearchBar\";\nimport CustomChip from \"../../../common/Chip\";\nimport { CustomCheckbox, CustomRadioGroup } from \"../../../common/FormInputs\";\nimport queryString from \"query-string\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport PartyService from \"../../../../services/PartyService\";\nimport useDebounce from \"../../../../hooks/useDebounce\";\nimport _ from \"lodash\";\nexport default function FilterModal({\n  setModal,\n  advanceFilter,\n  setAdvanceFilter,\n  partyRoles = []\n}) {\n  const [partyList, setPartyList] = useState([]);\n  const [selectPartyList, setSelectedPartyList] = useState((advanceFilter === null || advanceFilter === void 0 ? void 0 : advanceFilter.parties.length) > 0 ? advanceFilter.parties : []);\n  const [role, setRole] = useState(advanceFilter.role);\n  const [loading, setLoading] = useState(false);\n  const [inputText, setInputText] = useState(\"\");\n  const debounceValue = useDebounce(inputText, 500);\n  useEffect(() => {\n    if (debounceValue) {\n      partySearch(debounceValue);\n    } else {\n      setPartyList([]);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [debounceValue]);\n  useEffect(() => {\n    if (role === null || role === void 0 ? void 0 : role.value) {\n      setInputText(\"\");\n    }\n  }, [role]);\n\n  async function partySearch(inputText) {\n    setLoading(true);\n    let response = {};\n\n    try {\n      let params = {\n        page: 1,\n        perPage: 100\n      };\n\n      if ((role === null || role === void 0 ? void 0 : role.value) === \"claimant\") {\n        params[\"claimantPartySearch\"] = inputText;\n      } else {\n        params[\"respondentPartySearch\"] = inputText;\n      }\n\n      let stringParams = \"\";\n\n      if (!_.isEmpty(params)) {\n        stringParams = `?${queryString.stringify(params)}`;\n      }\n\n      response = await PartyService.getCaseParties(stringParams);\n      setPartyList(response.total ? response.data : []);\n    } catch (error) {\n      return error;\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  const partyCheckBoxChange = (checked, party) => {\n    if (checked) {\n      addParty(party);\n    } else {\n      removeParty(party);\n    }\n  };\n\n  const addParty = party => {\n    const partyList = [...selectPartyList];\n    partyList.push(party);\n    setSelectedPartyList(partyList);\n  };\n\n  const removeParty = party => {\n    let partyList = [...selectPartyList];\n    partyList = partyList.filter(el => el.id !== party.id);\n    setSelectedPartyList(partyList);\n    setAdvanceFilter({\n      parties: partyList,\n      role\n    });\n  };\n\n  const ResultFilter = selectPartyList => {\n    setAdvanceFilter({\n      parties: [],\n      role: {\n        label: \"Claimant\",\n        value: \"claimant\"\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(DrawerContainer, {\n    role: \"presentation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(HeadingContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, \"Filters\", \" \", /*#__PURE__*/React.createElement(\"span\", {\n    onClick: () => {\n      ResultFilter(selectPartyList);\n      setInputText(\"\");\n      setSelectedPartyList([]);\n      setRole(partyRoles[0]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, \"Remove All filters\")), /*#__PURE__*/React.createElement(CloseModal, {\n    onClick: () => setModal(false),\n    src: require(\"../../../../assets/images/closeModal.svg\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(AgentFormContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, \"Party Role\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CheckboxContainer, {\n    className: \"party-checkbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CustomRadioGroup, {\n    handleChange: el => {\n      const role = partyRoles.find(e => e.value === el.target.value);\n      setRole(role);\n    },\n    name: \"value\",\n    radioInputs: partyRoles,\n    values: role,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }\n  }, \"Party\"), /*#__PURE__*/React.createElement(InputBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SearchBar, {\n    name: \"partysearch\",\n    placeHolderText: \"Search Parties\",\n    backgroundColor: \"#ffffff\",\n    inputText,\n    setInputText,\n    width: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(ChipContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, selectPartyList === null || selectPartyList === void 0 ? void 0 : selectPartyList.map((party, index) => /*#__PURE__*/React.createElement(CustomChip, {\n    key: index,\n    remove: () => {\n      removeParty(party);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 15\n    }\n  }, party === null || party === void 0 ? void 0 : party.name)), (selectPartyList === null || selectPartyList === void 0 ? void 0 : selectPartyList.length) === 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"no-record\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 15\n    }\n  }, \"No Parties Selected\")), /*#__PURE__*/React.createElement(Seperator, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"party-listing\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }, !loading ? /*#__PURE__*/React.createElement(React.Fragment, null, inputText && partyList.map((party, index) => /*#__PURE__*/React.createElement(CheckboxContainer, {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CustomCheckbox, {\n    checked: selectPartyList.some(el => el.id === party.id),\n    name: (party === null || party === void 0 ? void 0 : party.name) + index,\n    onChange: ev => {\n      var _ev$target;\n\n      return partyCheckBoxChange(ev === null || ev === void 0 ? void 0 : (_ev$target = ev.target) === null || _ev$target === void 0 ? void 0 : _ev$target.checked, party);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 23\n    }\n  }, party === null || party === void 0 ? void 0 : party.name))), inputText && partyList.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"no-record\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 19\n    }\n  }, \"No Parties found\") : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"no-record\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 19\n    }\n  }, !inputText && \"Type to Search Parties\")) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(ButtonContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PrimaryCTAButton, {\n    onClick: () => {\n      // setModal(false);\n      setAdvanceFilter({\n        parties: selectPartyList,\n        role\n      });\n    },\n    style: {\n      width: 450\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 11\n    }\n  }, \"Apply Filters\"))));\n}\nconst DrawerContainer = styled.div`\n  width: 100vw;\n  @media ${theme === null || theme === void 0 ? void 0 : (_theme$breakpoints = theme.breakpoints) === null || _theme$breakpoints === void 0 ? void 0 : _theme$breakpoints.sm_up} {\n    width: 618px;\n  }\n`;\nconst HeadingContainer = styled.div`\n  padding-top: 35px;\n  padding-bottom: 20px;\n  padding-left: 30px;\n  padding-right: 54px;\n  border-bottom: 1px solid ${COLORS.INPUT_BORDER};\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\nconst InputBox = styled.div`\n  border-radius: 5px;\n  background-color: #f9f9f9;\n  max-width: 450px;\n  padding: 9px;\n  margin-top: 12px;\n  margin-bottom: 14px;\n  & .party-listing {\n    height: 200px;\n    overflow: auto;\n  }\n  & .loader {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n  }\n  & .no-record {\n    text-align: center;\n    opacity: 0.6;\n    padding: 10px;\n    width: 100%;\n  }\n`;\nconst CloseModal = styled.img`\n  width: 14px;\n  height: 14px;\n  object-fit: contain;\n  cursor: pointer;\n`;\nconst ChipContainer = styled.div`\n  display: flex;\n  flex-flow: wrap;\n  max-height: 130px;\n  overflow: auto;\n`;\nconst Heading = styled.h3`\n  margin: 0;\n  padding: 0;\n  font-size: 18px;\n  font-weight: 800;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  color: ${COLORS.COLOR_DARK};\n  font-family: ${theme.fonts.primaryFontExtraBold};\n  span {\n    font-family: ${theme.fonts.primaryFontSemiBold};\n    text-decoration: underline;\n    margin-left: 23px;\n    font-size: 12px;\n    color: ${COLORS.BTN_GREEN};\n    user-select: none;\n    cursor: pointer;\n  }\n`;\nconst AgentFormContainer = styled.div`\n  padding-top: 14px;\n  padding-left: 38px;\n  padding-right: 38px;\n  padding-bottom: 26px;\n  & form {\n    padding-top: 10px;\n  }\n`;\nconst Seperator = styled.div`\n  width: 100%;\n  height: 1px;\n  background-color: ${COLORS.INPUT_BORDER};\n  margin-top: 13px;\n`;\nconst CheckboxContainer = styled.div`\n  display: flex;\n  width: 100%;\n  align-items: center;\n  padding: 5px 0px;\n  &.party-checkbox {\n    padding: 20px 0px;\n  }\n  span {\n    color: ${COLORS.COLOR_DARK};\n    font-family: ${theme.fonts.primaryFontRegular};\n  }\n`;","map":{"version":3,"sources":["/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/common/CasesTable/modal/index.js"],"names":["React","useState","useEffect","styled","COLORS","theme","ButtonContainer","Label","PrimaryCTAButton","SearchBar","CustomChip","CustomCheckbox","CustomRadioGroup","queryString","CircularProgress","PartyService","useDebounce","_","FilterModal","setModal","advanceFilter","setAdvanceFilter","partyRoles","partyList","setPartyList","selectPartyList","setSelectedPartyList","parties","length","role","setRole","loading","setLoading","inputText","setInputText","debounceValue","partySearch","value","response","params","page","perPage","stringParams","isEmpty","stringify","getCaseParties","total","data","error","partyCheckBoxChange","checked","party","addParty","removeParty","push","filter","el","id","ResultFilter","label","require","display","alignItems","justifyContent","find","e","target","map","index","name","some","ev","width","DrawerContainer","div","breakpoints","sm_up","HeadingContainer","INPUT_BORDER","InputBox","CloseModal","img","ChipContainer","Heading","h3","COLOR_DARK","fonts","primaryFontExtraBold","primaryFontSemiBold","BTN_GREEN","AgentFormContainer","Seperator","CheckboxContainer","primaryFontRegular"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport COLORS from \"../../../../assets/Colors\";\nimport theme from \"../../../../assets/theme\";\nimport { ButtonContainer, Label } from \"../styles\";\nimport { PrimaryCTAButton } from \"../../../common/Buttons\";\nimport SearchBar from \"../../../common/CustomTable/common/SearchBar\";\nimport CustomChip from \"../../../common/Chip\";\nimport { CustomCheckbox, CustomRadioGroup } from \"../../../common/FormInputs\";\nimport queryString from \"query-string\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport PartyService from \"../../../../services/PartyService\";\nimport useDebounce from \"../../../../hooks/useDebounce\";\nimport _ from \"lodash\";\n\nexport default function FilterModal({\n  setModal,\n  advanceFilter,\n  setAdvanceFilter,\n  partyRoles = []\n}) {\n  const [partyList, setPartyList] = useState([]);\n  const [selectPartyList, setSelectedPartyList] = useState(\n    advanceFilter?.parties.length > 0 ? advanceFilter.parties : []\n  );\n  const [role, setRole] = useState(advanceFilter.role);\n  const [loading, setLoading] = useState(false);\n  const [inputText, setInputText] = useState(\"\");\n  const debounceValue = useDebounce(inputText, 500);\n\n  useEffect(() => {\n    if (debounceValue) {\n      partySearch(debounceValue);\n    } else {\n      setPartyList([]);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [debounceValue]);\n\n  useEffect(() => {\n    if (role?.value) {\n      setInputText(\"\");\n    }\n  }, [role]);\n\n  async function partySearch(inputText) {\n    setLoading(true);\n    let response = {};\n    try {\n      let params = {\n        page: 1,\n        perPage: 100\n      };\n      if (role?.value === \"claimant\") {\n        params[\"claimantPartySearch\"] = inputText;\n      } else {\n        params[\"respondentPartySearch\"] = inputText;\n      }\n      let stringParams = \"\";\n      if (!_.isEmpty(params)) {\n        stringParams = `?${queryString.stringify(params)}`;\n      }\n      response = await PartyService.getCaseParties(stringParams);\n      setPartyList(response.total ? response.data : []);\n    } catch (error) {\n      return error;\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  const partyCheckBoxChange = (checked, party) => {\n    if (checked) {\n      addParty(party);\n    } else {\n      removeParty(party);\n    }\n  };\n\n  const addParty = party => {\n    const partyList = [...selectPartyList];\n    partyList.push(party);\n    setSelectedPartyList(partyList);\n  };\n\n  const removeParty = party => {\n    let partyList = [...selectPartyList];\n    partyList = partyList.filter(el => el.id !== party.id);\n    setSelectedPartyList(partyList);\n    setAdvanceFilter({\n      parties: partyList,\n      role\n    });\n  };\n\n  const ResultFilter = selectPartyList => {\n    setAdvanceFilter({\n      parties: [],\n      role: { label: \"Claimant\", value: \"claimant\" }\n    });\n  };\n\n  return (\n    <DrawerContainer role=\"presentation\">\n      <HeadingContainer>\n        <Heading>\n          Filters{\" \"}\n          <span\n            onClick={() => {\n              ResultFilter(selectPartyList);\n              setInputText(\"\");\n              setSelectedPartyList([]);\n              setRole(partyRoles[0]);\n            }}\n          >\n            Remove All filters\n          </span>\n        </Heading>\n        <CloseModal\n          onClick={() => setModal(false)}\n          src={require(\"../../../../assets/images/closeModal.svg\")}\n        />\n      </HeadingContainer>\n\n      <AgentFormContainer>\n        <div>\n          <Label>Party Role</Label>\n          <div\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"space-between\"\n            }}\n          >\n            <CheckboxContainer className=\"party-checkbox\">\n              <CustomRadioGroup\n                handleChange={el => {\n                  const role = partyRoles.find(\n                    e => e.value === el.target.value\n                  );\n                  setRole(role);\n                }}\n                name={\"value\"}\n                radioInputs={partyRoles}\n                values={role}\n              />\n            </CheckboxContainer>\n          </div>\n        </div>\n        <Label>Party</Label>\n        <InputBox>\n          <SearchBar\n            name={\"partysearch\"}\n            placeHolderText=\"Search Parties\"\n            backgroundColor=\"#ffffff\"\n            {...{ inputText, setInputText }}\n            width=\"100%\"\n          />\n          <ChipContainer>\n            {selectPartyList?.map((party, index) => (\n              <CustomChip\n                key={index}\n                remove={() => {\n                  removeParty(party);\n                }}\n              >\n                {party?.name}\n              </CustomChip>\n            ))}\n            {selectPartyList?.length === 0 && (\n              <div className=\"no-record\">No Parties Selected</div>\n            )}\n          </ChipContainer>\n          <Seperator />\n          <div className=\"party-listing\">\n            {!loading ? (\n              <>\n                {inputText &&\n                  partyList.map((party, index) => (\n                    <CheckboxContainer key={index}>\n                      <CustomCheckbox\n                        checked={selectPartyList.some(el => el.id === party.id)}\n                        name={party?.name + index}\n                        onChange={ev =>\n                          partyCheckBoxChange(ev?.target?.checked, party)\n                        }\n                      />\n                      <span>{party?.name}</span>\n                    </CheckboxContainer>\n                  ))}\n                {inputText && partyList.length === 0 ? (\n                  <div className=\"no-record\">No Parties found</div>\n                ) : (\n                  <div className=\"no-record\">\n                    {!inputText && \"Type to Search Parties\"}\n                  </div>\n                )}\n              </>\n            ) : (\n              <div className=\"loader\">\n                <CircularProgress />\n              </div>\n            )}\n          </div>\n        </InputBox>\n        <ButtonContainer>\n          <PrimaryCTAButton\n            onClick={() => {\n              // setModal(false);\n              setAdvanceFilter({\n                parties: selectPartyList,\n                role\n              });\n            }}\n            style={{ width: 450 }}\n          >\n            Apply Filters\n          </PrimaryCTAButton>\n        </ButtonContainer>\n      </AgentFormContainer>\n    </DrawerContainer>\n  );\n}\n\nconst DrawerContainer = styled.div`\n  width: 100vw;\n  @media ${theme?.breakpoints?.sm_up} {\n    width: 618px;\n  }\n`;\n\nconst HeadingContainer = styled.div`\n  padding-top: 35px;\n  padding-bottom: 20px;\n  padding-left: 30px;\n  padding-right: 54px;\n  border-bottom: 1px solid ${COLORS.INPUT_BORDER};\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst InputBox = styled.div`\n  border-radius: 5px;\n  background-color: #f9f9f9;\n  max-width: 450px;\n  padding: 9px;\n  margin-top: 12px;\n  margin-bottom: 14px;\n  & .party-listing {\n    height: 200px;\n    overflow: auto;\n  }\n  & .loader {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n  }\n  & .no-record {\n    text-align: center;\n    opacity: 0.6;\n    padding: 10px;\n    width: 100%;\n  }\n`;\n\nconst CloseModal = styled.img`\n  width: 14px;\n  height: 14px;\n  object-fit: contain;\n  cursor: pointer;\n`;\n\nconst ChipContainer = styled.div`\n  display: flex;\n  flex-flow: wrap;\n  max-height: 130px;\n  overflow: auto;\n`;\n\nconst Heading = styled.h3`\n  margin: 0;\n  padding: 0;\n  font-size: 18px;\n  font-weight: 800;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  color: ${COLORS.COLOR_DARK};\n  font-family: ${theme.fonts.primaryFontExtraBold};\n  span {\n    font-family: ${theme.fonts.primaryFontSemiBold};\n    text-decoration: underline;\n    margin-left: 23px;\n    font-size: 12px;\n    color: ${COLORS.BTN_GREEN};\n    user-select: none;\n    cursor: pointer;\n  }\n`;\n\nconst AgentFormContainer = styled.div`\n  padding-top: 14px;\n  padding-left: 38px;\n  padding-right: 38px;\n  padding-bottom: 26px;\n  & form {\n    padding-top: 10px;\n  }\n`;\n\nconst Seperator = styled.div`\n  width: 100%;\n  height: 1px;\n  background-color: ${COLORS.INPUT_BORDER};\n  margin-top: 13px;\n`;\n\nconst CheckboxContainer = styled.div`\n  display: flex;\n  width: 100%;\n  align-items: center;\n  padding: 5px 0px;\n  &.party-checkbox {\n    padding: 20px 0px;\n  }\n  span {\n    color: ${COLORS.COLOR_DARK};\n    font-family: ${theme.fonts.primaryFontRegular};\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}