{"ast":null,"code":"var _jsxFileName = \"/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/common/FreshChat/index.js\";\nimport React, { useEffect } from \"react\";\nimport useFreshChat from \"../../../hooks/useFreshChat\";\nimport useUser from \"../../../hooks/useUser\";\nimport _, { isEmpty } from \"lodash\";\nimport { globalHistory } from \"@reach/router\";\nimport { isMobile } from \"react-device-detect\";\n\nconst FreshChat = () => {\n  const {\n    userObject\n  } = useUser();\n  const {\n    setTag,\n    handlePopup\n  } = useFreshChat({\n    userObject\n  }, true);\n  useEffect(() => {\n    var _window, _window$location;\n\n    initializeFreshChat(window.location.href, userObject, (_window = window) === null || _window === void 0 ? void 0 : (_window$location = _window.location) === null || _window$location === void 0 ? void 0 : _window$location.pathname); // console.log(\"name\", userObject.id);\n\n    return globalHistory.listen(({\n      action,\n      ...props\n    }) => {\n      if (action === \"PUSH\") {\n        var _props$location, _props$location2;\n\n        initializeFreshChat(props === null || props === void 0 ? void 0 : (_props$location = props.location) === null || _props$location === void 0 ? void 0 : _props$location.href, userObject, props === null || props === void 0 ? void 0 : (_props$location2 = props.location) === null || _props$location2 === void 0 ? void 0 : _props$location2.pathname);\n      }\n    });\n  }, [userObject]);\n\n  const initializeFreshChat = (location, userObject, pathname) => {\n    setTimeout(() => {\n      if (location && !location.includes(\"/dashboard/cases/\")) {\n        // condition to exclude the case details page\n        if (location.includes(\"parties\")) {\n          setTag([\"my_party\"]);\n        } else if (location.includes(\"payments\")) {\n          setTag([\"payment_history\"]);\n        } else if (location.includes(\"cases?caseType=arbitration\")) {\n          setTag([\"my_cases_arb\"]);\n        } else if (location.includes(\"cases?caseType=mediation\")) {\n          setTag([\"my_cases_med\"]);\n        } else if (location.includes(\"dashboard/cases/\")) {\n          setTag([\"ind_med_case\"]);\n        } else if (location.includes(\"dashboard/cases\")) {\n          setTag([\"my_cases_neg\"]);\n        } else if (location.includes(\"cases?caseType=negotiation\")) {\n          setTag([\"my_cases_neg\"]);\n        } else if (location.includes(\"dashboard/profile\" || \"change-password\")) {\n          setTag([\"profile\"]);\n        } else if (location.includes(\"help\")) {\n          setTag([\"help\"]);\n        } else if (location.includes(\"cart\")) {\n          setTag([\"case_cart\"]);\n        } else if (location.includes(\"dashboard\")) {\n          setTag([\"dashboard\"]);\n        } else if (!location.includes(\"dashboard\")) {\n          if (isEmpty(userObject)) {\n            setTag([\"home\", \"sign_up\"]);\n          }\n        }\n      } else if (location) {\n        if (location.includes(\"create?caseType=arbitration\") || location.includes(\"step-2?caseType=arbitration\")) {\n          setTag([\"create_arb\"]);\n        } else if (location.includes(\"create?caseType=mediation\") || location.includes(\"step-2?caseType=mediation\")) {\n          setTag([\"create_med\"]);\n        } else if (location.includes(\"cases/create\") || location.includes(\"create?caseType=negotiation\")) {\n          setTag([\"create_neg\"]);\n        } else if (location.includes(\"bulk-create\")) {\n          setTag([\"create_bulk\"]);\n        }\n      }\n\n      if (pathname === \"/\") {\n        isMobile ? setTimeout(() => {}) : setTimeout(() => {\n          handlePopup();\n        }, 200);\n      }\n    }, 0);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"freshchat-js-sdk\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 10\n    }\n  });\n};\n\nexport default FreshChat;","map":{"version":3,"sources":["/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/common/FreshChat/index.js"],"names":["React","useEffect","useFreshChat","useUser","_","isEmpty","globalHistory","isMobile","FreshChat","userObject","setTag","handlePopup","initializeFreshChat","window","location","href","pathname","listen","action","props","setTimeout","includes"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport useFreshChat from \"../../../hooks/useFreshChat\";\nimport useUser from \"../../../hooks/useUser\";\nimport _, { isEmpty } from \"lodash\";\nimport { globalHistory } from \"@reach/router\";\nimport { isMobile } from \"react-device-detect\";\n\nconst FreshChat = () => {\n  const { userObject } = useUser();\n  const { setTag, handlePopup } = useFreshChat({ userObject }, true);\n\n  useEffect(() => {\n    initializeFreshChat(\n      window.location.href,\n      userObject,\n      window?.location?.pathname\n    );\n    // console.log(\"name\", userObject.id);\n    return globalHistory.listen(({ action, ...props }) => {\n      if (action === \"PUSH\") {\n        initializeFreshChat(\n          props?.location?.href,\n          userObject,\n          props?.location?.pathname\n        );\n      }\n    });\n  }, [userObject]);\n\n  const initializeFreshChat = (location, userObject, pathname) => {\n    setTimeout(() => {\n      if (location && !location.includes(\"/dashboard/cases/\")) {\n        // condition to exclude the case details page\n        if (location.includes(\"parties\")) {\n          setTag([\"my_party\"]);\n        } else if (location.includes(\"payments\")) {\n          setTag([\"payment_history\"]);\n        } else if (location.includes(\"cases?caseType=arbitration\")) {\n          setTag([\"my_cases_arb\"]);\n        } else if (location.includes(\"cases?caseType=mediation\")) {\n          setTag([\"my_cases_med\"]);\n        } else if (location.includes(\"dashboard/cases/\")) {\n          setTag([\"ind_med_case\"]);\n        } else if (location.includes(\"dashboard/cases\")) {\n          setTag([\"my_cases_neg\"]);\n        } else if (location.includes(\"cases?caseType=negotiation\")) {\n          setTag([\"my_cases_neg\"]);\n        } else if (\n          location.includes(\"dashboard/profile\" || \"change-password\")\n        ) {\n          setTag([\"profile\"]);\n        } else if (location.includes(\"help\")) {\n          setTag([\"help\"]);\n        } else if (location.includes(\"cart\")) {\n          setTag([\"case_cart\"]);\n        } else if (location.includes(\"dashboard\")) {\n          setTag([\"dashboard\"]);\n        } else if (!location.includes(\"dashboard\")) {\n          if (isEmpty(userObject)) {\n            setTag([\"home\", \"sign_up\"]);\n          }\n        }\n      } else if (location) {\n        if (\n          location.includes(\"create?caseType=arbitration\") ||\n          location.includes(\"step-2?caseType=arbitration\")\n        ) {\n          setTag([\"create_arb\"]);\n        } else if (\n          location.includes(\"create?caseType=mediation\") ||\n          location.includes(\"step-2?caseType=mediation\")\n        ) {\n          setTag([\"create_med\"]);\n        } else if (\n          location.includes(\"cases/create\") ||\n          location.includes(\"create?caseType=negotiation\")\n        ) {\n          setTag([\"create_neg\"]);\n        } else if (location.includes(\"bulk-create\")) {\n          setTag([\"create_bulk\"]);\n        }\n      }\n      if (pathname === \"/\") {\n        isMobile\n          ? setTimeout(() => {})\n          : setTimeout(() => {\n              handlePopup();\n            }, 200);\n      }\n    }, 0);\n  };\n\n  return <div id=\"freshchat-js-sdk\" />;\n};\n\nexport default FreshChat;\n"]},"metadata":{},"sourceType":"module"}