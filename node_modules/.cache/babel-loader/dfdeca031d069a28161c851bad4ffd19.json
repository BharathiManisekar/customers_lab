{"ast":null,"code":"var _jsxFileName = \"/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/pages/NegotiationPages/common/AgreementDocCard.js\",\n    _theme$breakpoints,\n    _theme$breakpoints2;\n\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { Images } from \"../../../../assets/images\";\nimport { PrimaryCTAButton } from \"../../../common/Buttons\";\nimport theme from \"../../../../assets/theme\";\nimport useLoader from \"../../../../hooks/useLoader\";\nimport CaseService from \"../../../../services/CaseService\";\nimport { getErrorMessage } from \"../../../../helpers/functions\";\nimport { useSnackbar } from \"notistack\";\nimport { CLAIMENT_PAID_NEGOTIATION, RESPONDENT_PAID_NEGOTIATION, BOTH_PAID_NEGOTIATION } from \"../../../../helpers/constants\";\nimport { navigate } from \"@reach/router\";\n\nconst AgreementDocCard = ({\n  type = \"Download\",\n  id,\n  status,\n  isRespondent,\n  hasAgreement,\n  hasRating\n}) => {\n  const {\n    setLoader\n  } = useLoader();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n\n  const downloadAgreement = async id => {\n    setLoader({\n      state: true,\n      message: \"Fetching case details...\"\n    });\n\n    try {\n      var _agreementUrl$data$, _agreementUrl$data$$u, _agreementUrl$data$2;\n\n      const agreementUrl = await CaseService.downloadCaseAgreement(id);\n\n      if ((agreementUrl === null || agreementUrl === void 0 ? void 0 : (_agreementUrl$data$ = agreementUrl.data[0]) === null || _agreementUrl$data$ === void 0 ? void 0 : (_agreementUrl$data$$u = _agreementUrl$data$.url) === null || _agreementUrl$data$$u === void 0 ? void 0 : _agreementUrl$data$$u.url) || (agreementUrl === null || agreementUrl === void 0 ? void 0 : (_agreementUrl$data$2 = agreementUrl.data[0]) === null || _agreementUrl$data$2 === void 0 ? void 0 : _agreementUrl$data$2.url)) {\n        var _agreementUrl$data$3, _agreementUrl$data$3$, _agreementUrl$data$4;\n\n        const link = document.createElement(\"a\");\n        link.href = (agreementUrl === null || agreementUrl === void 0 ? void 0 : (_agreementUrl$data$3 = agreementUrl.data[0]) === null || _agreementUrl$data$3 === void 0 ? void 0 : (_agreementUrl$data$3$ = _agreementUrl$data$3.url) === null || _agreementUrl$data$3$ === void 0 ? void 0 : _agreementUrl$data$3$.url) || (agreementUrl === null || agreementUrl === void 0 ? void 0 : (_agreementUrl$data$4 = agreementUrl.data[0]) === null || _agreementUrl$data$4 === void 0 ? void 0 : _agreementUrl$data$4.url);\n        link.target = \"_blank\";\n        link.rel = \"noopener noreferrer\";\n        document.body.appendChild(link);\n        setTimeout(() => {\n          link.click();\n          document.body.removeChild(link);\n        }, 0);\n\n        if (!hasRating) {\n          setTimeout(() => {\n            navigate(`/dashboard/rate-platform/${id}`);\n          }, 1500);\n        }\n      } else {\n        enqueueSnackbar(\"Case Manager has to upload the Agreement\", {\n          variant: \"error\"\n        });\n      }\n\n      console.log(agreementUrl);\n    } catch (error) {\n      const message = getErrorMessage(error);\n      enqueueSnackbar(message, {\n        variant: \"error\"\n      });\n    } finally {\n      setLoader({\n        state: false\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(DocumentContainerCard, {\n    disableText: !hasAgreement || status !== BOTH_PAID_NEGOTIATION && (!isRespondent && status !== CLAIMENT_PAID_NEGOTIATION || isRespondent && status !== RESPONDENT_PAID_NEGOTIATION),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"file-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Images.filefloder,\n    alt: \"fileFoleder\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, hasAgreement ? `Your Final Award Summary for Case ID: ${id} is available to download. Please click on download button.` : \"Your Final Award preparation is under progress, please check back after sometime.\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PrimaryCTAButton, {\n    onClick: () => downloadAgreement(id),\n    disabled: !hasAgreement || status !== BOTH_PAID_NEGOTIATION && (!isRespondent && status !== CLAIMENT_PAID_NEGOTIATION || isRespondent && status !== RESPONDENT_PAID_NEGOTIATION),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, type))));\n};\n\nconst DocumentContainerCard = styled.div`\n  border-radius: 10px;\n  width: 100%;\n\n  background-color: #ffffff;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 15px;\n  opacity: ${props => props.disableText ? \"0.5\" : \"1\"};\n  & .file-container {\n    display: flex;\n    font-family: ${theme.fonts.primaryFontSemiBold};\n    align-items: center;\n    flex: 1;\n    font-size: 14px;\n    color: #293461;\n    & div {\n      margin-left: 15px;\n      font-family: ${theme.fonts.primaryFontSemiBold};\n    }\n  }\n  & .btn-container {\n    min-width: 175px;\n  }\n  @media ${theme === null || theme === void 0 ? void 0 : (_theme$breakpoints = theme.breakpoints) === null || _theme$breakpoints === void 0 ? void 0 : _theme$breakpoints.sm_up} {\n    border-radius: 7px;\n    border: solid 0.5px #e1e3ee;\n    flex-direction: row;\n    padding: 20px;\n  }\n`;\nconst Button = styled.div`\n  margin-top: 20px;\n  @media ${theme === null || theme === void 0 ? void 0 : (_theme$breakpoints2 = theme.breakpoints) === null || _theme$breakpoints2 === void 0 ? void 0 : _theme$breakpoints2.sm_up} {\n    margin-top: 0;\n  }\n`;\nexport default AgreementDocCard;","map":{"version":3,"sources":["/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/pages/NegotiationPages/common/AgreementDocCard.js"],"names":["React","styled","Images","PrimaryCTAButton","theme","useLoader","CaseService","getErrorMessage","useSnackbar","CLAIMENT_PAID_NEGOTIATION","RESPONDENT_PAID_NEGOTIATION","BOTH_PAID_NEGOTIATION","navigate","AgreementDocCard","type","id","status","isRespondent","hasAgreement","hasRating","setLoader","enqueueSnackbar","downloadAgreement","state","message","agreementUrl","downloadCaseAgreement","data","url","link","document","createElement","href","target","rel","body","appendChild","setTimeout","click","removeChild","variant","console","log","error","filefloder","DocumentContainerCard","div","props","disableText","fonts","primaryFontSemiBold","breakpoints","sm_up","Button"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\nimport { Images } from \"../../../../assets/images\";\nimport { PrimaryCTAButton } from \"../../../common/Buttons\";\nimport theme from \"../../../../assets/theme\";\nimport useLoader from \"../../../../hooks/useLoader\";\nimport CaseService from \"../../../../services/CaseService\";\nimport { getErrorMessage } from \"../../../../helpers/functions\";\nimport { useSnackbar } from \"notistack\";\nimport {\n  CLAIMENT_PAID_NEGOTIATION,\n  RESPONDENT_PAID_NEGOTIATION,\n  BOTH_PAID_NEGOTIATION,\n} from \"../../../../helpers/constants\";\nimport { navigate } from \"@reach/router\";\n\nconst AgreementDocCard = ({\n  type = \"Download\",\n  id,\n  status,\n  isRespondent,\n  hasAgreement,\n  hasRating,\n}) => {\n  const { setLoader } = useLoader();\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const downloadAgreement = async (id) => {\n    setLoader({ state: true, message: \"Fetching case details...\" });\n    try {\n      const agreementUrl = await CaseService.downloadCaseAgreement(id);\n      if (agreementUrl?.data[0]?.url?.url || agreementUrl?.data[0]?.url) {\n        const link = document.createElement(\"a\");\n        link.href =\n          agreementUrl?.data[0]?.url?.url || agreementUrl?.data[0]?.url;\n        link.target = \"_blank\";\n        link.rel = \"noopener noreferrer\";\n        document.body.appendChild(link);\n        setTimeout(() => {\n          link.click();\n          document.body.removeChild(link);\n        }, 0);\n        if (!hasRating) {\n          setTimeout(() => {\n            navigate(`/dashboard/rate-platform/${id}`);\n          }, 1500);\n        }\n      } else {\n        enqueueSnackbar(\"Case Manager has to upload the Agreement\", {\n          variant: \"error\",\n        });\n      }\n      console.log(agreementUrl);\n    } catch (error) {\n      const message = getErrorMessage(error);\n      enqueueSnackbar(message, {\n        variant: \"error\",\n      });\n    } finally {\n      setLoader({ state: false });\n    }\n  };\n\n  return (\n    <DocumentContainerCard\n      disableText={\n        !hasAgreement ||\n        (status !== BOTH_PAID_NEGOTIATION &&\n          ((!isRespondent && status !== CLAIMENT_PAID_NEGOTIATION) ||\n            (isRespondent && status !== RESPONDENT_PAID_NEGOTIATION)))\n      }\n    >\n      <div className=\"file-container\">\n        <img src={Images.filefloder} alt=\"fileFoleder\" />\n        <div>\n          {hasAgreement\n            ? `Your Final Award Summary for Case ID: ${id} is available to download. Please click on download button.`\n            : \"Your Final Award preparation is under progress, please check back after sometime.\"}\n        </div>\n      </div>\n      <div className=\"btn-container\">\n        <Button>\n          <PrimaryCTAButton\n            onClick={() => downloadAgreement(id)}\n            disabled={\n              !hasAgreement ||\n              (status !== BOTH_PAID_NEGOTIATION &&\n                ((!isRespondent && status !== CLAIMENT_PAID_NEGOTIATION) ||\n                  (isRespondent && status !== RESPONDENT_PAID_NEGOTIATION)))\n            }\n          >\n            {type}\n          </PrimaryCTAButton>\n        </Button>\n      </div>\n    </DocumentContainerCard>\n  );\n};\n\nconst DocumentContainerCard = styled.div`\n  border-radius: 10px;\n  width: 100%;\n\n  background-color: #ffffff;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 15px;\n  opacity: ${(props) => (props.disableText ? \"0.5\" : \"1\")};\n  & .file-container {\n    display: flex;\n    font-family: ${theme.fonts.primaryFontSemiBold};\n    align-items: center;\n    flex: 1;\n    font-size: 14px;\n    color: #293461;\n    & div {\n      margin-left: 15px;\n      font-family: ${theme.fonts.primaryFontSemiBold};\n    }\n  }\n  & .btn-container {\n    min-width: 175px;\n  }\n  @media ${theme?.breakpoints?.sm_up} {\n    border-radius: 7px;\n    border: solid 0.5px #e1e3ee;\n    flex-direction: row;\n    padding: 20px;\n  }\n`;\n\nconst Button = styled.div`\n  margin-top: 20px;\n  @media ${theme?.breakpoints?.sm_up} {\n    margin-top: 0;\n  }\n`;\n\nexport default AgreementDocCard;\n"]},"metadata":{},"sourceType":"module"}