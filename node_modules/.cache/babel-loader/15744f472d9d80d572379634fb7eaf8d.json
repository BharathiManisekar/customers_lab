{"ast":null,"code":"var _jsxFileName = \"/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/internal/ProformaHistory/index.js\";\nimport React, { Fragment, useState, useRef, useEffect } from \"react\";\nimport { Container, TableWrapper, HyperLink, StyledAmount, TopCenter, Center, DeleteButton } from \"../PaymentHistory/Styles\";\nimport _ from \"lodash\";\nimport queryString from \"query-string\";\nimport CustomTable from \"../../common/CustomTable/CustomTable\";\nimport CaseService from \"../../../services/CaseService\";\nimport moment from \"moment\";\nimport { getErrorMessage, getFileName, parseTimeStamp } from \"../../../helpers/functions\";\nimport { useSnackbar } from \"notistack\";\nimport labels from \"../../../helpers/labels.json\";\nimport { ActionButton } from \"../../common/Buttons\";\nimport CartService from \"../../../services/CartService\";\nimport useRazorPay from \"../../../hooks/useRazorPay\";\nimport useLoader from \"../../../hooks/useLoader\";\nimport useUser from \"../../../hooks/useUser\";\nimport useAlert from \"../../../hooks/useAlert\";\nimport useCartCount from \"../../../hooks/useCartCount\";\nimport styled from \"styled-components\";\nimport theme from \"../../../assets/theme\";\n\nasync function getOrders(query = \"\") {\n  try {\n    const response = await CaseService.getOrders(query);\n    return { ...response\n    };\n  } catch (error) {\n    throw error;\n  }\n}\n\nconst ProfomaHistory = () => {\n  var _state$data, _state$data2;\n\n  const [state, setState] = useState({});\n  const openRazorPay = useRazorPay();\n  const MTRef = useRef();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const {\n    setLoader\n  } = useLoader();\n  const placeholderText = \"Search Invoice\";\n  const {\n    userObject\n  } = useUser();\n  const [triggerRefresh, setTriggerRefresh] = useState(false);\n  const {\n    showAlert,\n    hideAlert\n  } = useAlert();\n  const {\n    setTriggerCount\n  } = useCartCount();\n  useEffect(() => {\n    if (triggerRefresh) {\n      var _MTRef$current, _MTRef$current$state;\n\n      MTRef.current.onQueryChange(MTRef === null || MTRef === void 0 ? void 0 : (_MTRef$current = MTRef.current) === null || _MTRef$current === void 0 ? void 0 : (_MTRef$current$state = _MTRef$current.state) === null || _MTRef$current$state === void 0 ? void 0 : _MTRef$current$state.query);\n      setTriggerRefresh(false);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [triggerRefresh]);\n  const columns = [{\n    field: \"id\",\n    title: labels[\"table.order_id\"],\n    tooltip: \"Payment order identifier\",\n    sorting: true,\n    render: rowData => /*#__PURE__*/React.createElement(HyperLink, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TopCenter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, rowData === null || rowData === void 0 ? void 0 : rowData.id)),\n    cellStyle: {\n      paddingLeft: 32\n    }\n  }, {\n    field: \"id\",\n    title: labels[\"table.profoma_invoice_id\"],\n    sorting: true,\n    render: rowData => /*#__PURE__*/React.createElement(HyperLink, {\n      style: {\n        textDecoration: \"none\",\n        cursor: \"inherit\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }, rowData === null || rowData === void 0 ? void 0 : rowData.id)\n  }, {\n    field: \"parties.name\",\n    title: labels[\"table.party_name\"],\n    sorting: false,\n    render: rowData => {\n      var _rowData$party;\n\n      return rowData === null || rowData === void 0 ? void 0 : (_rowData$party = rowData.party) === null || _rowData$party === void 0 ? void 0 : _rowData$party.name;\n    }\n  }, {\n    field: \"amount\",\n    title: labels[\"table.amount\"],\n    sorting: false,\n    render: rowData => {\n      var _rowData$amount;\n\n      return /*#__PURE__*/React.createElement(StyledAmount, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }\n      }, \"INR \", rowData === null || rowData === void 0 ? void 0 : (_rowData$amount = rowData.amount) === null || _rowData$amount === void 0 ? void 0 : _rowData$amount.toFixed(2));\n    }\n  }, {\n    field: \"created_at\",\n    title: labels[\"table.date\"],\n    tooltip: \"Date of transaction\",\n    sorting: true,\n    render: rowData => /*#__PURE__*/React.createElement(React.Fragment, null, moment(parseTimeStamp(rowData === null || rowData === void 0 ? void 0 : rowData.created_at)).format(\"DD/MM/YYYY\"))\n  }, {\n    field: \"invoiceUrl\",\n    title: labels[\"table.proforma_invoice\"],\n    tooltip: \"Proforma invoice of the transaction \",\n    sorting: false,\n    render: rowData => {\n      var _getFileName;\n\n      return (rowData === null || rowData === void 0 ? void 0 : rowData.proformaInvoiceUrl) ? /*#__PURE__*/React.createElement(HyperLink, {\n        style: {\n          textDecoration: \"underline\",\n          cursor: \"pointer\"\n        },\n        onClick: () => window.open(rowData === null || rowData === void 0 ? void 0 : rowData.proformaInvoiceUrl),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }\n      }, (rowData === null || rowData === void 0 ? void 0 : rowData.proformaInvoiceUrl) ? (_getFileName = getFileName(rowData === null || rowData === void 0 ? void 0 : rowData.proformaInvoiceUrl)) === null || _getFileName === void 0 ? void 0 : _getFileName.split(\".pdf\")[0] : \"Download\") : /*#__PURE__*/React.createElement(Center, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }\n      }, \"-\");\n    }\n  }, {\n    field: \"action\",\n    title: labels[\"table.action\"],\n    sorting: false,\n    render: rowData => /*#__PURE__*/React.createElement(Buttons, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ActionButton, {\n      style: {\n        margin: \"0 10px 0 5px\",\n        width: 80\n      },\n      key: rowData === null || rowData === void 0 ? void 0 : rowData.id,\n      onClick: () => handlePaynow(rowData),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }\n    }, labels[\"table.pay_now\"]), /*#__PURE__*/React.createElement(DeleteButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(HyperLink, {\n      isError: true,\n      onClick: () => deleteProformaConfirmation(rowData),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }\n    }, labels[\"table.delete\"]))),\n    headerStyle: {\n      width: \"150px !important\"\n    }\n  }];\n\n  const deleteProformaConfirmation = rowData => {\n    showAlert({\n      heading: \"Delete Confirmation\",\n      desc: `Are you sure you want to delete this Proforma invoice?`,\n      primaryBtnText: \"Ok\",\n      secondaryBtnText: \"Cancel\",\n      clickSecondarybtn: () => hideAlert(),\n      clickPrimaryBtn: () => {\n        deleteInvoice(rowData);\n        hideAlert();\n      },\n      isOpen: true,\n      descriptionTextStyle: {\n        marginBottom: 30\n      },\n      onDialogClose: () => hideAlert()\n    });\n  };\n\n  const deleteInvoice = async ({\n    id\n  }) => {\n    try {\n      setLoader({\n        state: true,\n        message: \"deleting the Proforma invoice...\"\n      });\n      const result = await CaseService.deleteProforma(id);\n\n      if (result === null || result === void 0 ? void 0 : result.message) {\n        enqueueSnackbar(result === null || result === void 0 ? void 0 : result.message, {\n          variant: \"success\"\n        });\n      }\n    } catch (error) {\n      const message = getErrorMessage(error);\n      enqueueSnackbar(message, {\n        variant: \"error\"\n      });\n    } finally {\n      setLoader({\n        state: false\n      });\n      setTriggerRefresh(true);\n    }\n  };\n\n  const handlePaynow = async rowData => {\n    try {\n      const payload = {\n        paymentId: rowData === null || rowData === void 0 ? void 0 : rowData.id\n      };\n      setLoader({\n        state: true,\n        message: \"Initiating Payment...\"\n      });\n      const res = await CartService.payPerformaInvoice(payload);\n\n      if (res) {\n        setLoader({\n          state: false\n        });\n\n        if ((res === null || res === void 0 ? void 0 : res.status) === \"capturedOffline\" || (res === null || res === void 0 ? void 0 : res.status) === \"captured\") {\n          enqueueSnackbar(\"Payment has already made for this invoice\", {\n            variant: \"error\"\n          });\n          setTriggerRefresh(true);\n        } else {\n          openRazorPay({\n            order_id: res.orderId,\n            name: userObject === null || userObject === void 0 ? void 0 : userObject.name,\n            email: userObject === null || userObject === void 0 ? void 0 : userObject.email,\n            contact: userObject === null || userObject === void 0 ? void 0 : userObject.mobile,\n            handler: capturePayment\n          });\n        }\n      }\n    } catch (error) {\n      const message = getErrorMessage(error);\n      enqueueSnackbar(message, {\n        variant: \"error\"\n      });\n    } finally {\n      setLoader({\n        state: false\n      });\n    }\n  };\n\n  async function capturePayment(rzp_res) {\n    document.body.style.overflow = null;\n\n    try {\n      console.log(rzp_res);\n      setLoader({\n        state: true,\n        message: \"Capturing Payment...\"\n      });\n      const capture_res = await CartService.capture(rzp_res);\n\n      if (capture_res) {\n        enqueueSnackbar(capture_res.message, {\n          variant: \"success\"\n        });\n        setTriggerRefresh(true);\n        setTriggerCount(true);\n      }\n    } catch (error) {\n      const message = getErrorMessage(error);\n      enqueueSnackbar(message, {\n        variant: \"error\"\n      });\n    } finally {\n      setLoader({\n        state: false\n      });\n    }\n  }\n\n  const data = query => new Promise(resolve => {\n    var _query$orderBy;\n\n    let params = {\n      page: query.page + 1,\n      perPage: 10,\n      filter: \"status\"\n    };\n\n    if (query.search) {\n      params.query = query.search;\n    }\n\n    if ((_query$orderBy = query.orderBy) === null || _query$orderBy === void 0 ? void 0 : _query$orderBy.field) {\n      params.sort = query.orderBy.field;\n      params.sortDirection = query.orderDirection;\n    }\n\n    let stringParams = \"\";\n    const filterSting = queryString.stringify({\n      filterValues: [\"proformaGenerated\"]\n    }, {\n      arrayFormat: \"index\"\n    });\n\n    if (!_.isEmpty(params)) {\n      stringParams = `?${queryString.stringify(params)}&${filterSting}`;\n    }\n\n    getOrders(stringParams).then(async result => {\n      if (result) {\n        resolve({\n          data: result.data,\n          page: result.page - 1,\n          total: result.total\n        });\n        setState(result);\n      }\n    }).catch(error => {\n      enqueueSnackbar(getErrorMessage(error), {\n        variant: \"error\"\n      });\n      setState({\n        data: [],\n        lastPage: 1,\n        page: 1,\n        perPage: 10,\n        total: 0\n      });\n      resolve({\n        data: [],\n        page: 0,\n        total: 0\n      });\n    });\n  });\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    className: \"CreateCase\",\n    style: {\n      overflow: \"hidden\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CustomTable, {\n    hidePagination: state.lastPage === 1,\n    pageSize: (state === null || state === void 0 ? void 0 : (_state$data = state.data) === null || _state$data === void 0 ? void 0 : _state$data.length) ? state === null || state === void 0 ? void 0 : (_state$data2 = state.data) === null || _state$data2 === void 0 ? void 0 : _state$data2.length : 10,\n    pluralTitle: labels.proforma_invoice,\n    singularTitle: \"\",\n    columns,\n    data,\n    placeholderText,\n    MTRef,\n    //noToolbar\n    hideFilterBar: true,\n    state: state,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default ProfomaHistory;\nconst Buttons = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-evenly;\n\n  @media (min-width: 780px) {\n    flex-direction: column;\n    align-items: start;\n  }\n`;","map":{"version":3,"sources":["/home/justact/13-12-2021(Frontend Dev)/justact-fe/src/components/internal/ProformaHistory/index.js"],"names":["React","Fragment","useState","useRef","useEffect","Container","TableWrapper","HyperLink","StyledAmount","TopCenter","Center","DeleteButton","_","queryString","CustomTable","CaseService","moment","getErrorMessage","getFileName","parseTimeStamp","useSnackbar","labels","ActionButton","CartService","useRazorPay","useLoader","useUser","useAlert","useCartCount","styled","theme","getOrders","query","response","error","ProfomaHistory","state","setState","openRazorPay","MTRef","enqueueSnackbar","setLoader","placeholderText","userObject","triggerRefresh","setTriggerRefresh","showAlert","hideAlert","setTriggerCount","current","onQueryChange","columns","field","title","tooltip","sorting","render","rowData","id","cellStyle","paddingLeft","textDecoration","cursor","party","name","amount","toFixed","created_at","format","proformaInvoiceUrl","window","open","split","margin","width","handlePaynow","deleteProformaConfirmation","headerStyle","heading","desc","primaryBtnText","secondaryBtnText","clickSecondarybtn","clickPrimaryBtn","deleteInvoice","isOpen","descriptionTextStyle","marginBottom","onDialogClose","message","result","deleteProforma","variant","payload","paymentId","res","payPerformaInvoice","status","order_id","orderId","email","contact","mobile","handler","capturePayment","rzp_res","document","body","style","overflow","console","log","capture_res","capture","data","Promise","resolve","params","page","perPage","filter","search","orderBy","sort","sortDirection","orderDirection","stringParams","filterSting","stringify","filterValues","arrayFormat","isEmpty","then","total","catch","lastPage","length","proforma_invoice","Buttons","div"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useRef, useEffect } from \"react\";\nimport {\n  Container,\n  TableWrapper,\n  HyperLink,\n  StyledAmount,\n  TopCenter,\n  Center,\n  DeleteButton,\n} from \"../PaymentHistory/Styles\";\nimport _ from \"lodash\";\nimport queryString from \"query-string\";\nimport CustomTable from \"../../common/CustomTable/CustomTable\";\nimport CaseService from \"../../../services/CaseService\";\nimport moment from \"moment\";\nimport {\n  getErrorMessage,\n  getFileName,\n  parseTimeStamp,\n} from \"../../../helpers/functions\";\nimport { useSnackbar } from \"notistack\";\nimport labels from \"../../../helpers/labels.json\";\nimport { ActionButton } from \"../../common/Buttons\";\nimport CartService from \"../../../services/CartService\";\nimport useRazorPay from \"../../../hooks/useRazorPay\";\nimport useLoader from \"../../../hooks/useLoader\";\nimport useUser from \"../../../hooks/useUser\";\nimport useAlert from \"../../../hooks/useAlert\";\nimport useCartCount from \"../../../hooks/useCartCount\";\nimport styled from \"styled-components\";\nimport theme from \"../../../assets/theme\";\n\nasync function getOrders(query = \"\") {\n  try {\n    const response = await CaseService.getOrders(query);\n    return { ...response };\n  } catch (error) {\n    throw error;\n  }\n}\n\nconst ProfomaHistory = () => {\n  const [state, setState] = useState({});\n  const openRazorPay = useRazorPay();\n  const MTRef = useRef();\n  const { enqueueSnackbar } = useSnackbar();\n  const { setLoader } = useLoader();\n  const placeholderText = \"Search Invoice\";\n  const { userObject } = useUser();\n  const [triggerRefresh, setTriggerRefresh] = useState(false);\n  const { showAlert, hideAlert } = useAlert();\n  const { setTriggerCount } = useCartCount();\n\n  useEffect(() => {\n    if (triggerRefresh) {\n      MTRef.current.onQueryChange(MTRef?.current?.state?.query);\n      setTriggerRefresh(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [triggerRefresh]);\n\n  const columns = [\n    {\n      field: \"id\",\n      title: labels[\"table.order_id\"],\n      tooltip: \"Payment order identifier\",\n      sorting: true,\n      render: (rowData) => (\n        <HyperLink>\n          <TopCenter>{rowData?.id}</TopCenter>\n        </HyperLink>\n      ),\n      cellStyle: {\n        paddingLeft: 32,\n      },\n    },\n    {\n      field: \"id\",\n      title: labels[\"table.profoma_invoice_id\"],\n      sorting: true,\n      render: (rowData) => (\n        <HyperLink\n          style={{\n            textDecoration: \"none\",\n            cursor: \"inherit\",\n          }}\n        >\n          {rowData?.id}\n        </HyperLink>\n      ),\n    },\n    {\n      field: \"parties.name\",\n      title: labels[\"table.party_name\"],\n      sorting: false,\n      render: (rowData) => rowData?.party?.name,\n    },\n    {\n      field: \"amount\",\n      title: labels[\"table.amount\"],\n      sorting: false,\n      render: (rowData) => (\n        <StyledAmount>INR {rowData?.amount?.toFixed(2)}</StyledAmount>\n      ),\n    },\n    {\n      field: \"created_at\",\n      title: labels[\"table.date\"],\n      tooltip: \"Date of transaction\",\n      sorting: true,\n      render: (rowData) => (\n        <>{moment(parseTimeStamp(rowData?.created_at)).format(\"DD/MM/YYYY\")}</>\n      ),\n    },\n    {\n      field: \"invoiceUrl\",\n      title: labels[\"table.proforma_invoice\"],\n      tooltip: \"Proforma invoice of the transaction \",\n      sorting: false,\n\n      render: (rowData) =>\n        rowData?.proformaInvoiceUrl ? (\n          <HyperLink\n            style={{ textDecoration: \"underline\", cursor: \"pointer\" }}\n            onClick={() => window.open(rowData?.proformaInvoiceUrl)}\n          >\n            {rowData?.proformaInvoiceUrl\n              ? getFileName(rowData?.proformaInvoiceUrl)?.split(\".pdf\")[0]\n              : \"Download\"}\n          </HyperLink>\n        ) : (\n          <Center>-</Center>\n        ),\n    },\n    {\n      field: \"action\",\n      title: labels[\"table.action\"],\n      sorting: false,\n      render: (rowData) => (\n        <Buttons>\n          <ActionButton\n            style={{ margin: \"0 10px 0 5px\", width: 80 }}\n            key={rowData?.id}\n            onClick={() => handlePaynow(rowData)}\n          >\n            {labels[\"table.pay_now\"]}\n          </ActionButton>\n          <DeleteButton>\n            <HyperLink\n              isError\n              onClick={() => deleteProformaConfirmation(rowData)}\n            >\n              {labels[\"table.delete\"]}\n            </HyperLink>\n          </DeleteButton>\n        </Buttons>\n      ),\n      headerStyle: {\n        width: \"150px !important\",\n      },\n    },\n  ];\n\n  const deleteProformaConfirmation = (rowData) => {\n    showAlert({\n      heading: \"Delete Confirmation\",\n      desc: `Are you sure you want to delete this Proforma invoice?`,\n      primaryBtnText: \"Ok\",\n      secondaryBtnText: \"Cancel\",\n      clickSecondarybtn: () => hideAlert(),\n      clickPrimaryBtn: () => {\n        deleteInvoice(rowData);\n        hideAlert();\n      },\n      isOpen: true,\n      descriptionTextStyle: {\n        marginBottom: 30,\n      },\n      onDialogClose: () => hideAlert(),\n    });\n  };\n\n  const deleteInvoice = async ({ id }) => {\n    try {\n      setLoader({ state: true, message: \"deleting the Proforma invoice...\" });\n      const result = await CaseService.deleteProforma(id);\n      if (result?.message) {\n        enqueueSnackbar(result?.message, {\n          variant: \"success\",\n        });\n      }\n    } catch (error) {\n      const message = getErrorMessage(error);\n      enqueueSnackbar(message, {\n        variant: \"error\",\n      });\n    } finally {\n      setLoader({ state: false });\n      setTriggerRefresh(true);\n    }\n  };\n\n  const handlePaynow = async (rowData) => {\n    try {\n      const payload = {\n        paymentId: rowData?.id,\n      };\n      setLoader({ state: true, message: \"Initiating Payment...\" });\n      const res = await CartService.payPerformaInvoice(payload);\n      if (res) {\n        setLoader({ state: false });\n        if (res?.status === \"capturedOffline\" || res?.status === \"captured\") {\n          enqueueSnackbar(\"Payment has already made for this invoice\", {\n            variant: \"error\",\n          });\n          setTriggerRefresh(true);\n        } else {\n          openRazorPay({\n            order_id: res.orderId,\n            name: userObject?.name,\n            email: userObject?.email,\n            contact: userObject?.mobile,\n            handler: capturePayment,\n          });\n        }\n      }\n    } catch (error) {\n      const message = getErrorMessage(error);\n      enqueueSnackbar(message, {\n        variant: \"error\",\n      });\n    } finally {\n      setLoader({ state: false });\n    }\n  };\n\n  async function capturePayment(rzp_res) {\n    document.body.style.overflow = null;\n    try {\n      console.log(rzp_res);\n      setLoader({ state: true, message: \"Capturing Payment...\" });\n      const capture_res = await CartService.capture(rzp_res);\n      if (capture_res) {\n        enqueueSnackbar(capture_res.message, {\n          variant: \"success\",\n        });\n        setTriggerRefresh(true);\n        setTriggerCount(true);\n      }\n    } catch (error) {\n      const message = getErrorMessage(error);\n      enqueueSnackbar(message, {\n        variant: \"error\",\n      });\n    } finally {\n      setLoader({ state: false });\n    }\n  }\n\n  const data = (query) =>\n    new Promise((resolve) => {\n      let params = {\n        page: query.page + 1,\n        perPage: 10,\n        filter: \"status\",\n      };\n      if (query.search) {\n        params.query = query.search;\n      }\n      if (query.orderBy?.field) {\n        params.sort = query.orderBy.field;\n        params.sortDirection = query.orderDirection;\n      }\n      let stringParams = \"\";\n      const filterSting = queryString.stringify(\n        { filterValues: [\"proformaGenerated\"] },\n        { arrayFormat: \"index\" }\n      );\n      if (!_.isEmpty(params)) {\n        stringParams = `?${queryString.stringify(params)}&${filterSting}`;\n      }\n      getOrders(stringParams)\n        .then(async (result) => {\n          if (result) {\n            resolve({\n              data: result.data,\n              page: result.page - 1,\n              total: result.total,\n            });\n            setState(result);\n          }\n        })\n        .catch((error) => {\n          enqueueSnackbar(getErrorMessage(error), {\n            variant: \"error\",\n          });\n          setState({ data: [], lastPage: 1, page: 1, perPage: 10, total: 0 });\n          resolve({\n            data: [],\n            page: 0,\n            total: 0,\n          });\n        });\n    });\n\n  return (\n    <Fragment>\n      <Container className=\"CreateCase\" style={{ overflow: \"hidden\" }}>\n        <TableWrapper>\n          <CustomTable\n            hidePagination={state.lastPage === 1}\n            pageSize={state?.data?.length ? state?.data?.length : 10}\n            pluralTitle={labels.proforma_invoice}\n            singularTitle=\"\"\n            {...{\n              columns,\n              data,\n              placeholderText,\n              MTRef,\n            }}\n            //noToolbar\n            hideFilterBar\n            state={state}\n          />\n        </TableWrapper>\n      </Container>\n    </Fragment>\n  );\n};\n\nexport default ProfomaHistory;\n\nconst Buttons = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-evenly;\n\n  @media (min-width: 780px) {\n    flex-direction: column;\n    align-items: start;\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}